key,text_wo_stopfreq,text_stemmed,NEWcolumn
HIVE-23966,minor compaction major iow result directories look like basezv delta yv deletedelta yv basezv delta z yv deletedelta z yv issues causes example running insert overwrite minor compaction major compaction fail following error noformat found equal splits orcsplit hdfs warehouse tablespace managed hive bucketed delta v bucket start length isoriginal false filelength hasfooter false hasbase true deltas orcsplit hdfs warehouse tablespace managed hive bucketed base bucket start length isoriginal false filelength hasfooter false hasbase true deltas noformat fail noformat caused org apache hadoop hive ql metadata hiveexception wrong sort order acid rows detected rows org apache hadoop hive ql udf generic genericudfvalidateacidsortorder writeidrowid b org apache hadoop hive ql udf generic genericudfvalidateacidsortorder writeidrowid f bd f noformat minor query based compaction always results delta dirs minwriteid,min compact maj iow result direct look lik basezv delt yv deletedelt yv basezv delt z yv deletedelt z yv issu caus exampl run insert overwrit min compact maj compact fail follow er noform found eq splits orcsplit hdfs wareh tablespac man hiv bucket delt v bucket start leng isorigin fals fileleng hasfoot fals hasbas tru delta orcsplit hdfs wareh tablespac man hiv bucket bas bucket start leng isorigin fals fileleng hasfoot fals hasbas tru delta noform fail noform caus org apach hadoop hiv ql metadat hiveexceiv wrong sort ord acid row detect row org apach hadoop hiv ql udf gen genericudfvalidateacidsortord writeidrowid b org apach hadoop hiv ql udf gen genericudfvalidateacidsortord writeidrowid f bd f noform min query bas compact alway result delt dir minwriteid,SBR
HIVE-23963,following tpc ds queries cboquery q cboquery q query q query q fail metastore partitioned tpc ds tb dataset stacktraces cboquery cboquery show problem originates applying hivecardinalitypreservingjoinrule unsupportedoperationexception queries applying hivecardinalitypreservingjoinrule,follow tpc ds query cboquery q cboquery q query q query q fail metast partit tpc ds tb dataset stacktrac cboquery cboquery show problem origin apply hivecardinalitypreservingjoinr unsupportedoperationexceiv query apply hivecardinalitypreservingjoinr,NSBR
HIVE-23952,screenshot png width height https github com apache hive blob master ql src java org apache hadoop hive ql exec vector vectorgroupbyoperator java code java aggregationbuffer allocateaggregationbuffer code flushed aggregation buffers could reused instead allocating everytime reduce gc pressure reuse vectoraggregationbuffer reduce gc pressure vectorgroupbyoperator,screenshot png wid height https github com apach hiv blob mast ql src jav org apach hadoop hiv ql exec vect vectorgroupbyop jav cod jav aggregationbuff allocateaggregationbuff cod flush aggreg buff could reus instead alloc everytim reduc gc press reus vectoraggregationbuff reduc gc press vectorgroupbyop,NSBR
HIVE-23947,llap relies hostaffinitysplitlocationprovider route splits always llap daemons consistent split data among nodes gain good hit ratio thus good performance text files almost never granted hostaffinitysplitlocationprovider never used hs set cache affinity flag job conf text inputformat content compile launched tez rely hdfs location information route splits therefore tasks executor nodes location information might good overlap actual daemons case tez mostly choose executors random way turn result hit ratio hardly reaching time run query disk read still occur content gets populated daemons running query tens hundreds times causing poor performance cache affinity unset text files read llap,llap rely hostaffinitysplitlocationprovid rout splits alway llap daemon consist split dat among nod gain good hit ratio thu good perform text fil almost nev grant hostaffinitysplitlocationprovid nev us hs set cach affin flag job conf text inputform cont compil launch tez rely hdfs loc inform rout splits theref task execut nod loc inform might good overlap act daemon cas tez most choos execut random way turn result hit ratio hard reach tim run query disk read stil occ cont get pop daemon run query ten hundr tim caus poor perform cach affin unset text fil read llap,SBR
HIVE-23929,using nifi stream data hive tables happen newly created partitions different owner table running compaction partitions fail code java org apache hadoop security accesscontrolexception permission denied user testuser access execute inode warehouse tablespace managed hive hive hadoop drwx code run compaction partition owner,us nif stream dat hiv tabl hap new cre partit diff own tabl run compact partit fail cod jav org apach hadoop sec accesscontrolexceiv permit deny us testus access execut inod wareh tablespac man hiv hiv hadoop drwx cod run compact partit own,SBR
HIVE-23917,follow https issues apache org jira browse hive case depending data large number entries aggregation map exceed average access could prevent flushing limit adding reset evicted entries would help preventing reset key access count eviction vectorgroupbyoperator,follow https issu apach org jir brows hiv cas depend dat larg numb entry aggreg map excess av access could prev flush limit ad reset evict entry would help prev reset key access count evict vectorgroupbyop,SBR
HIVE-23911,code create table col int col int select col count distinct col group col count distinct col code code error c c acf ab ed e main parse calciteplanner cbo failed skipping cbo org apache hadoop hive ql optimizer calcite calcitesemanticexception distinct without aggregation org apache hadoop hive ql parse calciteplanner calciteplanneraction internalgenselectlogicalplan calciteplanner java hive exec snapshot jar snapshot org apache hadoop hive ql parse calciteplanner calciteplanneraction genselectlogicalplan calciteplanner java hive exec snapshot jar snapshot org apache hadoop hive ql parse calciteplanner calciteplanneraction genlogicalplan calciteplanner java hive exec snapshot jar snapshot org apache hadoop hive ql parse calciteplanner calciteplanneraction apply calciteplanner java hive exec snapshot jar snapshot org apache hadoop hive ql parse calciteplanner calciteplanneraction apply calciteplanner java hive exec snapshot jar snapshot org apache calcite tools frameworks lambda withplanner frameworks java hive exec snapshot jar snapshot org apache calcite prepare calciteprepareimpl perform calciteprepareimpl java hive exec snapshot jar snapshot org apache calcite tools frameworks withprepare frameworks java hive exec snapshot jar snapshot org apache calcite tools frameworks withplanner frameworks java hive exec snapshot jar snapshot org apache hadoop hive ql parse calciteplanner logicalplan calciteplanner java hive exec snapshot jar snapshot org apache hadoop hive ql parse calciteplanner genoptree calciteplanner java hive exec snapshot jar snapshot org apache hadoop hive ql parse semanticanalyzer analyzeinternal semanticanalyzer java hive exec snapshot jar snapshot org apache hadoop hive ql parse calciteplanner analyzeinternal calciteplanner java hive exec snapshot jar snapshot org apache hadoop hive ql parse basesemanticanalyzer analyze basesemanticanalyzer java hive exec snapshot jar snapshot org apache hadoop hive ql compiler analyze compiler java hive exec snapshot jar snapshot org apache hadoop hive ql compiler compile compiler java hive exec snapshot jar snapshot org apache hadoop hive ql driver compile driver java hive exec snapshot jar snapshot org apache hadoop hive ql driver compileinternal driver java hive exec snapshot jar snapshot org apache hadoop hive ql driver compileandrespond driver java hive exec snapshot jar snapshot org apache hadoop hive ql driver compileandrespond driver java hive exec snapshot jar snapshot org apache hadoop hive ql reexec reexecdriver compileandrespond reexecdriver java hive exec snapshot jar snapshot org apache hadoop hive ql reexec reexecdriver run reexecdriver java hive exec snapshot jar snapshot org apache hadoop hive cli clidriver processlocalcmd clidriver java hive cli snapshot jar org apache hadoop hive cli clidriver processcmd clidriver java hive cli snapshot jar org apache hadoop hive cli clidriver processcmd clidriver java hive cli snapshot jar org apache hadoop hive cli clidriver processline clidriver java hive cli snapshot jar org apache hadoop hive cli clidriver processline clidriver java hive cli snapshot jar org apache hadoop hive ql qtestutil executeclientinternal qtestutil java hive util snapshot jar snapshot org apache hadoop hive ql qtestutil executeclient qtestutil java hive util snapshot jar snapshot org apache hadoop hive cli control coreclidriver runtest coreclidriver java hive util snapshot jar snapshot org apache hadoop hive cli control cliadapter runtest cliadapter java hive util snapshot jar snapshot org apache hadoop hive cli testminillaplocalclidriver testclidriver testminillaplocalclidriver java test classes sun reflect nativemethodaccessorimpl invoke native method sun reflect nativemethodaccessorimpl invoke nativemethodaccessorimpl java sun reflect delegatingmethodaccessorimpl invoke delegatingmethodaccessorimpl java java lang reflect method invoke method java org junit runners model frameworkmethod runreflectivecall frameworkmethod java junit jar org junit internal runners model reflectivecallable run reflectivecallable java junit jar org junit runners model frameworkmethod invokeexplosively frameworkmethod java junit jar org junit internal runners statements invokemethod evaluate invokemethod java junit jar org apache hadoop hive cli control cliadapter evaluate cliadapter java hive util snapshot jar snapshot org junit runners parentrunner evaluate parentrunner java junit jar org junit runners blockjunit classrunner evaluate blockjunit classrunner java junit jar org junit runners parentrunner runleaf parentrunner java junit jar org junit runners blockjunit classrunner runchild blockjunit classrunner java junit jar org junit runners blockjunit classrunner runchild blockjunit classrunner java junit jar org junit runners parentrunner run parentrunner java junit jar org junit runners parentrunner schedule parentrunner java junit jar org junit runners parentrunner runchildren parentrunner java junit jar org junit runners parentrunner access parentrunner java junit jar org junit runners parentrunner evaluate parentrunner java junit jar org junit runners parentrunner run parentrunner java junit jar org junit runners suite runchild suite java junit jar org junit runners suite runchild suite java junit jar org junit runners parentrunner run parentrunner java junit jar org junit runners parentrunner schedule parentrunner java junit jar org junit runners parentrunner runchildren parentrunner java junit jar org junit runners parentrunner access parentrunner java junit jar org junit runners parentrunner evaluate parentrunner java junit jar org apache hadoop hive cli control cliadapter evaluate cliadapter java hive util snapshot jar snapshot org junit rules runrules evaluate runrules java junit jar org junit runners parentrunner evaluate parentrunner java junit jar org junit runners parentrunner run parentrunner java junit jar org apache maven surefire junit junit provider execute junit provider java surefire junit jar org apache maven surefire junit junit provider executewithrerun junit provider java surefire junit jar org apache maven surefire junit junit provider executetestset junit provider java surefire junit jar org apache maven surefire junit junit provider invoke junit provider java surefire junit jar org apache maven surefire booter forkedbooter runsuitesinprocess forkedbooter java surefire booter jar org apache maven surefire booter forkedbooter execute forkedbooter java surefire booter jar org apache maven surefire booter forkedbooter run forkedbooter java surefire booter jar org apache maven surefire booter forkedbooter main forkedbooter java surefire booter jar code cbo fails query distinct function clause,cod cre tabl col int col int select col count distinct col group col count distinct col cod cod er c c acf ab ed e main pars calciteplan cbo fail skip cbo org apach hadoop hiv ql optim calcit calcitesemanticexceiv distinct without aggreg org apach hadoop hiv ql pars calciteplan calciteplanneract internalgenselectlogicalpl calciteplan jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars calciteplan calciteplanneract genselectlogicalpl calciteplan jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars calciteplan calciteplanneract genlogicalpl calciteplan jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars calciteplan calciteplanneract apply calciteplan jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars calciteplan calciteplanneract apply calciteplan jav hiv exec snapshot jar snapshot org apach calcit tool framework lambd withplan framework jav hiv exec snapshot jar snapshot org apach calcit prep calciteprepareimpl perform calciteprepareimpl jav hiv exec snapshot jar snapshot org apach calcit tool framework withprep framework jav hiv exec snapshot jar snapshot org apach calcit tool framework withplan framework jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars calciteplan logicalpl calciteplan jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars calciteplan genopt calciteplan jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars semanticanalys analyzeintern semanticanalys jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars calciteplan analyzeintern calciteplan jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars basesemanticanalys analys basesemanticanalys jav hiv exec snapshot jar snapshot org apach hadoop hiv ql compil analys compil jav hiv exec snapshot jar snapshot org apach hadoop hiv ql compil compil compil jav hiv exec snapshot jar snapshot org apach hadoop hiv ql driv compil driv jav hiv exec snapshot jar snapshot org apach hadoop hiv ql driv compileintern driv jav hiv exec snapshot jar snapshot org apach hadoop hiv ql driv compileandrespond driv jav hiv exec snapshot jar snapshot org apach hadoop hiv ql driv compileandrespond driv jav hiv exec snapshot jar snapshot org apach hadoop hiv ql reexec reexecdr compileandrespond reexecdr jav hiv exec snapshot jar snapshot org apach hadoop hiv ql reexec reexecdr run reexecdr jav hiv exec snapshot jar snapshot org apach hadoop hiv cli clidr processlocalcmd clidr jav hiv cli snapshot jar org apach hadoop hiv cli clidr processcmd clidr jav hiv cli snapshot jar org apach hadoop hiv cli clidr processcmd clidr jav hiv cli snapshot jar org apach hadoop hiv cli clidr processlin clidr jav hiv cli snapshot jar org apach hadoop hiv cli clidr processlin clidr jav hiv cli snapshot jar org apach hadoop hiv ql qtestutil executeclientintern qtestutil jav hiv util snapshot jar snapshot org apach hadoop hiv ql qtestutil executec qtestutil jav hiv util snapshot jar snapshot org apach hadoop hiv cli control coreclidr runtest coreclidr jav hiv util snapshot jar snapshot org apach hadoop hiv cli control cliadapt runtest cliadapt jav hiv util snapshot jar snapshot org apach hadoop hiv cli testminillaplocalclidr testclidr testminillaplocalclidr jav test class sun reflect nativemethodaccessorimpl invok nat method sun reflect nativemethodaccessorimpl invok nativemethodaccessorimpl jav sun reflect delegatingmethodaccessorimpl invok delegatingmethodaccessorimpl jav jav lang reflect method invok method jav org junit run model frameworkmethod runreflectivecal frameworkmethod jav junit jar org junit intern run model reflectivecal run reflectivecal jav junit jar org junit run model frameworkmethod invokeexplod frameworkmethod jav junit jar org junit intern run stat invokemethod evalu invokemethod jav junit jar org apach hadoop hiv cli control cliadapt evalu cliadapt jav hiv util snapshot jar snapshot org junit run parentrun evalu parentrun jav junit jar org junit run blockjunit classrun evalu blockjunit classrun jav junit jar org junit run parentrun runleaf parentrun jav junit jar org junit run blockjunit classrun runchild blockjunit classrun jav junit jar org junit run blockjunit classrun runchild blockjunit classrun jav junit jar org junit run parentrun run parentrun jav junit jar org junit run parentrun schedule parentrun jav junit jar org junit run parentrun runchildr parentrun jav junit jar org junit run parentrun access parentrun jav junit jar org junit run parentrun evalu parentrun jav junit jar org junit run parentrun run parentrun jav junit jar org junit run suit runchild suit jav junit jar org junit run suit runchild suit jav junit jar org junit run parentrun run parentrun jav junit jar org junit run parentrun schedule parentrun jav junit jar org junit run parentrun runchildr parentrun jav junit jar org junit run parentrun access parentrun jav junit jar org junit run parentrun evalu parentrun jav junit jar org apach hadoop hiv cli control cliadapt evalu cliadapt jav hiv util snapshot jar snapshot org junit rul runr evalu runr jav junit jar org junit run parentrun evalu parentrun jav junit jar org junit run parentrun run parentrun jav junit jar org apach mav surefir junit junit provid execut junit provid jav surefir junit jar org apach mav surefir junit junit provid executewithrerun junit provid jav surefir junit jar org apach mav surefir junit junit provid executetestset junit provid jav surefir junit jar org apach mav surefir junit junit provid invok junit provid jav surefir junit jar org apach mav surefir boot forkedboot runsuitesinprocess forkedboot jav surefir boot jar org apach mav surefir boot forkedboot execut forkedboot jav surefir boot jar org apach mav surefir boot forkedboot run forkedboot jav surefir boot jar org apach mav surefir boot forkedboot main forkedboot jav surefir boot jar cod cbo fail query distinct funct claus,SBR
HIVE-23898,code create table int code code error testminillaplocalclidriver testclidriver client execution failed error code running create table fname test q see ql target tmp log hive log itests qtest target tmp log hive log check ql target surefire reports itests qtest target surefire reports specific test cases logs org apache hadoop hive ql parse parseexception line character eof supported code code create table int code code error failures error testminillaplocalclidriver testclidriver client execution failed error code running create table int fname test q see ql target tmp log hive log itests qtest target tmp log hive log check ql target surefire reports itests qtest target surefire reports specific test cases logs org apache hadoop hive ql parse parseexception line extraneous input expecting eof near eof code query fails identifier contains double quotes semicolon char,cod cre tabl int cod cod er testminillaplocalclidr testclidr cli execut fail er cod run cre tabl fnam test q see ql target tmp log hiv log itest qtest target tmp log hiv log check ql target surefir report itest qtest target surefir report spec test cas log org apach hadoop hiv ql pars parseexceiv lin charact eof support cod cod cre tabl int cod cod er fail er testminillaplocalclidr testclidr cli execut fail er cod run cre tabl int fnam test q see ql target tmp log hiv log itest qtest target tmp log hiv log check ql target surefir report itest qtest target surefir report spec test cas log org apach hadoop hiv ql pars parseexceiv lin ext input expect eof near eof cod query fail ident contain doubl quot semicolon char,NSBR
HIVE-23894,incase query cancel running tasks interrupted teztask shutdown flag set code required retried incase task shutdown https github com apache hive blob master ql src java org apache hadoop hive ql exec tez teztask java l l submitdag retried incase query cancel,incas query cancel run task interrupt teztask shutdown flag set cod requir retry incas task shutdown https github com apach hiv blob mast ql src jav org apach hadoop hiv ql exec tez teztask jav l l submitd retry incas query cancel,NSBR
HIVE-23889,hive uses new writeroptions instead field orcrecordupdater https github com apache hive commit f ba f b fcd f b fcd dec diff bb e fd b cr r scenario overwrite creates empty bucket file fine intention patch creates invalid schema code create table testtable cdaid int cdarunid varchar cdaloadts timestamp globalpartyid string partitioned cdadate int cdajobname varchar clustered cdaid buckets stored orc insert overwrite table testtable partition cdadate cdajobname corebase select cdaid cdarunid cdarunid null cdaloadts globalpartyid globalpartyid union select cdaid cdarunid cdarunid null cdaloadts globalpartyid globalpartyid alter table testtable add columns groupid string cascade insert overwrite table testtable partition cdadate cdajobname corebase select cdaid cdarunid cdarunid null cdaloadts globalpartyid globalpartyid groupid groupid code hive new empty bucket shows schema orc dump code type struct col int col varchar col timestamp col string col string code instead code type struct operation int originaltransaction bigint bucket int rowid bigint currenttransaction bigint row struct cdaid int cdarunid varchar cdaloadts timestamp globalpartyid string groupid string code could lead problems later hive tries look file split generationempty bucket files inserted invalid schema hive,hiv us new writeropt instead field orcrecordupd https github com apach hiv commit f ba f b fcd f b fcd dec diff bb e fd b cr r scenario overwrit cre empty bucket fil fin int patch cre invalid schema cod cre tabl test cdaid int cdarunid varch cdaloadt timestamp globalpartyid string partit cdad int cdajobnam varch clust cdaid bucket stor orc insert overwrit tabl test partit cdad cdajobnam corebas select cdaid cdarunid cdarunid nul cdaloadt globalpartyid globalpartyid un select cdaid cdarunid cdarunid nul cdaloadt globalpartyid globalpartyid alt tabl test ad column groupid string cascad insert overwrit tabl test partit cdad cdajobnam corebas select cdaid cdarunid cdarunid nul cdaloadt globalpartyid globalpartyid groupid groupid cod hiv new empty bucket show schema orc dump cod typ struct col int col varch col timestamp col string col string cod instead cod typ struct op int originaltransact bigint bucket int rowid bigint currenttransact bigint row struct cdaid int cdarunid varch cdaloadt timestamp globalpartyid string groupid string cod could lead problem lat hiv tri look fil split generationempty bucket fil insert invalid schema hiv,SBR
HIVE-23873,scenario hive table schema table oracle however query table data fails npe trace code caused java io ioexception java lang nullpointerexception org apache hadoop hive ql exec fetchoperator getnextrow fetchoperator java hive exec jar org apache hadoop hive ql exec fetchoperator pushrow fetchoperator java hive exec jar org apache hadoop hive ql exec fetchtask fetch fetchtask java hive exec jar org apache hadoop hive ql driver getresults driver java hive exec jar org apache hadoop hive ql reexec reexecdriver getresults reexecdriver java hive exec jar org apache hive service cli operation sqloperation getnextrowset sqloperation java hive service jar caused java lang nullpointerexception org apache hive storage jdbc jdbcserde deserialize jdbcserde java hive jdbc handler jar org apache hadoop hive ql exec fetchoperator getnextrow fetchoperator java hive exec jar org apache hadoop hive ql exec fetchoperator pushrow fetchoperator java hive exec jar org apache hadoop hive ql exec fetchtask fetch fetchtask java hive exec jar org apache hadoop hive ql driver getresults driver java hive exec jar org apache hadoop hive ql reexec reexecdriver getresults reexecdriver java hive exec jar org apache hive service cli operation sqloperation getnextrowset sqloperation java hive service jar code problem appears column names oracle upper case since hive table column names forced store lowercase creation user runs npe error fetching data deserializing data input consists column names lower case fails get value https github com apache hive blob rel release jdbc handler src main java org apache hive storage jdbc jdbcserde java l code rowval objectwritable value get code log snio code info ed ec aee e hiveserver handler pool thread dao genericjdbcdatabaseaccessor query execute select testhivejdbcstorage info ed ec aee e hiveserver handler pool thread jdbc jdbcserde columnkey id info ed ec aee e hiveserver handler pool thread jdbc jdbcserde blob value fname ow class class java lang string value name id ow class class java lang integer value code simple reproducer case create table oracle code create table testhivejdbcstorage id int fname varchar code insert dummy data code insert testhivejdbcstorage values name code create jdbcstoragehandler table hive code create external table default testhivejdbcstoragehivetbl id int fname varchar stored org apache hive storage jdbc jdbcstoragehandler tblproperties hive sql database type oracle hive sql jdbc driver oracle jdbc oracledriver hive sql jdbc url jdbc oracle thin orachehostname xe hive sql dbcp username chiran hive sql dbcp password supersecurepassword hive sql table testhivejdbcstorage hive sql dbcp maxactive code query hive table fails npe code select default testhivejdbcstoragehivetbl info compiling command queryid hive cd f e db bc select default testhivejdbcstoragehivetbl info semantic analysis completed retrial false info returning hive schema schema fieldschemas fieldschema name testhivejdbcstoragehivetbl id type int comment null fieldschema name testhivejdbcstoragehivetbl fname type varchar comment null properties null info completed compiling command queryid hive cd f e db bc time taken seconds info executing command queryid hive cd f e db bc select default testhivejdbcstoragehivetbl info completed executing command queryid hive cd f e db bc time taken seconds info ok error java io ioexception java lang nullpointerexception state code code assuming repercussions convert column names lowercase fetched database query pointing table jdbcstoragehandler attaching patch case querying hive jdbcstoragehandler table fails npe cbo,scenario hiv tabl schema tabl orac howev query tabl dat fail npe trac cod caus jav io ioexceiv jav lang nullpointerexceiv org apach hadoop hiv ql exec fetchop getnextrow fetchop jav hiv exec jar org apach hadoop hiv ql exec fetchop pushrow fetchop jav hiv exec jar org apach hadoop hiv ql exec fetchtask fetch fetchtask jav hiv exec jar org apach hadoop hiv ql driv getresult driv jav hiv exec jar org apach hadoop hiv ql reexec reexecdr getresult reexecdr jav hiv exec jar org apach hiv serv cli op sqloperation getnextrowset sqloperation jav hiv serv jar caus jav lang nullpointerexceiv org apach hiv stor jdbc jdbcserde des jdbcserde jav hiv jdbc handl jar org apach hadoop hiv ql exec fetchop getnextrow fetchop jav hiv exec jar org apach hadoop hiv ql exec fetchop pushrow fetchop jav hiv exec jar org apach hadoop hiv ql exec fetchtask fetch fetchtask jav hiv exec jar org apach hadoop hiv ql driv getresult driv jav hiv exec jar org apach hadoop hiv ql reexec reexecdr getresult reexecdr jav hiv exec jar org apach hiv serv cli op sqloperation getnextrowset sqloperation jav hiv serv jar cod problem appear column nam orac up cas sint hiv tabl column nam forc stor lowercas cre us run npe er fetch dat des dat input consist column nam low cas fail get valu https github com apach hiv blob rel releas jdbc handl src main jav org apach hiv stor jdbc jdbcserde jav l cod rowv objectwrit valu get cod log snio cod info ed ec ae e hiveserv handl pool thread dao genericjdbcdatabaseaccess query execut select testhivejdbcst info ed ec ae e hiveserv handl pool thread jdbc jdbcserde columnkey id info ed ec ae e hiveserv handl pool thread jdbc jdbcserde blob valu fnam ow class class jav lang string valu nam id ow class class jav lang integ valu cod simpl reproduc cas cre tabl orac cod cre tabl testhivejdbcst id int fnam varch cod insert dummy dat cod insert testhivejdbcst valu nam cod cre jdbcstoragehandler tabl hiv cod cre extern tabl default testhivejdbcstoragehivetbl id int fnam varch stor org apach hiv stor jdbc jdbcstoragehandler tblproperties hiv sql databas typ orac hiv sql jdbc driv orac jdbc oracledr hiv sql jdbc url jdbc orac thin orachehostnam xe hiv sql dbcp usernam chir hiv sql dbcp password supersecurepassword hiv sql tabl testhivejdbcst hiv sql dbcp maxact cod query hiv tabl fail npe cod select default testhivejdbcstoragehivetbl info compil command queryid hiv cd f e db bc select default testhivejdbcstoragehivetbl info sem analys complet ret fals info return hiv schema schema fieldschema fieldschem nam testhivejdbcstoragehivetbl id typ int com nul fieldschem nam testhivejdbcstoragehivetbl fnam typ varch com nul property nul info complet compil command queryid hiv cd f e db bc tim tak second info execut command queryid hiv cd f e db bc select default testhivejdbcstoragehivetbl info complet execut command queryid hiv cd f e db bc tim tak second info ok er jav io ioexceiv jav lang nullpointerexceiv stat cod cod assum repercuss convert column nam lowercas fetch databas query point tabl jdbcstoragehandler attach patch cas query hiv jdbcstoragehandler tabl fail npe cbo,SBR
HIVE-23871,hive optimizes storagedescriptor conversion part objectstore skipping particular table properties like skewinfo bucketcols ordering etc however transactional tables acid causing micromanaged tables behave abnormally micromanaged insertonly tables may miss needed properties storage desc params may define lines delimited like example repro issue code java create transactional table delimtabletrans id int name string safety int row format delimited fields terminated stored textfile load data inpath table overwrite table delimtabletrans describe formatted delimtabletrans select delimtabletrans code result code java table type managedtable table parameters bucketingversion numfiles numrows rawdatasize totalsize transactional true transactionalproperties insertonly masked pattern storage information serde library org apache hadoop hive serde lazy lazysimpleserde inputformat org apache hadoop mapred textinputformat outputformat org apache hadoop hive ql io hiveignorekeytextoutputformat compressed num buckets bucket columns sort columns prehook query select delimtabletrans prehook type query prehook input default delimtabletrans masked pattern posthook query select delimtabletrans posthook type query posthook input default delimtabletrans masked pattern null null null null null null null null null null null null null null null null null null code objectstore properly handle micromanaged table properties,hiv optim storagedescrib convert part objectst skip particul tabl property lik skewinfo bucketcol ord etc howev transact tabl acid caus microm tabl behav abnorm microm inserton tabl may miss nee property stor desc param may defin lin delimit lik exampl repro issu cod jav cre transact tabl delimtablet id int nam string saf int row form delimit field termin stor textfil load dat inpa tabl overwrit tabl delimtablet describ format delimtablet select delimtablet cod result cod jav tabl typ managedt tabl paramet bucketingvert numfil numrow rawdatas totals transact tru transactionalproperty inserton mask pattern stor inform serd libr org apach hadoop hiv serd lazy lazysimpleserd inputform org apach hadoop mapr textinputform outputform org apach hadoop hiv ql io hiveignorekeytextoutputform compress num bucket bucket column sort column prehook query select delimtablet prehook typ query prehook input default delimtablet mask pattern posthook query select delimtablet posthook typ query posthook input default delimtablet mask pattern nul nul nul nul nul nul nul nul nul nul nul nul nul nul nul nul nul nul cod objectst prop handl microm tabl property,SBR
HIVE-23868,hive removed support preceding following window function specifications restore support converting preceding following current row query plan windowing function spec support preceeding following,hiv remov support prec follow window funct spec rest support convert prec follow cur row query plan window funct spec support precess follow,NSBR
HIVE-23857,hivepasrser g extended anymore adding tokens leads code large problem compiled code size would exceed bytes real solution would introduce anltr meantime fixed moving tokennames variable separate file fix hiveparser code large problem,hivepasrs g extend anym ad tok lead cod larg problem compil cod siz would excess byt real solv would introduc anlt meantim fix mov tokennam vary sep fil fix hivepars cod larg problem,NSBR
HIVE-23855,http ci hive apache org job hive precommit job master testqueryshutdownhooks flaky,http ci hiv apach org job hiv precommit job mast testqueryshutdownhook flaky,NSBR
HIVE-23850,hive https issues apache org jira browse hive filters columns constants pushed cases may work well example set hive cbo enable false select b sum group b grouping sets b upper aaa sum select upper b sum group upper b grouping sets upper upper b upper aaa sum filters pushed gby f gbykey gbykey udf column groupby keys allow ppd subject column grouping sets present,hiv https issu apach org jir brows hiv filt column const push cas may work wel exampl set hiv cbo en fals select b sum group b group set b up aa sum select up b sum group up b group set up up b up aa sum filt push gby f gbykey gbykey udf column groupby key allow ppd subject column group set pres,NSBR
HIVE-23849,creating view hive skips creation columnaccessinfo created step l causes authorization error currently issue hidden cbo enabled introducing hive calciteplanner creates columnaccessinfo step https github com apache hive blob e b fd b ca fcbe f f ql src java org apache hadoop hive ql parse semanticanalyzer java l turning cbo issue still think return statement step https github com apache hive blob e b fd b ca fcbe f f ql src java org apache hadoop hive ql parse semanticanalyzer java l necessary hive skips creation columnaccessinfo creating view,cre view hiv skip cre columnaccessinfo cre step l caus auth er cur issu hid cbo en introduc hiv calciteplan cre columnaccessinfo step https github com apach hiv blob e b fd b ca fcbe f f ql src jav org apach hadoop hiv ql pars semanticanalys jav l turn cbo issu stil think return stat step https github com apach hiv blob e b fd b ca fcbe f f ql src jav org apach hadoop hiv ql pars semanticanalys jav l necess hiv skip cre columnaccessinfo cre view,SBR
HIVE-23846,method getndvestimator datatype columnstatsdatainspector call issetbitvectors serializes bitvectors already deserialized bitvectors ndvestimator example see pattern longcolumnstatsdatainspector https github com apache hive blob master standalone metastore metastore server src main java org apache hadoop hive metastore columnstats cache longcolumnstatsdatainspector java l method could check ndvestimator set first need serialize deserialize back avoid unnecessary serialization deserialization bitvectors,method getndvestim datatyp columnstatsdatainspect cal issetbitvect ser bitvect already des bitvect ndvestimator exampl see pattern longcolumnstatsdatainspect https github com apach hiv blob mast standalon metast metast serv src main jav org apach hadoop hiv metast columnst cach longcolumnstatsdatainspect jav l method could check ndvestimator set first nee ser des back avoid unnecess ser des bitvect,SBR
HIVE-23837,filesinkoperator root operator mergejoinwork hbasestoragehandler configurejobconf never get called execution miss hbaseauthtoken hbase jars hbasestoragehandler configured properly filesinkoperator child mergejoinwork,filesinkop root op mergejoinwork hbasestoragehandl configurejobconf nev get cal execut miss hbaseauthtok hbas jar hbasestoragehandl config prop filesinkop child mergejoinwork,SBR
HIVE-23836,quote want deletion persistent object cause deletion related objects need mark related fields mapping dependent quote http www datanucleus org products accessplatform jdo persistence html dependentfields http www datanucleus org products datanucleus jdo persistence html deletinganobject database code sql title derby schema alter table app columnsv add constraint columnsv fk foreign key cdid references app cds cdid delete action update action code https github com apache hive blob cf cf f b f standalone metastore metastore server src main sql derby hive schema derby sql l make cols dependent cascade deletes,quot want delet persist object caus delet rel object nee mark rel field map depend quot http www datanucle org produc accessplatform jdo persist html dependentfield http www datanucle org produc datanucle jdo persist html deletinganobject databas cod sql titl derby schema alt tabl ap columnsv ad constraint columnsv fk foreign key cdid ref ap cds cdid delet act upd act cod https github com apach hiv blob cf cf f b f standalon metast metast serv src main sql derby hiv schema derby sql l mak col depend cascad delet,SBR
HIVE-23832,code create table default compcleanup cdaid int cdarunid varchar cdaloadts timestamp globalpartyid string groupid string comment gp gr partitioned cdadate int cdajobname varchar stored orc cdadate cdajobname corebase insert default compcleanup values cdarunid null globalpartyid groupid corebase select default compcleanup cdadate cdajobname corebase update default compcleanup set cdaid cdaid select default compcleanup cdadate cdajobname corebase alter table default compcleanup partition cdadate cdajobname corebase compact major wait code using blocking compaction cleaner skips processing due presence open txn alter table compactor one code acidutils getchildstate ignoring pfile users denyskuzmenko data cdh hive warehouse compcleanup cdadate cdajobname corebase base v code acidutils processbasedir code isdirusable basedir parsedbase getvisibilitytxnid aborted validtxnlist return code compaction cleaner fails clean deltas using blocking compaction,cod cre tabl default compcleanup cdaid int cdarunid varch cdaloadt timestamp globalpartyid string groupid string com gp gr partit cdad int cdajobnam varch stor orc cdad cdajobnam corebas insert default compcleanup valu cdarunid nul globalpartyid groupid corebas select default compcleanup cdad cdajobnam corebas upd default compcleanup set cdaid cdaid select default compcleanup cdad cdajobnam corebas alt tabl default compcleanup partit cdad cdajobnam corebas compact maj wait cod us block compact cle skip process due pres op txn alt tabl compact on cod acidutil getchildst ign pfil us denyskuzmenko dat cdh hiv wareh compcleanup cdad cdajobnam corebas bas v cod acidutil processbasedir cod isdirus basedir parsedbas getvisibilitytxnid abort validtxnl return cod compact cle fail cle delta us block compact,SBR
HIVE-23830,query registers shutdownhook release transactional resources case jvm shuts mid query hooks cleaned session closed session life time unbounded hooks memory leak cleaned soon transaction completed remove shutdownhook query completed,query reg shutdownhook releas transact resourc cas jvm shut mid query hook cle sess clos sess lif tim unbound hook mem leak cle soon transact complet remov shutdownhook query complet,SBR
HIVE-23822,mmdp reproducer insert query missing auto stats task sorted dynamic partition optimization could remove auto stat task,mmdp reproduc insert query miss auto stat task sort dynam partit optim could remov auto stat task,NSBR
HIVE-23808,steps repo create external partition table remove partition manually using hdfs dfs rm command run msck repair drop partitions fail following exception code java warn org apache hadoop hive metastore utils retryutilities exponentiallydecayingbatchwork hiveserver background pool thread exception thrown processing using batch size org apache hadoop hive metastore utils metastoreexception metaexception message index size org apache hadoop hive metastore msck execute msck java hive exec jar org apache hadoop hive metastore msck execute msck java hive exec jar org apache hadoop hive metastore utils retryutilities exponentiallydecayingbatchwork run retryutilities java hive exec jar org apache hadoop hive metastore msck droppartitionsinbatches msck java hive exec jar org apache hadoop hive metastore msck repair msck java hive exec jar org apache hadoop hive ql ddl misc msck msckoperation execute msckoperation java hive exec jar org apache hadoop hive ql ddl ddltask execute ddltask java hive exec jar org apache hadoop hive ql exec task executetask task java hive exec jar org apache hadoop hive ql exec taskrunner runsequential taskrunner java hive exec jar org apache hadoop hive ql executor launchtask executor java hive exec jar org apache hadoop hive ql executor launchtasks executor java hive exec jar org apache hadoop hive ql executor runtasks executor java hive exec jar org apache hadoop hive ql executor execute executor java hive exec jar org apache hadoop hive ql driver runinternal driver java hive exec jar org apache hadoop hive ql driver run driver java hive exec jar org apache hadoop hive ql driver run driver java hive exec jar org apache hadoop hive ql reexec reexecdriver run reexecdriver java hive exec jar org apache hive service cli operation sqloperation runquery sqloperation java hive service jar org apache hive service cli operation sqloperation access sqloperation java hive service jar org apache hive service cli operation sqloperation backgroundwork run sqloperation java hive service jar java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java hadoop common jar org apache hive service cli operation sqloperation backgroundwork run sqloperation java hive service jar java util concurrent executors runnableadapter call executors java java util concurrent futuretask run futuretask java java util concurrent executors runnableadapter call executors java java util concurrent futuretask run futuretask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang indexoutofboundsexception index size java util arraylist rangecheck arraylist java java util arraylist get arraylist java com esotericsoftware kryo util mapreferenceresolver getreadobject mapreferenceresolver java com esotericsoftware kryo kryo readreferenceornull kryo java com esotericsoftware kryo kryo readobject kryo java code reason seems failing serializing string deserialization expecting exprnodegenericfuncdesc reason could sterilization difference request think partexpr serialized kryo droprequest case https github com apache hive blob master standalone metastore metastore server src main java org apache hadoop hive metastore msck java l https github com apache hive blob master ql src java org apache hadoop hive ql optimizer ppr partitionexpressionformetastore java l msck repair drop partitions fail kryo exception,step repo cre extern partit tabl remov partit man us hdfs dfs rm command run msck repair drop partit fail follow exceiv cod jav warn org apach hadoop hiv metast util retryutil exponentiallydecayingbatchwork hiveserv background pool thread exceiv thrown process us batch siz org apach hadoop hiv metast util metastoreexceiv metaexceiv mess index siz org apach hadoop hiv metast msck execut msck jav hiv exec jar org apach hadoop hiv metast msck execut msck jav hiv exec jar org apach hadoop hiv metast util retryutil exponentiallydecayingbatchwork run retryutil jav hiv exec jar org apach hadoop hiv metast msck droppartitionsinbatch msck jav hiv exec jar org apach hadoop hiv metast msck repair msck jav hiv exec jar org apach hadoop hiv ql ddl misc msck msckoperation execut msckoperation jav hiv exec jar org apach hadoop hiv ql ddl ddltask execut ddltask jav hiv exec jar org apach hadoop hiv ql exec task executetask task jav hiv exec jar org apach hadoop hiv ql exec taskrun runsequ taskrun jav hiv exec jar org apach hadoop hiv ql execut launchtask execut jav hiv exec jar org apach hadoop hiv ql execut launchtask execut jav hiv exec jar org apach hadoop hiv ql execut runtask execut jav hiv exec jar org apach hadoop hiv ql execut execut execut jav hiv exec jar org apach hadoop hiv ql driv runintern driv jav hiv exec jar org apach hadoop hiv ql driv run driv jav hiv exec jar org apach hadoop hiv ql driv run driv jav hiv exec jar org apach hadoop hiv ql reexec reexecdr run reexecdr jav hiv exec jar org apach hiv serv cli op sqloperation runquery sqloperation jav hiv serv jar org apach hiv serv cli op sqloperation access sqloperation jav hiv serv jar org apach hiv serv cli op sqloperation backgroundwork run sqloperation jav hiv serv jar jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav hadoop common jar org apach hiv serv cli op sqloperation backgroundwork run sqloperation jav hiv serv jar jav util concur execut runnableadapt cal execut jav jav util concur futuretask run futuretask jav jav util concur execut runnableadapt cal execut jav jav util concur futuretask run futuretask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang indexoutofboundsexceiv index siz jav util arrayl rangecheck arrayl jav jav util arrayl get arrayl jav com esotericsoftw kryo util mapreferenceresolv getreadobject mapreferenceresolv jav com esotericsoftw kryo kryo readreferenceornul kryo jav com esotericsoftw kryo kryo readobject kryo jav cod reason seem fail ser string des expect exprnodegenericfuncdesc reason could steril diff request think partexpr ser kryo droprequest cas https github com apach hiv blob mast standalon metast metast serv src main jav org apach hadoop hiv metast msck jav l https github com apach hiv blob mast ql src jav org apach hadoop hiv ql optim ppr partitionexpressionformetast jav l msck repair drop partit fail kryo exceiv,SBR
HIVE-23807,repro code sql create table test portfoliovaluationdate string pricecutoffdatetime string portfolioidvaluationsource string contributorfullpath string positionmarketvalue double mandatename string stored orc insert test values z null foo insert test values z null foo insert test values z null foo insert test values z null foo insert test values z null foo set hive fetch task conversion none set hive explain user false set hive vectorized execution enabled false select cast test pricecutoffdatetime date test produces null set hive vectorized execution enabled true select cast test pricecutoffdatetime date test produces non null values code wrong results vectorization enabled,repro cod sql cre tabl test portfoliovaluationd string pricecutoffdatetim string portfolioidvaluationsourc string contributorfullpa string positionmarketvalu doubl mandatenam string stor orc insert test valu z nul foo insert test valu z nul foo insert test valu z nul foo insert test valu z nul foo insert test valu z nul foo set hiv fetch task convert non set hiv explain us fals set hiv vect execut en fals select cast test pricecutoffdatetim dat test produc nul set hiv vect execut en tru select cast test pricecutoffdatetim dat test produc non nul valu cod wrong result vect en,NSBR
HIVE-23799,currently acidutils parsebaseordeltabucketfilename considers files loaded table original base files fix also checking code acidutils parsebaseordeltabucketfilename found things attribute copynumber used anymore remove version parseddelta use tries check files raw format need information use different implementation parsedelta avoid remote call file read fix acidutils parsebaseordeltabucketfilename handling data loaded load data,cur acidutil parsebaseordeltabucketfilenam consid fil load tabl origin bas fil fix also check cod acidutil parsebaseordeltabucketfilenam found thing attribut copynumb us anym remov vert parseddelt us tri check fil raw form nee inform us diff impl parsedelt avoid remot cal fil read fix acidutil parsebaseordeltabucketfilenam handl dat load load dat,NSBR
HIVE-23780,acid cleanup happens droptable committed cleanup fails reason leftover entries acid tables later causes dropped table name unusable new tables pvary ngangam fail droptable acid cleanup fails,acid cleanup hap dropt commit cleanup fail reason leftov entry acid tabl lat caus drop tabl nam unus new tabl pvary ngangam fail dropt acid cleanup fail,NSBR
HIVE-23768,metastore update service wrongly strips partition column stats cache attempt update issue may go unnoticed since missing stats lead query failures however alter significantly query plan affecting performance moreover lead flakiness since times stats present sometimes leading query different plan overtime normally missing elements cache correctness problem since always fallback raw stats unfortunately many interconnections parts code e g code obtain aggregate statistics contract breaks metastore update service wrongly strips partition column stats cache,metast upd serv wrong strips partit column stat cach attempt upd issu may go unnot sint miss stat lead query fail howev alt sign query plan affect perform moreov lead flaky sint tim stat pres sometim lead query diff plan overtim norm miss el cach correct problem sint alway fallback raw stat unfortun many interconnect part cod e g cod obtain aggreg stat contract break metast upd serv wrong strips partit column stat cach,SBR
HIVE-23763,reproduce create unbucketed acid table insert bigger amount data table would multiple bucket files table files table look like warehouse tablespace managed hive bubuacid delta bucket warehouse tablespace managed hive bubuacid delta bucket warehouse tablespace managed hive bubuacid delta bucket warehouse tablespace managed hive bubuacid delta bucket warehouse tablespace managed hive bubuacid delta bucket warehouse tablespace managed hive bubuacid delta bucket delete rows different bucket ids files delete delta look like warehouse tablespace managed hive bubuacid deletedelta bucket warehouse tablespace managed hive bubuacid deletedelta bucket warehouse tablespace managed hive bubuacid deletedelta bucket run query based minor compaction compaction newly created delete delta containes bucket file file contains rows buckets table becomes unusable warehouse tablespace managed hive bubuacid deletedelta v bucket issue happens rows different bucket ids processed filesinkoperator filesinkoperator process method files compaction table created like noformat bdynparts filescreated lbdirname null valtopaths get lbdirname null createnewpaths null lbdirname else conf iscompactiontable int bucketproperty getbucketproperty row bucketid bucketcodec determineversion bucketproperty decodewriterid bucketproperty createbucketfiles fsp noformat first row processed file created filescreated variable set true rows processed first statement false new file gets created row written file created first row query based minor compaction produces wrong files rows different buckets ids processed filesinkoperator,reproduc cre unbucket acid tabl insert big amount dat tabl would multipl bucket fil tabl fil tabl look lik wareh tablespac man hiv bubuacid delt bucket wareh tablespac man hiv bubuacid delt bucket wareh tablespac man hiv bubuacid delt bucket wareh tablespac man hiv bubuacid delt bucket wareh tablespac man hiv bubuacid delt bucket wareh tablespac man hiv bubuacid delt bucket delet row diff bucket id fil delet delt look lik wareh tablespac man hiv bubuacid deletedelt bucket wareh tablespac man hiv bubuacid deletedelt bucket wareh tablespac man hiv bubuacid deletedelt bucket run query bas min compact compact new cre delet delt contain bucket fil fil contain row bucket tabl becom unus wareh tablespac man hiv bubuacid deletedelt v bucket issu hap row diff bucket id process filesinkop filesinkop process method fil compact tabl cre lik noform bdynpart filescr lbdirname nul valtopath get lbdirname nul createnewpath nul lbdirname els conf iscompactiont int bucketproperty getbucketproperty row bucketid bucketcodec determinevert bucketproperty decodewriterid bucketproperty createbucketfil fsp noform first row process fil cre filescr vary set tru row process first stat fals new fil get cre row writ fil cre first row query bas min compact produc wrong fil row diff bucket id process filesinkop,NSBR
HIVE-23762,likely caused hive testpighbasestoragehandler tests flaky,lik caus hiv testpighbasestoragehandl test flaky,NSBR
HIVE-23758,customer case bucket file somehow placed partition directory contained another bucket file valid acid schema refer orcdump log details query failed split generation error line https github com apache hive blob master ql src java org apache hadoop hive ql io orc orcinputformat java l code caused java lang runtimeexception orc split generation failed exception java lang indexoutofboundsexception index size org apache hadoop hive ql io orc orcinputformat generatesplitsinfo orcinputformat java org apache hadoop hive ql io orc orcinputformat getsplits orcinputformat java org apache hadoop hive ql io hiveinputformat addsplitsforgroup hiveinputformat java org apache hadoop hive ql io hiveinputformat getsplits hiveinputformat java org apache hadoop hive ql exec tez hivesplitgenerator initialize hivesplitgenerator java org apache tez dag app dag rootinputinitializermanager inputinitializercallable run rootinputinitializermanager java org apache tez dag app dag rootinputinitializermanager inputinitializercallable run rootinputinitializermanager java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez dag app dag rootinputinitializermanager inputinitializercallable call rootinputinitializermanager java org apache tez dag app dag rootinputinitializermanager inputinitializercallable call rootinputinitializermanager java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java caused java util concurrent executionexception java lang indexoutofboundsexception index size java util concurrent futuretask report futuretask java java util concurrent futuretask get futuretask java org apache hadoop hive ql io orc orcinputformat generatesplitsinfo orcinputformat java caused java lang indexoutofboundsexception index size java util arraylist rangecheck arraylist java java util arraylist get arraylist java org apache hadoop hive ql io orc orcinputformat getsargcolumnnames orcinputformat java org apache hadoop hive ql io orc orcinputformat extractneededcolnames orcinputformat java org apache hadoop hive ql io orc orcinputformat extractneededcolnames orcinputformat java org apache hadoop hive ql io orc orcinputformat access orcinputformat java org apache hadoop hive ql io orc orcinputformat splitgenerator callinternal orcinputformat java org apache hadoop hive ql io orc orcinputformat splitgenerator access orcinputformat java org apache hadoop hive ql io orc orcinputformat splitgenerator run orcinputformat java org apache hadoop hive ql io orc orcinputformat splitgenerator run orcinputformat java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache hadoop hive ql io orc orcinputformat splitgenerator call orcinputformat java org apache hadoop hive ql io orc orcinputformat splitgenerator call orcinputformat java java util concurrent futuretask run futuretask java code figured origin second empty file sanity check length helped skip issue ignoring file split generation try first version pull request tez app logs patch code warn orcgetsplits orc orcinputformat possible schema mismatch asked column index column types defined isoriginal false originalcolumnnames length cannot get sarg col names warn orcgetsplits orc orcinputformat skipping split elimination hdfs ns warehouse tablespace managed hive bdaa cdadate cdajobname corebase base bucket column names null code bucket second problematic file patch helped split generation recover strange state orcinputformat getsargcolumnnames might failsafe case schema mismatch,custom cas bucket fil somehow plac partit direct contain anoth bucket fil valid acid schema ref orcdump log detail query fail split gen er lin https github com apach hiv blob mast ql src jav org apach hadoop hiv ql io orc orcinputform jav l cod caus jav lang runtimeexceiv orc split gen fail exceiv jav lang indexoutofboundsexceiv index siz org apach hadoop hiv ql io orc orcinputform generatesplitsinfo orcinputform jav org apach hadoop hiv ql io orc orcinputform getsplit orcinputform jav org apach hadoop hiv ql io hiveinputform addsplitsforgroup hiveinputform jav org apach hadoop hiv ql io hiveinputform getsplit hiveinputform jav org apach hadoop hiv ql exec tez hivesplitg init hivesplitg jav org apach tez dag ap dag rootinputinitializerm inputinitializercal run rootinputinitializerm jav org apach tez dag ap dag rootinputinitializerm inputinitializercal run rootinputinitializerm jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez dag ap dag rootinputinitializerm inputinitializercal cal rootinputinitializerm jav org apach tez dag ap dag rootinputinitializerm inputinitializercal cal rootinputinitializerm jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav caus jav util concur executionexceiv jav lang indexoutofboundsexceiv index siz jav util concur futuretask report futuretask jav jav util concur futuretask get futuretask jav org apach hadoop hiv ql io orc orcinputform generatesplitsinfo orcinputform jav caus jav lang indexoutofboundsexceiv index siz jav util arrayl rangecheck arrayl jav jav util arrayl get arrayl jav org apach hadoop hiv ql io orc orcinputform getsargcolumnnam orcinputform jav org apach hadoop hiv ql io orc orcinputform extractneededcolnam orcinputform jav org apach hadoop hiv ql io orc orcinputform extractneededcolnam orcinputform jav org apach hadoop hiv ql io orc orcinputform access orcinputform jav org apach hadoop hiv ql io orc orcinputform splitgenerator callintern orcinputform jav org apach hadoop hiv ql io orc orcinputform splitgenerator access orcinputform jav org apach hadoop hiv ql io orc orcinputform splitgenerator run orcinputform jav org apach hadoop hiv ql io orc orcinputform splitgenerator run orcinputform jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach hadoop hiv ql io orc orcinputform splitgenerator cal orcinputform jav org apach hadoop hiv ql io orc orcinputform splitgenerator cal orcinputform jav jav util concur futuretask run futuretask jav cod fig origin second empty fil san check leng help skip issu ign fil split gen try first vert pul request tez ap log patch cod warn orcgetsplit orc orcinputform poss schema mismatch ask column index column typ defin isorigin fals originalcolumnnam leng cannot get sarg col nam warn orcgetsplit orc orcinputform skip split elimin hdfs ns wareh tablespac man hiv bda cdad cdajobnam corebas bas bucket column nam nul cod bucket second problem fil patch help split gen recov strange stat orcinputform getsargcolumnnam might failsaf cas schema mismatch,SBR
HIVE-23748,h background sql tez occasional problem h hiveserver log slf j class path contains multiple slf j bindings slf j found binding jar file usr hdp hive lib log j slf j impl jar org slf j impl staticloggerbinder class slf j found binding jar file usr hdp hadoop lib slf j log j jar org slf j impl staticloggerbinder class slf j see http www slf j org codes html multiplebindings explanation slf j actual binding type org apache logging slf j log jloggerfactory connecting jdbc hive xxx prod connected apache hive version driver hive jdbc version transaction isolation transactionrepeatableread info compiling command queryid hive ed b ab e c ef e use prod info concurrency mode disabled creating lock manager info semantic analysis completed retrial false info returning hive schema schema fieldschemas null properties null info completed compiling command queryid hive ed b ab e c ef e time taken seconds info concurrency mode disabled creating lock manager info executing command queryid hive ed b ab e c ef e use prod info starting task stage ddl serial mode info completed executing command queryid hive ed b ab e c ef e time taken seconds info ok info concurrency mode disabled creating lock manager rows affected seconds rows affected seconds info compiling command queryid hive cba b ad b ad fe efe drop table exists temp shawnleenewbasedevicebase info concurrency mode disabled creating lock manager info semantic analysis completed retrial false info returning hive schema schema fieldschemas null properties null info completed compiling command queryid hive cba b ad b ad fe efe time taken seconds info concurrency mode disabled creating lock manager info executing command queryid hive cba b ad b ad fe efe drop table exists temp shawnleenewbasedevicebase info starting task stage ddl serial mode info completed executing command queryid hive cba b ad b ad fe efe time taken seconds info ok info concurrency mode disabled creating lock manager rows affected seconds info compiling command queryid hive fbf e b e ae b ef f b f xxxxx info concurrency mode disabled creating lock manager info stats userprofile dwubaeventdaily columns attribute event info semantic analysis completed retrial false info returning hive schema schema fieldschemas fieldschema name day type string comment null fieldschema name deviceid type string comment null fieldschema name isnew type int comment null fieldschema name firstattribute type map string string comment null fieldschema name firstappversion type string comment null fieldschema name firstplatformtype type string comment null fieldschema name firstmanufacturer type string comment null fieldschema name firstmodel type string comment null fieldschema name firstipprovince type string comment null fieldschema name firstipcity type string comment null fieldschema name lastattribute type map string string comment null fieldschema name lastappversion type string comment null fieldschema name lastplatformtype type string comment null fieldschema name lastmanufacturer type string comment null fieldschema name lastmodel type string comment null fieldschema name lastipprovince type string comment null fieldschema name lastipcity type string comment null properties null info completed compiling command queryid hive fbf e b e ae b ef f b f time taken seconds info concurrency mode disabled creating lock manager info executing command queryid hive fbf e b e ae b ef f b f xxxx info query id hive fbf e b e ae b ef f b f info total jobs info launching job info starting task stage mapred serial mode info subscribed counters queryid hive fbf e b e ae b ef f b f info tez session created yet opening session info dag name xxxx info status running executing yarn cluster app id application info starting task stage conditional serial mode info stage filtered condition resolver info stage selected condition resolver info stage filtered condition resolver info launching job info starting task stage mapred serial mode info subscribed counters queryid hive fbf e b e ae b ef f b f info session already open info dag name xxxx info status running executing yarn cluster app id application error status failed error vertex failed vertexname file merge vertexid vertex diagnostics task failed taskid task diagnostics taskattempt failed info error error running task failure attempt java lang runtimeexception java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez mergefiletezprocessor run mergefiletezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java caused org apache hadoop hive ql metadata hiveexception failed close abstractfilemergeoperator org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java org apache hadoop hive ql exec orcfilemergeoperator closeop orcfilemergeoperator java org apache hadoop hive ql exec operator close operator java org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java caused java io ioexception unable rename xxx warehouse tablespace hive temp db hive staginghive tasktmp ext tmp xxx warehouse tablespace hive temp db hive staginghive tmp ext org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java taskattempt failed info error error running task failure attempt java lang runtimeexception java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez mergefiletezprocessor run mergefiletezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java caused org apache hadoop hive ql metadata hiveexception failed close abstractfilemergeoperator org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java org apache hadoop hive ql exec orcfilemergeoperator closeop orcfilemergeoperator java org apache hadoop hive ql exec operator close operator java org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java caused java io ioexception unable rename xxx warehouse tablespace hive temp db hive staginghive tasktmp ext tmp xxx warehouse tablespace hive temp db hive staginghive tmp ext org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java taskattempt failed info error error running task failure attempt java lang runtimeexception java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez mergefiletezprocessor run mergefiletezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java caused org apache hadoop hive ql metadata hiveexception failed close abstractfilemergeoperator org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java org apache hadoop hive ql exec orcfilemergeoperator closeop orcfilemergeoperator java org apache hadoop hive ql exec operator close operator java org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java caused java io ioexception unable rename xxx warehouse tablespace hive temp db hive staginghive tasktmp ext tmp xxx warehouse tablespace hive temp db hive staginghive tmp ext org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java taskattempt failed info error error running task failure attempt java lang runtimeexception java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez mergefiletezprocessor run mergefiletezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java caused org apache hadoop hive ql metadata hiveexception failed close abstractfilemergeoperator org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java org apache hadoop hive ql exec orcfilemergeoperator closeop orcfilemergeoperator java org apache hadoop hive ql exec operator close operator java org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java caused java io ioexception unable rename xxx warehouse tablespace hive temp db hive staginghive tasktmp ext tmp xxx warehouse tablespace hive temp db hive staginghive tmp ext org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java vertex succeed due owntaskfailure failedtasks killedtasks vertex vertex file merge killed failed due owntaskfailure error dag succeed due vertexfailure failedvertices killedvertices info org apache tez common counters dagcounter info numfailedtasks info numsucceededtasks info totallaunchedtasks info otherlocaltasks info racklocaltasks info amcpumilliseconds info amgctimemillis info file system counters info filebytesread info obsbytesread info obsbyteswritten info obsreadops info obswriteops info org apache tez common counters taskcounter info gctimemillis info taskdurationmillis info cpumilliseconds info physicalmemorybytes info virtualmemorybytes info committedheapbytes info inputrecordsprocessed info inputsplitlengthbytes info outputrecords info hive info recordsoutintermediatefilemerge info recordsoutoperatorofm info inputrecordsprocessed info inputsplitlengthbytes info taskcounterfilemergeoutputoutfilemerge info outputrecords error failed execution error return code org apache hadoop hive ql exec tez teztask vertex failed vertexname file merge vertexid vertex diagnostics task failed taskid task diagnostics taskattempt failed info error error running task failure attempt java lang runtimeexception java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez mergefiletezprocessor run mergefiletezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java caused org apache hadoop hive ql metadata hiveexception failed close abstractfilemergeoperator org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java org apache hadoop hive ql exec orcfilemergeoperator closeop orcfilemergeoperator java org apache hadoop hive ql exec operator close operator java org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java caused java io ioexception unable rename xxx warehouse tablespace hive temp db hive staginghive tasktmp ext tmp xxx warehouse tablespace hive temp db hive staginghive tmp ext org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java taskattempt failed info error error running task failure attempt java lang runtimeexception java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez mergefiletezprocessor run mergefiletezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java caused org apache hadoop hive ql metadata hiveexception failed close abstractfilemergeoperator org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java org apache hadoop hive ql exec orcfilemergeoperator closeop orcfilemergeoperator java org apache hadoop hive ql exec operator close operator java org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java caused java io ioexception unable rename xxx warehouse tablespace hive temp db hive staginghive tasktmp ext tmp xxx warehouse tablespace hive temp db hive staginghive tmp ext org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java taskattempt failed info error error running task failure attempt java lang runtimeexception java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez mergefiletezprocessor run mergefiletezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java caused org apache hadoop hive ql metadata hiveexception failed close abstractfilemergeoperator org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java org apache hadoop hive ql exec orcfilemergeoperator closeop orcfilemergeoperator java org apache hadoop hive ql exec operator close operator java org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java caused java io ioexception unable rename xxx warehouse tablespace hive temp db hive staginghive tasktmp ext tmp xxxl warehouse tablespace hive temp db hive staginghive tmp ext org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java taskattempt failed info error error running task failure attempt java lang runtimeexception java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez mergefiletezprocessor run mergefiletezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java caused org apache hadoop hive ql metadata hiveexception failed close abstractfilemergeoperator org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java org apache hadoop hive ql exec orcfilemergeoperator closeop orcfilemergeoperator java org apache hadoop hive ql exec operator close operator java org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java caused java io ioexception unable rename xxx warehouse tablespace hive temp db hive staginghive tasktmp ext tmp xxx warehouse tablespace hive temp db hive staginghive tmp ext org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java vertex succeed due owntaskfailure failedtasks killedtasks vertex vertex file merge killed failed due owntaskfailure dag succeed due vertexfailure failedvertices killedvertices info completed executing command queryid hive fbf e b e ae b ef f b f time taken seconds info concurrency mode disabled creating lock manager error error processing statement failed execution error return code org apache hadoop hive ql exec tez teztask vertex failed vertexname file merge vertexid vertex diagnostics task failed taskid task diagnostics taskattempt failed info error error running task failure attempt java lang runtimeexception java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez mergefiletezprocessor run mergefiletezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java caused org apache hadoop hive ql metadata hiveexception failed close abstractfilemergeoperator org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java org apache hadoop hive ql exec orcfilemergeoperator closeop orcfilemergeoperator java org apache hadoop hive ql exec operator close operator java org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java caused java io ioexception unable rename xxx warehouse tablespace hive temp db hive staginghive tasktmp ext tmp xxx warehouse tablespace hive temp db hive staginghive tmp ext org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java taskattempt failed info error error running task failure attempt java lang runtimeexception java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez mergefiletezprocessor run mergefiletezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java caused org apache hadoop hive ql metadata hiveexception failed close abstractfilemergeoperator org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java org apache hadoop hive ql exec orcfilemergeoperator closeop orcfilemergeoperator java org apache hadoop hive ql exec operator close operator java org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java caused java io ioexception unable rename xxx warehouse tablespace hive temp db hive staginghive tasktmp ext tmp xxx warehouse tablespace hive temp db hive staginghive tmp ext org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java taskattempt failed info error error running task failure attempt java lang runtimeexception java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez mergefiletezprocessor run mergefiletezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java caused org apache hadoop hive ql metadata hiveexception failed close abstractfilemergeoperator org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java org apache hadoop hive ql exec orcfilemergeoperator closeop orcfilemergeoperator java org apache hadoop hive ql exec operator close operator java org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java caused java io ioexception unable rename xxx warehouse tablespace hive temp db hive staginghive tasktmp ext tmp xxx warehouse tablespace hive temp db hive staginghive tmp ext org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java taskattempt failed info error error running task failure attempt java lang runtimeexception java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez mergefiletezprocessor run mergefiletezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang runtimeexception hive runtime error closing operators org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java caused org apache hadoop hive ql metadata hiveexception failed close abstractfilemergeoperator org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java org apache hadoop hive ql exec orcfilemergeoperator closeop orcfilemergeoperator java org apache hadoop hive ql exec operator close operator java org apache hadoop hive ql exec tez mergefilerecordprocessor close mergefilerecordprocessor java caused java io ioexception unable rename xxx warehouse tablespace hive temp db hive staginghive tasktmp ext tmp xxxl warehouse tablespace hive temp db hive staginghive tmp ext org apache hadoop hive ql exec abstractfilemergeoperator closeop abstractfilemergeoperator java vertex succeed due owntaskfailure failedtasks killedtasks vertex vertex file merge killed failed due owntaskfailure dag succeed due vertexfailure failedvertices killedvertices state code closing jdbc hive xxxxx prod tez task file merge operator generate tmp file wrong suffix,h background sql tez occas problem h hiveserv log slf j class path contain multipl slf j bind slf j found bind jar fil usr hdp hiv lib log j slf j impl jar org slf j impl staticloggerbind class slf j found bind jar fil usr hdp hadoop lib slf j log j jar org slf j impl staticloggerbind class slf j see http www slf j org cod html multiplebind expl slf j act bind typ org apach log slf j log jloggerfact connect jdbc hiv xxx prod connect apach hiv vert driv hiv jdbc vert transact isol transactionrepeatableread info compil command queryid hiv ed b ab e c ef e us prod info concur mod dis cre lock man info sem analys complet ret fals info return hiv schema schema fieldschema nul property nul info complet compil command queryid hiv ed b ab e c ef e tim tak second info concur mod dis cre lock man info execut command queryid hiv ed b ab e c ef e us prod info start task stag ddl ser mod info complet execut command queryid hiv ed b ab e c ef e tim tak second info ok info concur mod dis cre lock man row affect second row affect second info compil command queryid hiv cba b ad b ad fe ef drop tabl ex temp shawnleenewbasedevicebas info concur mod dis cre lock man info sem analys complet ret fals info return hiv schema schema fieldschema nul property nul info complet compil command queryid hiv cba b ad b ad fe ef tim tak second info concur mod dis cre lock man info execut command queryid hiv cba b ad b ad fe ef drop tabl ex temp shawnleenewbasedevicebas info start task stag ddl ser mod info complet execut command queryid hiv cba b ad b ad fe ef tim tak second info ok info concur mod dis cre lock man row affect second info compil command queryid hiv fbf e b e ae b ef f b f xxxxx info concur mod dis cre lock man info stat userprofil dwubaeventday column attribut ev info sem analys complet ret fals info return hiv schema schema fieldschema fieldschem nam day typ string com nul fieldschem nam deviceid typ string com nul fieldschem nam isnew typ int com nul fieldschem nam firstattribut typ map string string com nul fieldschem nam firstappvert typ string com nul fieldschem nam firstplatformtyp typ string com nul fieldschem nam firstmanufact typ string com nul fieldschem nam firstmodel typ string com nul fieldschem nam firstipprovint typ string com nul fieldschem nam firstipc typ string com nul fieldschem nam lastattribut typ map string string com nul fieldschem nam lastappvert typ string com nul fieldschem nam lastplatformtyp typ string com nul fieldschem nam lastmanufact typ string com nul fieldschem nam lastmodel typ string com nul fieldschem nam lastipprovint typ string com nul fieldschem nam lastipc typ string com nul property nul info complet compil command queryid hiv fbf e b e ae b ef f b f tim tak second info concur mod dis cre lock man info execut command queryid hiv fbf e b e ae b ef f b f xxxx info query id hiv fbf e b e ae b ef f b f info tot job info launch job info start task stag mapr ser mod info subscrib count queryid hiv fbf e b e ae b ef f b f info tez sess cre yet op sess info dag nam xxxx info stat run execut yarn clust ap id apply info start task stag condit ser mod info stag filt condit resolv info stag select condit resolv info stag filt condit resolv info launch job info start task stag mapr ser mod info subscrib count queryid hiv fbf e b e ae b ef f b f info sess already op info dag nam xxxx info stat run execut yarn clust ap id apply er stat fail er vertex fail vertexnam fil merg vertexid vertex diagnost task fail taskid task diagnost taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez mergefiletezprocess run mergefiletezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav caus org apach hadoop hiv ql metadat hiveexceiv fail clos abstractfilemergeop org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav org apach hadoop hiv ql exec orcfilemergeop closeop orcfilemergeop jav org apach hadoop hiv ql exec op clos op jav org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav caus jav io ioexceiv un renam xxx wareh tablespac hiv temp db hiv stagingh tasktmp ext tmp xxx wareh tablespac hiv temp db hiv stagingh tmp ext org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez mergefiletezprocess run mergefiletezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav caus org apach hadoop hiv ql metadat hiveexceiv fail clos abstractfilemergeop org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav org apach hadoop hiv ql exec orcfilemergeop closeop orcfilemergeop jav org apach hadoop hiv ql exec op clos op jav org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav caus jav io ioexceiv un renam xxx wareh tablespac hiv temp db hiv stagingh tasktmp ext tmp xxx wareh tablespac hiv temp db hiv stagingh tmp ext org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez mergefiletezprocess run mergefiletezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav caus org apach hadoop hiv ql metadat hiveexceiv fail clos abstractfilemergeop org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav org apach hadoop hiv ql exec orcfilemergeop closeop orcfilemergeop jav org apach hadoop hiv ql exec op clos op jav org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav caus jav io ioexceiv un renam xxx wareh tablespac hiv temp db hiv stagingh tasktmp ext tmp xxx wareh tablespac hiv temp db hiv stagingh tmp ext org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez mergefiletezprocess run mergefiletezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav caus org apach hadoop hiv ql metadat hiveexceiv fail clos abstractfilemergeop org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav org apach hadoop hiv ql exec orcfilemergeop closeop orcfilemergeop jav org apach hadoop hiv ql exec op clos op jav org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav caus jav io ioexceiv un renam xxx wareh tablespac hiv temp db hiv stagingh tasktmp ext tmp xxx wareh tablespac hiv temp db hiv stagingh tmp ext org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav vertex success due owntaskfail failedtask killedtask vertex vertex fil merg kil fail due owntaskfail er dag success due vertexfail failedvert killedvert info org apach tez common count dagcount info numfailedtask info numsucceededtask info totallaunchedtask info otherlocaltask info racklocaltask info amcpumillisecond info amgctimemil info fil system count info filebytesread info obsbytesread info obsbyteswrit info obsreadop info obswriteop info org apach tez common count taskcount info gctimemillis info taskdurationmil info cpumillisecond info physicalmemorybyt info virtualmemorybyt info committedheapbyt info inputrecordsprocess info inputsplitlengthbyt info outputrecord info hiv info recordsoutintermediatefilemerg info recordsoutoperatorofm info inputrecordsprocess info inputsplitlengthbyt info taskcounterfilemergeoutputoutfilemerg info outputrecord er fail execut er return cod org apach hadoop hiv ql exec tez teztask vertex fail vertexnam fil merg vertexid vertex diagnost task fail taskid task diagnost taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez mergefiletezprocess run mergefiletezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav caus org apach hadoop hiv ql metadat hiveexceiv fail clos abstractfilemergeop org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav org apach hadoop hiv ql exec orcfilemergeop closeop orcfilemergeop jav org apach hadoop hiv ql exec op clos op jav org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav caus jav io ioexceiv un renam xxx wareh tablespac hiv temp db hiv stagingh tasktmp ext tmp xxx wareh tablespac hiv temp db hiv stagingh tmp ext org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez mergefiletezprocess run mergefiletezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav caus org apach hadoop hiv ql metadat hiveexceiv fail clos abstractfilemergeop org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav org apach hadoop hiv ql exec orcfilemergeop closeop orcfilemergeop jav org apach hadoop hiv ql exec op clos op jav org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav caus jav io ioexceiv un renam xxx wareh tablespac hiv temp db hiv stagingh tasktmp ext tmp xxx wareh tablespac hiv temp db hiv stagingh tmp ext org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez mergefiletezprocess run mergefiletezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav caus org apach hadoop hiv ql metadat hiveexceiv fail clos abstractfilemergeop org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav org apach hadoop hiv ql exec orcfilemergeop closeop orcfilemergeop jav org apach hadoop hiv ql exec op clos op jav org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav caus jav io ioexceiv un renam xxx wareh tablespac hiv temp db hiv stagingh tasktmp ext tmp xxxl wareh tablespac hiv temp db hiv stagingh tmp ext org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez mergefiletezprocess run mergefiletezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav caus org apach hadoop hiv ql metadat hiveexceiv fail clos abstractfilemergeop org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav org apach hadoop hiv ql exec orcfilemergeop closeop orcfilemergeop jav org apach hadoop hiv ql exec op clos op jav org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav caus jav io ioexceiv un renam xxx wareh tablespac hiv temp db hiv stagingh tasktmp ext tmp xxx wareh tablespac hiv temp db hiv stagingh tmp ext org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav vertex success due owntaskfail failedtask killedtask vertex vertex fil merg kil fail due owntaskfail dag success due vertexfail failedvert killedvert info complet execut command queryid hiv fbf e b e ae b ef f b f tim tak second info concur mod dis cre lock man er er process stat fail execut er return cod org apach hadoop hiv ql exec tez teztask vertex fail vertexnam fil merg vertexid vertex diagnost task fail taskid task diagnost taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez mergefiletezprocess run mergefiletezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav caus org apach hadoop hiv ql metadat hiveexceiv fail clos abstractfilemergeop org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav org apach hadoop hiv ql exec orcfilemergeop closeop orcfilemergeop jav org apach hadoop hiv ql exec op clos op jav org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav caus jav io ioexceiv un renam xxx wareh tablespac hiv temp db hiv stagingh tasktmp ext tmp xxx wareh tablespac hiv temp db hiv stagingh tmp ext org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez mergefiletezprocess run mergefiletezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav caus org apach hadoop hiv ql metadat hiveexceiv fail clos abstractfilemergeop org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav org apach hadoop hiv ql exec orcfilemergeop closeop orcfilemergeop jav org apach hadoop hiv ql exec op clos op jav org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav caus jav io ioexceiv un renam xxx wareh tablespac hiv temp db hiv stagingh tasktmp ext tmp xxx wareh tablespac hiv temp db hiv stagingh tmp ext org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez mergefiletezprocess run mergefiletezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav caus org apach hadoop hiv ql metadat hiveexceiv fail clos abstractfilemergeop org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav org apach hadoop hiv ql exec orcfilemergeop closeop orcfilemergeop jav org apach hadoop hiv ql exec op clos op jav org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav caus jav io ioexceiv un renam xxx wareh tablespac hiv temp db hiv stagingh tasktmp ext tmp xxx wareh tablespac hiv temp db hiv stagingh tmp ext org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez mergefiletezprocess run mergefiletezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang runtimeexceiv hiv runtim er clos op org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav caus org apach hadoop hiv ql metadat hiveexceiv fail clos abstractfilemergeop org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav org apach hadoop hiv ql exec orcfilemergeop closeop orcfilemergeop jav org apach hadoop hiv ql exec op clos op jav org apach hadoop hiv ql exec tez mergefilerecordprocess clos mergefilerecordprocess jav caus jav io ioexceiv un renam xxx wareh tablespac hiv temp db hiv stagingh tasktmp ext tmp xxxl wareh tablespac hiv temp db hiv stagingh tmp ext org apach hadoop hiv ql exec abstractfilemergeop closeop abstractfilemergeop jav vertex success due owntaskfail failedtask killedtask vertex vertex fil merg kil fail due owntaskfail dag success due vertexfail failedvert killedvert stat cod clos jdbc hiv xxxxx prod tez task fil merg op gen tmp fil wrong suffix,SBR
HIVE-23729,using text based cache hit exceptions following case table columns defined location x text based data files table b columns defined location x user runs query table thereby filling llap cache next query goes table b different schema llap throw error code java caused java lang arrayindexoutofboundsexception org apache hadoop hive llap cache serdelowlevelcacheimpl getcachedataforoneslice serdelowlevelcacheimpl java org apache hadoop hive llap cache serdelowlevelcacheimpl getfiledata serdelowlevelcacheimpl java org apache hadoop hive llap io encoded serdeencodeddatareader readfilewithcache serdeencodeddatareader java org apache hadoop hive llap io encoded serdeencodeddatareader performdataread serdeencodeddatareader java org apache hadoop hive llap io encoded serdeencodeddatareader run serdeencodeddatareader java org apache hadoop hive llap io encoded serdeencodeddatareader run serdeencodeddatareader java code cache lookup based file id case tables however unlike orc files cached content file content different dependent schema defined user original text content encoded orc cache think text cache case need extend cache key simple file id something tracks schema result caching file content multiple times multiple schemas like however see cached content could quite different e g different streams different encodings turn gain correctness llap text cache fails using multiple tables schemas files,us text bas cach hit exceiv follow cas tabl column defin loc x text bas dat fil tabl b column defin loc x us run query tabl thereby fil llap cach next query goe tabl b diff schema llap throw er cod jav caus jav lang arrayindexoutofboundsexceiv org apach hadoop hiv llap cach serdelowlevelcacheimpl getcachedataforonesl serdelowlevelcacheimpl jav org apach hadoop hiv llap cach serdelowlevelcacheimpl getfiledat serdelowlevelcacheimpl jav org apach hadoop hiv llap io encod serdeencodeddataread readfilewithcach serdeencodeddataread jav org apach hadoop hiv llap io encod serdeencodeddataread performdataread serdeencodeddataread jav org apach hadoop hiv llap io encod serdeencodeddataread run serdeencodeddataread jav org apach hadoop hiv llap io encod serdeencodeddataread run serdeencodeddataread jav cod cach lookup bas fil id cas tabl howev unlik orc fil cach cont fil cont diff depend schema defin us origin text cont encod orc cach think text cach cas nee extend cach key simpl fil id someth track schema result cach fil cont multipl tim multipl schemas lik howev see cach cont could quit diff e g diff streams diff encod turn gain correct llap text cach fail us multipl tabl schemas fil,SBR
HIVE-23726,given metastore warehouse tenant colocation set true test database created create database test location data try create table create table int location data create table fails following exception code org apache hadoop hive ql metadata hiveexception metaexception message java lang illegalargumentexception create path null string org apache hadoop hive ql metadata hive createtable hive java org apache hadoop hive ql metadata hive createtable hive java org apache hadoop hive ql ddl table create createtableoperation createtablenonreplacemode createtableoperation java org apache hadoop hive ql ddl table create createtableoperation execute createtableoperation java org apache hadoop hive ql ddl ddltask execute ddltask java org apache hadoop hive ql exec task executetask task java org apache hadoop hive ql exec taskrunner runsequential taskrunner java org apache hadoop hive ql executor launchtask executor java org apache hadoop hive ql executor launchtasks executor java org apache hadoop hive ql executor runtasks executor java org apache hadoop hive ql executor execute executor java org apache hadoop hive ql driver runinternal driver java org apache hadoop hive ql driver run driver java org apache hadoop hive ql driver run driver java org apache hadoop hive ql reexec reexecdriver run reexecdriver java org apache hive service cli operation sqloperation runquery sqloperation java org apache hive service cli operation sqloperation access sqloperation java org apache hive service cli operation sqloperation backgroundwork run sqloperation java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache hive service cli operation sqloperation backgroundwork run sqloperation java java util concurrent executors runnableadapter call executors java java util concurrent futuretask run futuretask java java util concurrent executors runnableadapter call executors java java util concurrent futuretask run futuretask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused org apache hadoop hive metastore api metaexception java lang illegalargumentexception create path null string org apache hadoop hive metastore api thrifthivemetastore createtablereqresult createtablereqresultstandardscheme read thrifthivemetastore java org apache hadoop hive metastore api thrifthivemetastore createtablereqresult createtablereqresultstandardscheme read thrifthivemetastore java org apache hadoop hive metastore api thrifthivemetastore createtablereqresult read thrifthivemetastore java org apache thrift tserviceclient receivebase tserviceclient java org apache hadoop hive metastore api thrifthivemetastore client recvcreatetablereq thrifthivemetastore java org apache hadoop hive metastore api thrifthivemetastore client createtablereq thrifthivemetastore java org apache hadoop hive metastore hivemetastoreclient createtablewithenvironmentcontext hivemetastoreclient java org apache hadoop hive ql metadata sessionhivemetastoreclient createtablewithenvironmentcontext sessionhivemetastoreclient java org apache hadoop hive metastore hivemetastoreclient createtable hivemetastoreclient java org apache hadoop hive metastore hivemetastoreclient createtable hivemetastoreclient java sun reflect generatedmethodaccessor invoke unknown source sun reflect delegatingmethodaccessorimpl invoke delegatingmethodaccessorimpl java java lang reflect method invoke method java org apache hadoop hive metastore retryingmetastoreclient invoke retryingmetastoreclient java com sun proxy proxy createtable unknown source sun reflect generatedmethodaccessor invoke unknown source sun reflect delegatingmethodaccessorimpl invoke delegatingmethodaccessorimpl java java lang reflect method invoke method java org apache hadoop hive metastore hivemetastoreclient synchronizedhandler invoke hivemetastoreclient java com sun proxy proxy createtable unknown source org apache hadoop hive ql metadata hive createtable hive java code addtional info exception occur specify location create table statement exception occur specify managedlocation well create database statement specify location database point external table arbitrary directory use external files load data managed database via hive easily especially problem external data source something else hdfs want pull data hive exception thrown try create external table specifying arbitrary location database created create database test code org apache hadoop hive ql metadata hiveexception metaexception message external table location located outside location specified database table location data test database location external tables warehouse tablespace external hive test db org apache hadoop hive ql metadata hive createtable hive java org apache hadoop hive ql metadata hive createtable hive java org apache hadoop hive ql ddl table create createtableoperation createtablenonreplacemode createtableoperation java org apache hadoop hive ql ddl table create createtableoperation execute createtableoperation java org apache hadoop hive ql ddl ddltask execute ddltask java org apache hadoop hive ql exec task executetask task java org apache hadoop hive ql exec taskrunner runsequential taskrunner java org apache hadoop hive ql executor launchtask executor java org apache hadoop hive ql executor launchtasks executor java org apache hadoop hive ql executor runtasks executor java org apache hadoop hive ql executor execute executor java org apache hadoop hive ql driver runinternal driver java org apache hadoop hive ql driver run driver java org apache hadoop hive ql driver run driver java org apache hadoop hive ql reexec reexecdriver run reexecdriver java org apache hive service cli operation sqloperation runquery sqloperation java org apache hive service cli operation sqloperation access sqloperation java org apache hive service cli operation sqloperation backgroundwork run sqloperation java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache hive service cli operation sqloperation backgroundwork run sqloperation java java util concurrent executors runnableadapter call executors java java util concurrent futuretask run futuretask java java util concurrent executors runnableadapter call executors java java util concurrent futuretask run futuretask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused org apache hadoop hive metastore api metaexception external table location located outside location specified database table location data test database location external tables warehouse tablespace external hive test db org apache hadoop hive metastore api thrifthivemetastore createtablereqresult createtablereqresultstandardscheme read thrifthivemetastore java org apache hadoop hive metastore api thrifthivemetastore createtablereqresult createtablereqresultstandardscheme read thrifthivemetastore java org apache hadoop hive metastore api thrifthivemetastore createtablereqresult read thrifthivemetastore java org apache thrift tserviceclient receivebase tserviceclient java org apache hadoop hive metastore api thrifthivemetastore client recvcreatetablereq thrifthivemetastore java org apache hadoop hive metastore api thrifthivemetastore client createtablereq thrifthivemetastore java org apache hadoop hive metastore hivemetastoreclient createtablewithenvironmentcontext hivemetastoreclient java org apache hadoop hive ql metadata sessionhivemetastoreclient createtablewithenvironmentcontext sessionhivemetastoreclient java org apache hadoop hive metastore hivemetastoreclient createtable hivemetastoreclient java org apache hadoop hive metastore hivemetastoreclient createtable hivemetastoreclient java sun reflect generatedmethodaccessor invoke unknown source sun reflect delegatingmethodaccessorimpl invoke delegatingmethodaccessorimpl java java lang reflect method invoke method java org apache hadoop hive metastore retryingmetastoreclient invoke retryingmetastoreclient java com sun proxy proxy createtable unknown source sun reflect generatedmethodaccessor invoke unknown source sun reflect delegatingmethodaccessorimpl invoke delegatingmethodaccessorimpl java java lang reflect method invoke method java org apache hadoop hive metastore hivemetastoreclient synchronizedhandler invoke hivemetastoreclient java com sun proxy proxy createtable unknown source org apache hadoop hive ql metadata hive createtable hive java code describe database shows following output test database code dbname comment location managedlocation ownername ownertype parameters test hdfs nnhost nnport data hive user code notice managed location database empty code exception occurs following line https github com apache hive blob cdf f f b ded standalone metastore metastore server src main java org apache hadoop hive metastore metastoredefaulttransformer java l code dblocation path getpathwithoutschemeandauthority new path db getmanagedlocationuri code seems db getmanagedlocationuri gives back null reference test table metastore debug log contain managed location confirm based logs would nice part fix add managedlocation used path validation table well debug log https github com apache hive blob cdf f f b ded standalone metastore metastore server src main java org apache hadoop hive metastore metastoredefaulttransformer java l also create table may throw metaexception message java lang illegalargumentexception create path null string,giv metast wareh ten coloc set tru test databas cre cre databas test loc dat try cre tabl cre tabl int loc dat cre tabl fail follow exceiv cod org apach hadoop hiv ql metadat hiveexceiv metaexceiv mess jav lang illegalargumentexceiv cre path nul string org apach hadoop hiv ql metadat hiv createt hiv jav org apach hadoop hiv ql metadat hiv createt hiv jav org apach hadoop hiv ql ddl tabl cre createtableop createtablenonreplacemod createtableop jav org apach hadoop hiv ql ddl tabl cre createtableop execut createtableop jav org apach hadoop hiv ql ddl ddltask execut ddltask jav org apach hadoop hiv ql exec task executetask task jav org apach hadoop hiv ql exec taskrun runsequ taskrun jav org apach hadoop hiv ql execut launchtask execut jav org apach hadoop hiv ql execut launchtask execut jav org apach hadoop hiv ql execut runtask execut jav org apach hadoop hiv ql execut execut execut jav org apach hadoop hiv ql driv runintern driv jav org apach hadoop hiv ql driv run driv jav org apach hadoop hiv ql driv run driv jav org apach hadoop hiv ql reexec reexecdr run reexecdr jav org apach hiv serv cli op sqloperation runquery sqloperation jav org apach hiv serv cli op sqloperation access sqloperation jav org apach hiv serv cli op sqloperation backgroundwork run sqloperation jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach hiv serv cli op sqloperation backgroundwork run sqloperation jav jav util concur execut runnableadapt cal execut jav jav util concur futuretask run futuretask jav jav util concur execut runnableadapt cal execut jav jav util concur futuretask run futuretask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus org apach hadoop hiv metast ap metaexceiv jav lang illegalargumentexceiv cre path nul string org apach hadoop hiv metast ap thrifthivemetastore createtablereqresult createtablereqresultstandardschem read thrifthivemetastore jav org apach hadoop hiv metast ap thrifthivemetastore createtablereqresult createtablereqresultstandardschem read thrifthivemetastore jav org apach hadoop hiv metast ap thrifthivemetastore createtablereqresult read thrifthivemetastore jav org apach thrift tservicec receivebas tservicec jav org apach hadoop hiv metast ap thrifthivemetastore cli recvcreatetablereq thrifthivemetastore jav org apach hadoop hiv metast ap thrifthivemetastore cli createtablereq thrifthivemetastore jav org apach hadoop hiv metast hivemetastorec createtablewithenvironmentcontext hivemetastorec jav org apach hadoop hiv ql metadat sessionhivemetastorec createtablewithenvironmentcontext sessionhivemetastorec jav org apach hadoop hiv metast hivemetastorec createt hivemetastorec jav org apach hadoop hiv metast hivemetastorec createt hivemetastorec jav sun reflect generatedmethodaccess invok unknown sourc sun reflect delegatingmethodaccessorimpl invok delegatingmethodaccessorimpl jav jav lang reflect method invok method jav org apach hadoop hiv metast retryingmetastorec invok retryingmetastorec jav com sun proxy proxy createt unknown sourc sun reflect generatedmethodaccess invok unknown sourc sun reflect delegatingmethodaccessorimpl invok delegatingmethodaccessorimpl jav jav lang reflect method invok method jav org apach hadoop hiv metast hivemetastorec synchronizedhandl invok hivemetastorec jav com sun proxy proxy createt unknown sourc org apach hadoop hiv ql metadat hiv createt hiv jav cod addt info exceiv occ spec loc cre tabl stat exceiv occ spec managedloc wel cre databas stat spec loc databas point extern tabl arbit direct us extern fil load dat man databas via hiv easy espec problem extern dat sourc someth els hdfs want pul dat hiv exceiv thrown try cre extern tabl spec arbit loc databas cre cre databas test cod org apach hadoop hiv ql metadat hiveexceiv metaexceiv mess extern tabl loc loc outsid loc spec databas tabl loc dat test databas loc extern tabl wareh tablespac extern hiv test db org apach hadoop hiv ql metadat hiv createt hiv jav org apach hadoop hiv ql metadat hiv createt hiv jav org apach hadoop hiv ql ddl tabl cre createtableop createtablenonreplacemod createtableop jav org apach hadoop hiv ql ddl tabl cre createtableop execut createtableop jav org apach hadoop hiv ql ddl ddltask execut ddltask jav org apach hadoop hiv ql exec task executetask task jav org apach hadoop hiv ql exec taskrun runsequ taskrun jav org apach hadoop hiv ql execut launchtask execut jav org apach hadoop hiv ql execut launchtask execut jav org apach hadoop hiv ql execut runtask execut jav org apach hadoop hiv ql execut execut execut jav org apach hadoop hiv ql driv runintern driv jav org apach hadoop hiv ql driv run driv jav org apach hadoop hiv ql driv run driv jav org apach hadoop hiv ql reexec reexecdr run reexecdr jav org apach hiv serv cli op sqloperation runquery sqloperation jav org apach hiv serv cli op sqloperation access sqloperation jav org apach hiv serv cli op sqloperation backgroundwork run sqloperation jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach hiv serv cli op sqloperation backgroundwork run sqloperation jav jav util concur execut runnableadapt cal execut jav jav util concur futuretask run futuretask jav jav util concur execut runnableadapt cal execut jav jav util concur futuretask run futuretask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus org apach hadoop hiv metast ap metaexceiv extern tabl loc loc outsid loc spec databas tabl loc dat test databas loc extern tabl wareh tablespac extern hiv test db org apach hadoop hiv metast ap thrifthivemetastore createtablereqresult createtablereqresultstandardschem read thrifthivemetastore jav org apach hadoop hiv metast ap thrifthivemetastore createtablereqresult createtablereqresultstandardschem read thrifthivemetastore jav org apach hadoop hiv metast ap thrifthivemetastore createtablereqresult read thrifthivemetastore jav org apach thrift tservicec receivebas tservicec jav org apach hadoop hiv metast ap thrifthivemetastore cli recvcreatetablereq thrifthivemetastore jav org apach hadoop hiv metast ap thrifthivemetastore cli createtablereq thrifthivemetastore jav org apach hadoop hiv metast hivemetastorec createtablewithenvironmentcontext hivemetastorec jav org apach hadoop hiv ql metadat sessionhivemetastorec createtablewithenvironmentcontext sessionhivemetastorec jav org apach hadoop hiv metast hivemetastorec createt hivemetastorec jav org apach hadoop hiv metast hivemetastorec createt hivemetastorec jav sun reflect generatedmethodaccess invok unknown sourc sun reflect delegatingmethodaccessorimpl invok delegatingmethodaccessorimpl jav jav lang reflect method invok method jav org apach hadoop hiv metast retryingmetastorec invok retryingmetastorec jav com sun proxy proxy createt unknown sourc sun reflect generatedmethodaccess invok unknown sourc sun reflect delegatingmethodaccessorimpl invok delegatingmethodaccessorimpl jav jav lang reflect method invok method jav org apach hadoop hiv metast hivemetastorec synchronizedhandl invok hivemetastorec jav com sun proxy proxy createt unknown sourc org apach hadoop hiv ql metadat hiv createt hiv jav cod describ databas show follow output test databas cod dbname com loc managedloc ownernam ownertyp paramet test hdfs nnhost nnport dat hiv us cod not man loc databas empty cod exceiv occ follow lin https github com apach hiv blob cdf f f b ded standalon metast metast serv src main jav org apach hadoop hiv metast metastoredefaulttransform jav l cod dblocation path getpathwithoutschemeandauth new path db getmanagedlocationur cod seem db getmanagedlocationur giv back nul ref test tabl metast debug log contain man loc confirm bas log would nic part fix ad managedloc us path valid tabl wel debug log https github com apach hiv blob cdf f f b ded standalon metast metast serv src main jav org apach hadoop hiv metast metastoredefaulttransform jav l also cre tabl may throw metaexceiv mess jav lang illegalargumentexceiv cre path nul string,SBR
HIVE-23725,validtxnmanager invalidates snapshot merge insert starts read committed transactions committed query compilation happened cause partial read problems committed transaction created new partition source target table solution fix snapshot also recompile query acquire locks could construct example like open compile transaction merge inserts data partitioned source table partition open run commit transaction inserts data old new partition source table open run commit transaction inserts data target table merge statement retrigger snapshot generation transaction run transaction snapshot regenerated read partial data transaction breaking acid properties different setup switch transaction order compile transaction inserts data old new partition source table compile transaction insert data target table compile transaction merge inserts data source table target table run commit transaction run commit transaction run transaction since cointains snaphot isvalidtxnliststate triggered partial read transaction reasons validtxnmanager snapshot outdating causing partial reads merge insert,validtxnm invalid snapshot merg insert start read commit transact commit query compil hap caus part read problem commit transact cre new partit sourc target tabl solv fix snapshot also recompil query acquir lock could construct exampl lik op compil transact merg insert dat partit sourc tabl partit op run commit transact insert dat old new partit sourc tabl op run commit transact insert dat target tabl merg stat retrig snapshot gen transact run transact snapshot reg read part dat transact break acid property diff setup switch transact ord compil transact insert dat old new partit sourc tabl compil transact insert dat target tabl compil transact merg insert dat sourc tabl target tabl run commit transact run commit transact run transact sint cointain snaphot isvalidtxnlistst trig part read transact reason validtxnm snapshot outd caus part read merg insert,SBR
HIVE-23720,sqloperation cancels background task condition met shouldrunasync state operationstate canceled state operationstate timedout condition evaluated false state operationstate canceled operationstate timedout operations states stop background tasks release resources background task may interrupted operation canceled timeout,sqloperation cancel background task condit met shouldrunasynt stat operationst cancel stat operationst timedout condit evalu fals stat operationst cancel operationst timedout op stat stop background task releas resourc background task may interrupt op cancel timeout,NSBR
HIVE-23717,external purge tables backward compatible old managed tables applications use hs url sets session level property default table type external purge tables true part need notion session level config parameter adding new jdbc config hivecreateasexternallegacy hs config hive create external legacy set true create external purge table default adding managed keyword create managed table create table based hive create acid hive craete insert values impacted new config jdbcurl add config create external purge table default,extern purg tabl backward compat old man tabl apply us hs url set sess level property default tabl typ extern purg tabl tru part nee not sess level config paramet ad new jdbc config hivecreateasexternalleg hs config hiv cre extern leg set tru cre extern purg tabl default ad man keyword cre man tabl cre tabl bas hiv cre acid hiv craet insert valu impact new config jdbcurl ad config cre extern purg tabl default,SBR
HIVE-23716,currently hive support anti join query anti join converted left outer join null filter right side join key added get desired result causing extra computation left outer join projects redundant columns right side along filtering done remove redundant rows avoided case anti join anti join project required columns rows left side table extra shuffle case anti join duplicate records moved join node avoided child node reduce significant amount data movement number distinct rows join keys significant extra memory usage case map based anti join hash set sufficient key required check records matches join condition case left join need key non key columns also thus hash table required query like code java select wrordernumber webreturns left join websales wrordernumber wsordernumber wsordernumber null code number distinct wsordernumber websales table typical tb tpcds set total records convert query anti join instead billion rows million rows moved join node current patch one conversion done pattern project filter left join converted project anti join take care sub queries exists clause queries exists converted first filter left join converted anti join queries handled current patch execution side merge join map join vectorized execution supported anti join support anti join hive,cur hiv support ant join query ant join convert left out join nul filt right sid join key ad get desir result caus extr comput left out join project redund column right sid along filt don remov redund row avoid cas ant join ant join project requir column row left sid tabl extr shuffl cas ant join duply record mov join nod avoid child nod reduc sign amount dat mov numb distinct row join key sign extr mem us cas map bas ant join hash set sufficy key requir check record match join condit cas left join nee key non key column also thu hash tabl requir query lik cod jav select wrordernumb webreturn left join webs wrordernumb wsordernumb wsordernumb nul cod numb distinct wsordernumb webs tabl typ tb tpcds set tot record convert query ant join instead bil row mil row mov join nod cur patch on convert don pattern project filt left join convert project ant join tak car sub query ex claus query ex convert first filt left join convert ant join query handl cur patch execut sid merg join map join vect execut support ant join support ant join hiv,SBR
HIVE-23715,hive zookeeper ssl communication support introduced password config keystore truststore handled correctly stored jceks also zookeepertokenstore handling well fallback global zookeeper configurations fix zookeeper ssl keystore password handling issues,hiv zookeep ssl commun support introduc password config keyst trustst handl correct stor jcek also zookeepertokenst handl wel fallback glob zookeep config fix zookeep ssl keyst password handl issu,NSBR
HIVE-23711,attached rat txt incorrect rat check code files unapproved licenses users lbodor apache hive shims common factorypath code patch take care factorypath files ignored rat generated ide ignored already git ide generated files checked license header rat plugin,attach rat txt incorrect rat check cod fil unapprov licens us lbod apach hiv shim common factorypa cod patch tak car factorypa fil ign rat gen id ign already git id gen fil check licens head rat plugin,SBR
HIVE-23706,code insert values null select order desc code instead code null code return code null code fix nulls first sorting behavior,cod insert valu nul select ord desc cod instead cod nul cod return cod nul cod fix nul first sort behavy,SBR
HIVE-23704,code java title thrifthttpservlet java private string getauthheadertokens httpservletrequest request string authtype throws httpauthenticationexception string authheaderbase getauthheader request authtype string authheaderstring stringutils newstringutf base decodebase authheaderbase getbytes string creds authheaderstring split return creds code takes authheaderbase base string converts bytes tries decode bytes incorrect covert base string directly bytes tried part hive tests failing string decoded actually base see attached image stray space colon existing code care parsing base text parsing bytes generated converting base text bytes sure affect security issues may present definitely correct thrift http server handle auth handle correctly,cod jav titl thrifthttpservlet jav priv string getauthheadertok httpservletrequest request string authtyp throws httpauthenticationexception string authheaderbas getauthhead request authtyp string authheaderst stringutils newstringutf bas decodebas authheaderbas getbyt string cred authheaderst split return cred cod tak authheaderbas bas string convert byt tri decod byt incorrect covert bas string direct byt tri part hiv test fail string decod act bas see attach im stray spac colon ex cod car pars bas text pars byt gen convert bas text byt sur affect sec issu may pres definit correct thrift http serv handl au handl correct,SBR
HIVE-23703,h problems example code java drop table exists tbl create transactional table tbl int b int clustered buckets stored orc tblproperties transactional true transactionalproperties default insert tbl values insert tbl values insert tbl values code e g example bucketid data loss non acid tables operator temp files named task id snippet temp files filesinkoperator compaction tables identified bucketid code java conf iscompactiontable fsp initializebucketpaths filesidx acidutils bucketprefix string format acidutils bucketdigits bucketid isnativetable isskewedstoredassubdirectories else fsp initializebucketpaths filesidx taskid isnativetable isskewedstoredassubdirectories code temp files containing data named bucket would normally filesinkoperator commit data filename bucket moved tasktmp ext tmp ext overwrites files already data named bucket see logs code java warn localjobrunner map task executor exec filesinkoperator target path file hive ql target tmp org apache hadoop hive ql testtxnnobuckets warehouse testmajorcompaction base v hive staginghive tmp ext bucket size exists trying delete code results one original file orcfilemergeoperator merges results fsop file named h fix fsop store data taskid bucketid e g bucket orcmergefileop instead merging bunch files file named merge files named bucket one file named bucket movetask get rid taskid directories present move bucket files case orcmergefileop run major qb compaction multiple filesinkoperators results data loss one original file,h problem exampl cod jav drop tabl ex tbl cre transact tabl tbl int b int clust bucket stor orc tblproperties transact tru transactionalproperty default insert tbl valu insert tbl valu insert tbl valu cod e g exampl bucketid dat loss non acid tabl op temp fil nam task id snippet temp fil filesinkop compact tabl ident bucketid cod jav conf iscompactiont fsp initializebucketpath filesidx acidutil bucketprefix string form acidutil bucketdigit bucketid isnativet isskewedstoredassubdirect els fsp initializebucketpath filesidx taskid isnativet isskewedstoredassubdirect cod temp fil contain dat nam bucket would norm filesinkop commit dat filenam bucket mov tasktmp ext tmp ext overwrit fil already dat nam bucket see log cod jav warn localjobrun map task execut exec filesinkop target path fil hiv ql target tmp org apach hadoop hiv ql testtxnnobucket wareh testmajorcompact bas v hiv stagingh tmp ext bucket siz ex try delet cod result on origin fil orcfilemergeop merg result fsop fil nam h fix fsop stor dat taskid bucketid e g bucket orcmergefileop instead merg bunch fil fil nam merg fil nam bucket on fil nam bucket movetask get rid taskid direct pres mov bucket fil cas orcmergefileop run maj qb compact multipl filesinkop result dat loss on origin fil,NSBR
HIVE-23678,build locally apache rat plugin check failing files target directories workaround drat skip truedon enforce asf license headers target files,build loc apach rat plugin check fail fil target direct workaround drat skip truedon enforc asf licens head target fil,NSBR
HIVE-23666,checkhashmodeefficiency skipped groupby operator grouping setcheckhashmodeefficiency skipped groupby operator grouping set,checkhashmodeefficy skip groupby op group setcheckhashmodeefficy skip groupby op group set,NSBR
HIVE-23665,rewrite lastvalue firstvalue enable streaming results lastvalue cannot streamed intermediate results need buffered determine window result till get last row window rewrite firstvalue stream results although order results guaranteed also important rewrite lastvalue firstvalue enable streaming results,rewrit lastvalu firstvalu en streaming result lastvalu cannot streamed intermedy result nee buff determin window result til get last row window rewrit firstvalu stream result although ord result guarantee also import rewrit lastvalu firstvalu en streaming result,NSBR
HIVE-23633,patched hive https issues apache org jira browse hive metastore still seen memory leak db resources many statementimpls left unclosed metastore jdo query objects close properly,patch hiv https issu apach org jir brows hiv metast stil seen mem leak db resourc many statementimpl left unclos metast jdo query object clos prop,NSBR
HIVE-23625,opening drilldown link hs web ui directed following url querypage operationid id since path querypage contains file extensions jetty cannot determine mimetype therefore hive httpserver returns response header content type text plain charset utf information render html browser corrected return text html charset utf hs web ui displays query drill results plain text html,op drilldown link hs web ui direct follow url queryp operationid id sint path queryp contain fil extend jetty cannot determin mimetyp theref hiv httpserver return respons head cont typ text plain charset utf inform rend html brows correct return text html charset utf hs web ui display query dril result plain text html,NSBR
HIVE-23615,pull request https github com apache hive pull focused resolving occurrences sonar rule squid beeline null pointers dereferenceddo deference null pointers beeline commands class,pul request https github com apach hiv pul focus resolv occur son rul squid beelin nul point dereferenceddo def nul point beelin command class,SBR
HIVE-23614,part hive check provided hiveconf speculative execution throw error enabled one path previously provide hiveconf value shows test failures runtimeskewjoinmapjoinspark q skewjoin q skewjoinonesideskew q run part pre commit tests least testclidriver always pass hiveconfig removetemporduplicatefiles,part hiv check provid hiveconf spec execut throw er en on path prevy provid hiveconf valu show test fail runtimeskewjoinmapjoinspark q skewjoin q skewjoinonesideskew q run part pre commit test least testclidr alway pass hiveconfig removetemporduplicatefil,SBR
HIVE-23607,create table testtable id int create view testview select testtable code java user abc read access testview create view succeeds create view testview select testview alter view fails alter view testview select testview error error compiling statement failed hiveaccesscontrolexception permission denied user abc select privilege test testtable state code code permission issue create view another view succeeds alter view fails,cre tabl test id int cre view testview select test cod jav us abc read access testview cre view success cre view testview select testview alt view fail alt view testview select testview er er compil stat fail hiveaccesscontrolexceiv permit deny us abc select privileg test test stat cod cod permit issu cre view anoth view success alt view fail,SBR
HIVE-23606,directbytebuffler cleaned full gc manually invoked cleaner method directbytebuffer since full gc may take time kick meanwhile native memory usage llap daemon process might shoot force yarn pmem monitor kill container running daemon hive tried solve problem code structure got messed hive identityhashmap torelease initialized https github com apache hive blob master ql src java org apache hadoop hive ql io orc encoded encodedreaderimpl java l getting initialized inside method getdatafromcacheanddisk https github com apache hive blob master ql src java org apache hadoop hive ql io orc encoded encodedreaderimpl java l makes local method hence original torelease identityhashmap remains empty llap delay directbytebuffer clean encodedreaderimpl,directbytebuffl cle ful gc man invok cle method directbytebuff sint ful gc may tak tim kick meanwhil nat mem us llap daemon process might shoot forc yarn pmem monit kil contain run daemon hiv tri solv problem cod structure got mess hiv identityhashmap toreleas init https github com apach hiv blob mast ql src jav org apach hadoop hiv ql io orc encod encodedreaderimpl jav l get init insid method getdatafromcacheanddisk https github com apach hiv blob mast ql src jav org apach hadoop hiv ql io orc encod encodedreaderimpl jav l mak loc method hent origin toreleas identityhashmap remain empty llap delay directbytebuff cle encodedreaderimpl,NSBR
HIVE-23601,code java private void closestatementifneeded throws sqlexception try stmthandle null tcloseoperationreq closereq new tcloseoperationreq stmthandle tcloseoperationresp closeresp client closeoperation closereq utils verifysuccesswithinfo closeresp getstatus stmthandle null catch sqlexception e throw e catch exception e throw new sqlexception failed close statement e void closeclientoperation throws sqlexception closestatementifneeded isqueryclosed true stmthandle null code verifysuccesswithinfo throws exception finds error code therefore leapfrogs setting statement handle null twice probably intended since original author tried twice null hive statement clear statement handle error,cod jav priv void closestatementifnee throws sqlexception try stmthandle nul tcloseoperationreq closereq new tcloseoperationreq stmthandle tcloseoperationresp closeresp cli closeop closereq util verifysuccesswithinfo closeresp getstat stmthandle nul catch sqlexception e throw e catch exceiv e throw new sqlexception fail clos stat e void closeclientop throws sqlexception closestatementifnee isqueryclos tru stmthandle nul cod verifysuccesswithinfo throws exceiv find er cod theref leapfrog set stat handl nul twic prob intend sint origin auth tri twic nul hiv stat clear stat handl er,SBR
HIVE-23593,issue comes calcite related class interesting ql already shaded calcite code caused java lang nosuchfielderror operands org apache hadoop hive ql optimizer calcite translator exprnodeconverter visitcall exprnodeconverter java hive exec snapshot jar snapshot org apache hadoop hive ql optimizer calcite translator exprnodeconverter visitcall exprnodeconverter java hive exec snapshot jar snapshot org apache calcite rex rexcall accept rexcall java calcite core jar org apache hadoop hive ql optimizer calcite hiverexexecutorimpl reduce hiverexexecutorimpl java hive exec snapshot jar snapshot org apache hadoop hive ql parse type hivefunctionhelper foldexpression hivefunctionhelper java hive exec snapshot jar snapshot org apache hadoop hive ql parse type hivefunctionhelper createconstantobjectinspector hivefunctionhelper java hive exec snapshot jar snapshot org apache hadoop hive ql parse type hivefunctionhelper createobjectinspector hivefunctionhelper java hive exec snapshot jar snapshot org apache hadoop hive ql parse type hivefunctionhelper getreturntype hivefunctionhelper java hive exec snapshot jar snapshot org apache hadoop hive ql parse type rexnodeexprfactory createfunccallexpr rexnodeexprfactory java hive exec snapshot jar snapshot code schemainit fails nosuchfielderror,issu com calcit rel class interest ql already shad calcit cod caus jav lang nosuchfielder operand org apach hadoop hiv ql optim calcit transl exprnodeconvert visitcal exprnodeconvert jav hiv exec snapshot jar snapshot org apach hadoop hiv ql optim calcit transl exprnodeconvert visitcal exprnodeconvert jav hiv exec snapshot jar snapshot org apach calcit rex rexcal acceiv rexcal jav calcit cor jar org apach hadoop hiv ql optim calcit hiverexexecutorimpl reduc hiverexexecutorimpl jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars typ hivefunctionhelp foldexpress hivefunctionhelp jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars typ hivefunctionhelp createconstantobjectinspect hivefunctionhelp jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars typ hivefunctionhelp createobjectinspect hivefunctionhelp jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars typ hivefunctionhelp getreturntyp hivefunctionhelp jav hiv exec snapshot jar snapshot org apach hadoop hiv ql pars typ rexnodeexprfact createfunccallexpr rexnodeexprfact jav hiv exec snapshot jar snapshot cod schemainit fail nosuchfielder,NSBR
HIVE-23592,code java title buddyallocator java utility methods used store pairs ints long private static long makeintpair int first int second return long first second private static int getfirstint long result return int result private static int getsecondint long result return int result l code code java long result llap makeintpair integer minvalue integer minvalue llap getfirstint result integer minvalue throw new exception llap getsecondint result integer minvalue throw new exception exception thread main java lang exception org test testme main testme java code https github com apache hive blob b c b c f b llap server src java org apache hadoop hive llap cache buddyallocator java l routine makeintpair correct,cod jav titl buddyalloc jav util method us stor pair int long priv stat long makeintpair int first int second return long first second priv stat int getfirstint long result return int result priv stat int getsecondint long result return int result l cod cod jav long result llap makeintpair integ minvalu integ minvalu llap getfirstint result integ minvalu throw new exceiv llap getsecondint result integ minvalu throw new exceiv exceiv thread main jav lang exceiv org test testm main testm jav cod https github com apach hiv blob b c b c f b llap serv src jav org apach hadoop hiv llap cach buddyalloc jav l routin makeintpair correct,SBR
HIVE-23591,hive removed sleep thrift exception would result active loop hms unreachable wait trying connect hms worker fails connect metastore wait retrying,hiv remov sleep thrift exceiv would result act loop hms unreach wait try connect hms work fail connect metast wait retry,NSBR
HIVE-23582,llap uses hostaffinitysplitlocationprovider implementation default non zookeeper based environments different split location provider may used facilitate make splitlocationprovider implementation class pluggable llap make splitlocationprovider impl pluggable,llap us hostaffinitysplitlocationprovid impl default non zookeep bas environ diff split loc provid may us facilit mak splitlocationprovider impl class plug llap mak splitlocationprovider impl plug,NSBR
HIVE-23580,removescratchdir always calls canceldeleteonexit context cleardeleteonexit set cleaned causing memory pressure,removescratchdir alway cal canceldeleteonexit context cleardeleteonexit set cle caus mem press,NSBR
HIVE-23561,arrow serializer properly handle decimal primitive values selected array used detail decimalvaluesetter setting value arrowindex value hiveindex j however currently using index https github com apache hive blob eac e ea bc f da ed c bfe f ql src java org apache hadoop hive ql io arrow serializer java l works fine cases j selected used returns wrong decimal row values j ticket fixes inconsistency adds tests selected indexes supported typesfix arrow decimal serialization native vectorrowbatches,arrow ser prop handl decim primit valu select array us detail decimalvalueset set valu arrowindex valu hiveindex j howev cur us index https github com apach hiv blob eac e ea bc f da ed c bfe f ql src jav org apach hadoop hiv ql io arrow ser jav l work fin cas j select us return wrong decim row valu j ticket fix inconsist ad test select index support typesfix arrow decim ser nat vectorrowbatch,NSBR
HIVE-23551,update statements create delta folders end execution insert overwrite followed update executed get open txns ends caching base folder however delta folder gets created end statement never makes cache creates wrong results acid update queries treat dircache read acidutils,upd stat cre delt fold end execut insert overwrit follow upd execut get op txns end cach bas fold howev delt fold get cre end stat nev mak cach cre wrong result acid upd query tre dircach read acidutil,NSBR
HIVE-23550,reproducible case noformat create table c int c int c int select getsplits select c count distinct c group c count distinct c noformat error noformat error java io ioexception org apache hadoop hive ql optimizer calcite calcitesemanticexception distinct without aggregation state code noformat happens calcite understand query select c count distinct c group c count distinct c throws calcitesemanticexception query run directly via beeline hiveserver catches exception analyzes query turning cbo retrying mechanism missing getsplits udf getsplits retries queries caclitesemanticexception,reproduc cas noform cre tabl c int c int c int select getsplit select c count distinct c group c count distinct c noform er noform er jav io ioexceiv org apach hadoop hiv ql optim calcit calcitesemanticexceiv distinct without aggreg stat cod noform hap calcit understand query select c count distinct c group c count distinct c throws calcitesemanticexceiv query run direct via beelin hiveserv catch exceiv analys query turn cbo retry mech miss getsplit udf getsplit retry query caclitesemanticexceiv,NSBR
HIVE-23544,hive adds references new stagetype enum values extend thrift file full build scratch including thrift generation fails code mvn clean install dskiptests pthriftif dthrift home usr local code code info build failure info info total time min info finished info error failed execute goal org apache maven plugins maven compiler plugin compile default compile project hive exec compilation failure compilation failure error home abstractdog apache hive ql src java org apache hadoop hive ql exec repl rangerdumptask java cannot find symbol error symbol variable rangerdump error location class org apache hadoop hive ql plan api stagetype error home abstractdog apache hive ql src java org apache hadoop hive ql exec repl acktask java cannot find symbol error symbol variable ack error location class org apache hadoop hive ql plan api stagetype error home abstractdog apache hive ql src java org apache hadoop hive ql exec repl rangerloadtask java cannot find symbol error symbol variable rangerload error location class org apache hadoop hive ql plan api stagetype error help code add missing stagetype enum values thrift file hive,hiv ad ref new stagetyp en valu extend thrift fil ful build scratch includ thrift gen fail cod mvn cle instal dskiptests pthriftif dthrift hom usr loc cod cod info build fail info info tot tim min info fin info er fail execut goal org apach mav plugin mav compil plugin compil default compil project hiv exec compil fail compil fail er hom abstractdog apach hiv ql src jav org apach hadoop hiv ql exec repl rangerdumptask jav cannot find symbol er symbol vary rangerdump er loc class org apach hadoop hiv ql plan ap stagetyp er hom abstractdog apach hiv ql src jav org apach hadoop hiv ql exec repl acktask jav cannot find symbol er symbol vary ack er loc class org apach hadoop hiv ql plan ap stagetyp er hom abstractdog apach hiv ql src jav org apach hadoop hiv ql exec repl rangerloadtask jav cannot find symbol er symbol vary rangerload er loc class org apach hadoop hiv ql plan ap stagetyp er help cod ad miss stagetyp en valu thrift fil hiv,NSBR
HIVE-23534,retryingmetastoreclient invoke method catches metaexception attempts classify checking message however cases e g various places objectstore https github com apache hive blob f f e e cf standalone metastore metastore server src main java org apache hadoop hive metastore objectstore java l message metaexception null leads npe npe retryingmetastoreclient invoke catching metaexception message,retryingmetastorec invok method catch metaexceiv attempt class check mess howev cas e g vary plac objectst https github com apach hiv blob f f e e cf standalon metast metast serv src main jav org apach hadoop hiv metast objectst jav l mess metaexceiv nul lead npe npe retryingmetastorec invok catch metaexceiv mess,NSBR
HIVE-23531,exception code java error tezchild tez maprecordsource org apache hadoop hive ql metadata hiveexception hive runtime error processing row org apache hadoop hive ql exec mapoperator process mapoperator java org apache hadoop hive ql exec tez maprecordsource processrow maprecordsource java org apache hadoop hive ql exec tez maprecordsource pushrecord maprecordsource java org apache hadoop hive ql exec tez maprecordprocessor run maprecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez tezprocessor run tezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java com google common util concurrent trustedlistenablefuturetask trustedfutureinterruptibletask runinterruptibly trustedlistenablefuturetask java com google common util concurrent interruptibletask run interruptibletask java com google common util concurrent trustedlistenablefuturetask run trustedlistenablefuturetask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java caused java lang classcastexception java lang integer cannot cast org apache hadoop io intwritable org apache hadoop hive ql exec filesinkoperator process filesinkoperator java org apache hadoop hive ql exec operator forward operator java org apache hadoop hive ql exec selectoperator process selectoperator java org apache hadoop hive ql exec operator forward operator java org apache hadoop hive ql exec tablescanoperator process tablescanoperator java org apache hadoop hive ql exec mapoperator mapopctx forward mapoperator java org apache hadoop hive ql exec mapoperator process mapoperator java code tez vectorization turned primitives row wrapped writables vectorfilesinkoperator major crud qb compaction failing classcastexception vectorization,exceiv cod jav er tezchild tez maprecordsourc org apach hadoop hiv ql metadat hiveexceiv hiv runtim er process row org apach hadoop hiv ql exec mapop process mapop jav org apach hadoop hiv ql exec tez maprecordsourc processrow maprecordsourc jav org apach hadoop hiv ql exec tez maprecordsourc pushrecord maprecordsourc jav org apach hadoop hiv ql exec tez maprecordprocess run maprecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez tezprocess run tezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav com googl common util concur trustedlistenablefuturetask trustedfutureinterruptibletask runinterrupt trustedlistenablefuturetask jav com googl common util concur interruptibletask run interruptibletask jav com googl common util concur trustedlistenablefuturetask run trustedlistenablefuturetask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav caus jav lang classcastexceiv jav lang integ cannot cast org apach hadoop io intwrit org apach hadoop hiv ql exec filesinkop process filesinkop jav org apach hadoop hiv ql exec op forward op jav org apach hadoop hiv ql exec selectop process selectop jav org apach hadoop hiv ql exec op forward op jav org apach hadoop hiv ql exec tablescanop process tablescanop jav org apach hadoop hiv ql exec mapop mapopctx forward mapop jav org apach hadoop hiv ql exec mapop process mapop jav cod tez vect turn primit row wrap writ vectorfilesinkop maj crud qb compact fail classcastexceiv vect,SBR
HIVE-23529,ctas queries fail uniontype source table hive vectorized use vector serde deserialize false objectinspectorutils copytostandardobject rowdeserialize path extracts value union type however vectorassignrow expects standardunion object causing classcastexception ctas query ctas broken uniontype rowdeserialize,cta query fail uniontyp sourc tabl hiv vect us vect serd des fals objectinspectorutil copytostandardobject rowdes path extract valu un typ howev vectorassignrow expect standardun object caus classcastexceiv cta query cta brok uniontyp rowdes,SBR
HIVE-23518,updating file permissions tez check permission change needed following conditional code java spillfileperms equals spillfileperms applyumask fspermission getumask conf rfs setpermission filename spillfileperms code config object changing background setpermission call skipped rfs file system always local file system need check beforehand generate additional namenode call code java rfs localfilesystem filesystem getlocal conf getraw code remove statement permission change unconditionally tez may skip file permission update intermediate output,upd fil permit tez check permit chang nee follow condit cod jav spillfileperm eq spillfileperm applyumask fspermission getumask conf rfs setpermit filenam spillfileperm cod config object chang background setpermit cal skip rfs fil system alway loc fil system nee check beforehand gen addit namenod cal cod jav rfs localfilesystem filesystem getloc conf getraw cod remov stat permit chang uncondit tez may skip fil permit upd intermedy output,SBR
HIVE-23509,observed assertionerror errors hive query rowcount join issued x x following stacktrace noformat basetaskrunner py info subtask error vertex failed vertexname map vertexid vertex diagnostics task failed taskid task diagnostics taskattempt failed info error error running task failure attempt java lang runtimeexception java lang assertionerror capacity must power two basetaskrunner py info subtask org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java basetaskrunner py info subtask org apache hadoop hive ql exec tez tezprocessor run tezprocessor java basetaskrunner py info subtask org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java basetaskrunner py info subtask org apache tez runtime task taskrunner callable run taskrunner callable java basetaskrunner py info subtask org apache tez runtime task taskrunner callable run taskrunner callable java basetaskrunner py info subtask java security accesscontroller doprivileged native method basetaskrunner py info subtask javax security auth subject doas subject java basetaskrunner py info subtask org apache hadoop security usergroupinformation doas usergroupinformation java basetaskrunner py info subtask org apache tez runtime task taskrunner callable callinternal taskrunner callable java basetaskrunner py info subtask org apache tez runtime task taskrunner callable callinternal taskrunner callable java basetaskrunner py info subtask org apache tez common callablewithndc call callablewithndc java basetaskrunner py info subtask java util concurrent futuretask run futuretask java basetaskrunner py info subtask java util concurrent threadpoolexecutor runworker threadpoolexecutor java basetaskrunner py info subtask java util concurrent threadpoolexecutor worker run threadpoolexecutor java basetaskrunner py info subtask java lang thread run thread java basetaskrunner py info subtask caused java lang assertionerror capacity must power two basetaskrunner py info subtask org apache hadoop hive ql exec persistence bytesbytesmultihashmap validatecapacity bytesbytesmultihashmap java basetaskrunner py info subtask org apache hadoop hive ql exec persistence bytesbytesmultihashmap expandandrehashimpl bytesbytesmultihashmap java basetaskrunner py info subtask org apache hadoop hive ql exec persistence bytesbytesmultihashmap expandandrehashtotarget bytesbytesmultihashmap java basetaskrunner py info subtask org apache hadoop hive ql exec persistence hybridhashtablecontainer hashpartition gethashmapfromdisk hybridhashtablecontainer java basetaskrunner py info subtask org apache hadoop hive ql exec mapjoinoperator reloadhashtable mapjoinoperator java basetaskrunner py info subtask org apache hadoop hive ql exec mapjoinoperator continueprocess mapjoinoperator java basetaskrunner py info subtask org apache hadoop hive ql exec mapjoinoperator closeop mapjoinoperator java basetaskrunner py info subtask org apache hadoop hive ql exec operator close operator java basetaskrunner py info subtask org apache hadoop hive ql exec operator close operator java basetaskrunner py info subtask org apache hadoop hive ql exec tez maprecordprocessor close maprecordprocessor java basetaskrunner py info subtask org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java basetaskrunner py info subtask basetaskrunner py info subtask taskattempt failed info error error running task failure attempt java lang runtimeexception java lang assertionerror capacity must power two basetaskrunner py info subtask org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java basetaskrunner py info subtask org apache hadoop hive ql exec tez tezprocessor run tezprocessor java basetaskrunner py info subtask org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java basetaskrunner py info subtask org apache tez runtime task taskrunner callable run taskrunner callable java basetaskrunner py info subtask org apache tez runtime task taskrunner callable run taskrunner callable java basetaskrunner py info subtask java security accesscontroller doprivileged native method basetaskrunner py info subtask javax security auth subject doas subject java basetaskrunner py info subtask org apache hadoop security usergroupinformation doas usergroupinformation java basetaskrunner py info subtask org apache tez runtime task taskrunner callable callinternal taskrunner callable java basetaskrunner py info subtask org apache tez runtime task taskrunner callable callinternal taskrunner callable java basetaskrunner py info subtask org apache tez common callablewithndc call callablewithndc java basetaskrunner py info subtask java util concurrent futuretask run futuretask java basetaskrunner py info subtask java util concurrent threadpoolexecutor runworker threadpoolexecutor java basetaskrunner py info subtask java util concurrent threadpoolexecutor worker run threadpoolexecutor java basetaskrunner py info subtask java lang thread run thread java basetaskrunner py info subtask caused java lang assertionerror capacity must power two basetaskrunner py info subtask org apache hadoop hive ql exec persistence bytesbytesmultihashmap validatecapacity bytesbytesmultihashmap java basetaskrunner py info subtask org apache hadoop hive ql exec persistence bytesbytesmultihashmap expandandrehashimpl bytesbytesmultihashmap java basetaskrunner py info subtask org apache hadoop hive ql exec persistence bytesbytesmultihashmap expandandrehashtotarget bytesbytesmultihashmap java basetaskrunner py info subtask org apache hadoop hive ql exec persistence hybridhashtablecontainer hashpartition gethashmapfromdisk hybridhashtablecontainer java basetaskrunner py info subtask org apache hadoop hive ql exec mapjoinoperator reloadhashtable mapjoinoperator java basetaskrunner py info subtask org apache hadoop hive ql exec mapjoinoperator continueprocess mapjoinoperator java basetaskrunner py info subtask org apache hadoop hive ql exec mapjoinoperator closeop mapjoinoperator java basetaskrunner py info subtask org apache hadoop hive ql exec operator close operator java basetaskrunner py info subtask org apache hadoop hive ql exec operator close operator java basetaskrunner py info subtask org apache hadoop hive ql exec tez maprecordprocessor close maprecordprocessor java basetaskrunner py info subtask org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java basetaskrunner py info subtask basetaskrunner py info subtask taskattempt failed info error error running task failure attempt java lang runtimeexception java lang assertionerror capacity must power two basetaskrunner py info subtask org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java basetaskrunner py info subtask org apache hadoop hive ql exec tez tezprocessor run tezprocessor java basetaskrunner py info subtask org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java basetaskrunner py info subtask org apache tez runtime task taskrunner callable run taskrunner callable java basetaskrunner py info subtask org apache tez runtime task taskrunner callable run taskrunner callable java basetaskrunner py info subtask java security accesscontroller doprivileged native method basetaskrunner py info subtask javax security auth subject doas subject java basetaskrunner py info subtask org apache hadoop security usergroupinformation doas usergroupinformation java basetaskrunner py info subtask org apache tez runtime task taskrunner callable callinternal taskrunner callable java basetaskrunner py info subtask org apache tez runtime task taskrunner callable callinternal taskrunner callable java basetaskrunner py info subtask org apache tez common callablewithndc call callablewithndc java basetaskrunner py info subtask java util concurrent futuretask run futuretask java basetaskrunner py info subtask java util concurrent threadpoolexecutor runworker threadpoolexecutor java basetaskrunner py info subtask java util concurrent threadpoolexecutor worker run threadpoolexecutor java basetaskrunner py info subtask java lang thread run thread java basetaskrunner py info subtask caused java lang assertionerror capacity must power two basetaskrunner py info subtask org apache hadoop hive ql exec persistence bytesbytesmultihashmap validatecapacity bytesbytesmultihashmap java basetaskrunner py info subtask org apache hadoop hive ql exec persistence bytesbytesmultihashmap expandandrehashimpl bytesbytesmultihashmap java basetaskrunner py info subtask org apache hadoop hive ql exec persistence bytesbytesmultihashmap expandandrehashtotarget bytesbytesmultihashmap java basetaskrunner py info subtask org apache hadoop hive ql exec persistence hybridhashtablecontainer hashpartition gethashmapfromdisk hybridhashtablecontainer java basetaskrunner py info subtask org apache hadoop hive ql exec mapjoinoperator reloadhashtable mapjoinoperator java basetaskrunner py info subtask org apache hadoop hive ql exec mapjoinoperator continueprocess mapjoinoperator java basetaskrunner py info subtask org apache hadoop hive ql exec mapjoinoperator closeop mapjoinoperator java basetaskrunner py info subtask org apache hadoop hive ql exec operator close operator java basetaskrunner py info subtask org apache hadoop hive ql exec operator close operator java basetaskrunner py info subtask org apache hadoop hive ql exec tez maprecordprocessor close maprecordprocessor java basetaskrunner py info subtask org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java basetaskrunner py info subtask basetaskrunner py info subtask taskattempt failed info error error running task failure attempt java lang runtimeexception java lang assertionerror capacity must power two basetaskrunner py info subtask org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java basetaskrunner py info subtask org apache hadoop hive ql exec tez tezprocessor run tezprocessor java basetaskrunner py info subtask org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java basetaskrunner py info subtask org apache tez runtime task taskrunner callable run taskrunner callable java basetaskrunner py info subtask org apache tez runtime task taskrunner callable run taskrunner callable java basetaskrunner py info subtask java security accesscontroller doprivileged native method basetaskrunner py info subtask javax security auth subject doas subject java basetaskrunner py info subtask org apache hadoop security usergroupinformation doas usergroupinformation java basetaskrunner py info subtask org apache tez runtime task taskrunner callable callinternal taskrunner callable java basetaskrunner py info subtask org apache tez runtime task taskrunner callable callinternal taskrunner callable java basetaskrunner py info subtask org apache tez common callablewithndc call callablewithndc java basetaskrunner py info subtask java util concurrent futuretask run futuretask java basetaskrunner py info subtask java util concurrent threadpoolexecutor runworker threadpoolexecutor java basetaskrunner py info subtask java util concurrent threadpoolexecutor worker run threadpoolexecutor java basetaskrunner py info subtask java lang thread run thread java basetaskrunner py info subtask caused java lang assertionerror capacity must power two basetaskrunner py info subtask org apache hadoop hive ql exec persistence bytesbytesmultihashmap validatecapacity bytesbytesmultihashmap java basetaskrunner py info subtask org apache hadoop hive ql exec persistence bytesbytesmultihashmap expandandrehashimpl bytesbytesmultihashmap java basetaskrunner py info subtask org apache hadoop hive ql exec persistence bytesbytesmultihashmap expandandrehashtotarget bytesbytesmultihashmap java basetaskrunner py info subtask org apache hadoop hive ql exec persistence hybridhashtablecontainer hashpartition gethashmapfromdisk hybridhashtablecontainer java basetaskrunner py info subtask org apache hadoop hive ql exec mapjoinoperator reloadhashtable mapjoinoperator java basetaskrunner py info subtask org apache hadoop hive ql exec mapjoinoperator continueprocess mapjoinoperator java basetaskrunner py info subtask org apache hadoop hive ql exec mapjoinoperator closeop mapjoinoperator java basetaskrunner py info subtask org apache hadoop hive ql exec operator close operator java basetaskrunner py info subtask org apache hadoop hive ql exec operator close operator java basetaskrunner py info subtask org apache hadoop hive ql exec tez maprecordprocessor close maprecordprocessor java basetaskrunner py info subtask org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java basetaskrunner py info subtask noformat mapjoin assertionerror capacity must power,observ assertioner er hiv query rowcount join issu x x follow stacktrac noform basetaskrun py info subtask er vertex fail vertexnam map vertexid vertex diagnost task fail taskid task diagnost taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang assertioner capac must pow two basetaskrun py info subtask org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav basetaskrun py info subtask org apach hadoop hiv ql exec tez tezprocess run tezprocess jav basetaskrun py info subtask org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav basetaskrun py info subtask org apach tez runtim task taskrun cal run taskrun cal jav basetaskrun py info subtask org apach tez runtim task taskrun cal run taskrun cal jav basetaskrun py info subtask jav sec accesscontrol doprivileg nat method basetaskrun py info subtask javax sec au subject doa subject jav basetaskrun py info subtask org apach hadoop sec usergroupinform doa usergroupinform jav basetaskrun py info subtask org apach tez runtim task taskrun cal callintern taskrun cal jav basetaskrun py info subtask org apach tez runtim task taskrun cal callintern taskrun cal jav basetaskrun py info subtask org apach tez common callablewithndc cal callablewithndc jav basetaskrun py info subtask jav util concur futuretask run futuretask jav basetaskrun py info subtask jav util concur threadpoolexecutor runwork threadpoolexecutor jav basetaskrun py info subtask jav util concur threadpoolexecutor work run threadpoolexecutor jav basetaskrun py info subtask jav lang thread run thread jav basetaskrun py info subtask caus jav lang assertioner capac must pow two basetaskrun py info subtask org apach hadoop hiv ql exec persist bytesbytesmultihashmap validatecapac bytesbytesmultihashmap jav basetaskrun py info subtask org apach hadoop hiv ql exec persist bytesbytesmultihashmap expandandrehashimpl bytesbytesmultihashmap jav basetaskrun py info subtask org apach hadoop hiv ql exec persist bytesbytesmultihashmap expandandrehashtotarget bytesbytesmultihashmap jav basetaskrun py info subtask org apach hadoop hiv ql exec persist hybridhashtablecontain hashpartit gethashmapfromdisk hybridhashtablecontain jav basetaskrun py info subtask org apach hadoop hiv ql exec mapjoinop reloadhasht mapjoinop jav basetaskrun py info subtask org apach hadoop hiv ql exec mapjoinop continueprocess mapjoinop jav basetaskrun py info subtask org apach hadoop hiv ql exec mapjoinop closeop mapjoinop jav basetaskrun py info subtask org apach hadoop hiv ql exec op clos op jav basetaskrun py info subtask org apach hadoop hiv ql exec op clos op jav basetaskrun py info subtask org apach hadoop hiv ql exec tez maprecordprocess clos maprecordprocess jav basetaskrun py info subtask org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav basetaskrun py info subtask basetaskrun py info subtask taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang assertioner capac must pow two basetaskrun py info subtask org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav basetaskrun py info subtask org apach hadoop hiv ql exec tez tezprocess run tezprocess jav basetaskrun py info subtask org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav basetaskrun py info subtask org apach tez runtim task taskrun cal run taskrun cal jav basetaskrun py info subtask org apach tez runtim task taskrun cal run taskrun cal jav basetaskrun py info subtask jav sec accesscontrol doprivileg nat method basetaskrun py info subtask javax sec au subject doa subject jav basetaskrun py info subtask org apach hadoop sec usergroupinform doa usergroupinform jav basetaskrun py info subtask org apach tez runtim task taskrun cal callintern taskrun cal jav basetaskrun py info subtask org apach tez runtim task taskrun cal callintern taskrun cal jav basetaskrun py info subtask org apach tez common callablewithndc cal callablewithndc jav basetaskrun py info subtask jav util concur futuretask run futuretask jav basetaskrun py info subtask jav util concur threadpoolexecutor runwork threadpoolexecutor jav basetaskrun py info subtask jav util concur threadpoolexecutor work run threadpoolexecutor jav basetaskrun py info subtask jav lang thread run thread jav basetaskrun py info subtask caus jav lang assertioner capac must pow two basetaskrun py info subtask org apach hadoop hiv ql exec persist bytesbytesmultihashmap validatecapac bytesbytesmultihashmap jav basetaskrun py info subtask org apach hadoop hiv ql exec persist bytesbytesmultihashmap expandandrehashimpl bytesbytesmultihashmap jav basetaskrun py info subtask org apach hadoop hiv ql exec persist bytesbytesmultihashmap expandandrehashtotarget bytesbytesmultihashmap jav basetaskrun py info subtask org apach hadoop hiv ql exec persist hybridhashtablecontain hashpartit gethashmapfromdisk hybridhashtablecontain jav basetaskrun py info subtask org apach hadoop hiv ql exec mapjoinop reloadhasht mapjoinop jav basetaskrun py info subtask org apach hadoop hiv ql exec mapjoinop continueprocess mapjoinop jav basetaskrun py info subtask org apach hadoop hiv ql exec mapjoinop closeop mapjoinop jav basetaskrun py info subtask org apach hadoop hiv ql exec op clos op jav basetaskrun py info subtask org apach hadoop hiv ql exec op clos op jav basetaskrun py info subtask org apach hadoop hiv ql exec tez maprecordprocess clos maprecordprocess jav basetaskrun py info subtask org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav basetaskrun py info subtask basetaskrun py info subtask taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang assertioner capac must pow two basetaskrun py info subtask org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav basetaskrun py info subtask org apach hadoop hiv ql exec tez tezprocess run tezprocess jav basetaskrun py info subtask org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav basetaskrun py info subtask org apach tez runtim task taskrun cal run taskrun cal jav basetaskrun py info subtask org apach tez runtim task taskrun cal run taskrun cal jav basetaskrun py info subtask jav sec accesscontrol doprivileg nat method basetaskrun py info subtask javax sec au subject doa subject jav basetaskrun py info subtask org apach hadoop sec usergroupinform doa usergroupinform jav basetaskrun py info subtask org apach tez runtim task taskrun cal callintern taskrun cal jav basetaskrun py info subtask org apach tez runtim task taskrun cal callintern taskrun cal jav basetaskrun py info subtask org apach tez common callablewithndc cal callablewithndc jav basetaskrun py info subtask jav util concur futuretask run futuretask jav basetaskrun py info subtask jav util concur threadpoolexecutor runwork threadpoolexecutor jav basetaskrun py info subtask jav util concur threadpoolexecutor work run threadpoolexecutor jav basetaskrun py info subtask jav lang thread run thread jav basetaskrun py info subtask caus jav lang assertioner capac must pow two basetaskrun py info subtask org apach hadoop hiv ql exec persist bytesbytesmultihashmap validatecapac bytesbytesmultihashmap jav basetaskrun py info subtask org apach hadoop hiv ql exec persist bytesbytesmultihashmap expandandrehashimpl bytesbytesmultihashmap jav basetaskrun py info subtask org apach hadoop hiv ql exec persist bytesbytesmultihashmap expandandrehashtotarget bytesbytesmultihashmap jav basetaskrun py info subtask org apach hadoop hiv ql exec persist hybridhashtablecontain hashpartit gethashmapfromdisk hybridhashtablecontain jav basetaskrun py info subtask org apach hadoop hiv ql exec mapjoinop reloadhasht mapjoinop jav basetaskrun py info subtask org apach hadoop hiv ql exec mapjoinop continueprocess mapjoinop jav basetaskrun py info subtask org apach hadoop hiv ql exec mapjoinop closeop mapjoinop jav basetaskrun py info subtask org apach hadoop hiv ql exec op clos op jav basetaskrun py info subtask org apach hadoop hiv ql exec op clos op jav basetaskrun py info subtask org apach hadoop hiv ql exec tez maprecordprocess clos maprecordprocess jav basetaskrun py info subtask org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav basetaskrun py info subtask basetaskrun py info subtask taskattempt fail info er er run task fail attempt jav lang runtimeexceiv jav lang assertioner capac must pow two basetaskrun py info subtask org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav basetaskrun py info subtask org apach hadoop hiv ql exec tez tezprocess run tezprocess jav basetaskrun py info subtask org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav basetaskrun py info subtask org apach tez runtim task taskrun cal run taskrun cal jav basetaskrun py info subtask org apach tez runtim task taskrun cal run taskrun cal jav basetaskrun py info subtask jav sec accesscontrol doprivileg nat method basetaskrun py info subtask javax sec au subject doa subject jav basetaskrun py info subtask org apach hadoop sec usergroupinform doa usergroupinform jav basetaskrun py info subtask org apach tez runtim task taskrun cal callintern taskrun cal jav basetaskrun py info subtask org apach tez runtim task taskrun cal callintern taskrun cal jav basetaskrun py info subtask org apach tez common callablewithndc cal callablewithndc jav basetaskrun py info subtask jav util concur futuretask run futuretask jav basetaskrun py info subtask jav util concur threadpoolexecutor runwork threadpoolexecutor jav basetaskrun py info subtask jav util concur threadpoolexecutor work run threadpoolexecutor jav basetaskrun py info subtask jav lang thread run thread jav basetaskrun py info subtask caus jav lang assertioner capac must pow two basetaskrun py info subtask org apach hadoop hiv ql exec persist bytesbytesmultihashmap validatecapac bytesbytesmultihashmap jav basetaskrun py info subtask org apach hadoop hiv ql exec persist bytesbytesmultihashmap expandandrehashimpl bytesbytesmultihashmap jav basetaskrun py info subtask org apach hadoop hiv ql exec persist bytesbytesmultihashmap expandandrehashtotarget bytesbytesmultihashmap jav basetaskrun py info subtask org apach hadoop hiv ql exec persist hybridhashtablecontain hashpartit gethashmapfromdisk hybridhashtablecontain jav basetaskrun py info subtask org apach hadoop hiv ql exec mapjoinop reloadhasht mapjoinop jav basetaskrun py info subtask org apach hadoop hiv ql exec mapjoinop continueprocess mapjoinop jav basetaskrun py info subtask org apach hadoop hiv ql exec mapjoinop closeop mapjoinop jav basetaskrun py info subtask org apach hadoop hiv ql exec op clos op jav basetaskrun py info subtask org apach hadoop hiv ql exec op clos op jav basetaskrun py info subtask org apach hadoop hiv ql exec tez maprecordprocess clos maprecordprocess jav basetaskrun py info subtask org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav basetaskrun py info subtask noform mapjoin assertioner capac must pow,SBR
HIVE-23508,parameters column desc database filled request extended point showing column otherwise show parameters column non extended desc database,paramet column desc databas fil request extend point show column otherw show paramet column non extend desc databas,SBR
HIVE-23503,validtxnmanager consider txns opened committed snapshot generation locking evaluating validtxnliststate cause issues like duplicate insert case concurrent merge insert insert validtxnmanager consider txns opened committed snapshot generation locking evaluating validtxnliststate,validtxnm consid txns op commit snapshot gen lock evalu validtxnlistst caus issu lik duply insert cas concur merg insert insert validtxnm consid txns op commit snapshot gen lock evalu validtxnlistst,SBR
HIVE-23501,aoob vectordeserializerow complex types converted primitive typesaoob vectordeserializerow complex types converted primitive types,aoob vectordeserializerow complex typ convert primit typesaoob vectordeserializerow complex typ convert primit typ,SBR
HIVE-23500,kubernetes environment pods host name port situations node trackers could retaining old instance pod cache case hive llap llap tez task scheduler maintains membership nodes based zookeeper registry events cases nodeadded followed noderemoved event could end removing node host node trackers stable hostname service port noderemoved event case old stale event already dead pod zk send session timeout case non graceful shutdown sequence events happen node host completely lost form schedulers perspective support scenario tez extend yarn nodeid include uniqueidentifier llap task scheduler construct container object new nodeid includes uniqueidentifier well stale events like remove host node matches old uniqueidentifier kubernetes use extend nodeid llap registration,kubernet environ pod host nam port situ nod track could retain old inst pod cach cas hiv llap llap tez task scheduler maintain memb nod bas zookeep reg ev cas nodead follow noderemov ev could end remov nod host nod track stabl hostnam serv port noderemov ev cas old stal ev already dead pod zk send sess timeout cas non grac shutdown sequ ev hap nod host complet lost form schedulers perspect support scenario tez extend yarn nodeid includ uniqueident llap task scheduler construct contain object new nodeid includ uniqueident wel stal ev lik remov host nod match old uniqueident kubernet us extend nodeid llap reg,NSBR
HIVE-23480,tests org apache hadoop hive common teststatssetupconst teststatcolumnentriescompat replies jackson serialize params string however jackson library uses reflection api getdeclaredfields guarantee specific order returned field order fields json string might change thus test fail pass without changes code example error message code java org junit comparisonfailure expected basicstats true columnstats foo true columnstats foo true basicstats true org apache hadoop hive common teststatssetupconst teststatcolumnentriescompat teststatssetupconst java code ideally test reply order returned api generates deterministic result potential solution use library like https github com skyscreamer jsonassert compare string order agnostic way test may fail due incorrect usage third party library,test org apach hadoop hiv common teststatssetupconst teststatcolumnentriescomp reply jackson ser param string howev jackson libr us reflect ap getdeclaredfield guar spec ord return field ord field json string might chang thu test fail pass without chang cod exampl er mess cod jav org junit comparisonfail expect basicst tru columnst foo tru columnst foo tru basicst tru org apach hadoop hiv common teststatssetupconst teststatcolumnentriescomp teststatssetupconst jav cod id test reply ord return ap gen determin result pot solv us libr lik https github com skyscream jsonassert comp string ord agnost way test may fail due incorrect us third party libr,SBR
HIVE-23477,buddyallocator always uses lazy allocation mmap enabled query fragment interrupted time arena allocation closedbyinterruptionexception thrown exception artificially triggers allocator outofmemoryerror fails notify threads waiting allocate arenas code java warn teztr llapioimpl failed trying allocate memory mapped arena java nio channels closedbyinterruptexception java nio channels spi abstractinterruptiblechannel end abstractinterruptiblechannel java sun nio ch filechannelimpl map filechannelimpl java org apache hadoop hive llap cache buddyallocator preallocatearenabuffer buddyallocator java org apache hadoop hive llap cache buddyallocator access buddyallocator java org apache hadoop hive llap cache buddyallocator arena init buddyallocator java org apache hadoop hive llap cache buddyallocator arena allocatewithexpand buddyallocator java org apache hadoop hive llap cache buddyallocator arena access buddyallocator java org apache hadoop hive llap cache buddyallocator allocatewithexpand buddyallocator java org apache hadoop hive llap cache buddyallocator allocatemultiple buddyallocator java org apache hadoop hive llap io metadata metadatacache wrapbbforfile metadatacache java org apache hadoop hive llap io metadata metadatacache putfilemetadata metadatacache java org apache hadoop hive llap io metadata metadatacache putfilemetadata metadatacache java org apache hadoop hive ql io parquet vector vectorizedparquetrecordreader readsplitfooter vectorizedparquetrecordreader java org apache hadoop hive ql io parquet vector vectorizedparquetrecordreader initialize vectorizedparquetrecordreader java org apache hadoop hive ql io parquet vector vectorizedparquetrecordreader init vectorizedparquetrecordreader java org apache hadoop hive ql io parquet vectorizedparquetinputformat getrecordreader vectorizedparquetinputformat java org apache hadoop hive ql io parquet mapredparquetinputformat getrecordreader mapredparquetinputformat java org apache hadoop hive ql io hiveinputformat getrecordreader hiveinputformat java org apache hadoop mapred split tezgroupedsplitsinputformat tezgroupedsplitsrecordreader initnextrecordreader tezgroupedsplitsinputformat java org apache hadoop mapred split tezgroupedsplitsinputformat tezgroupedsplitsrecordreader init tezgroupedsplitsinputformat java org apache hadoop mapred split tezgroupedsplitsinputformat getrecordreader tezgroupedsplitsinputformat java org apache tez mapreduce lib mrreadermapred setupoldrecordreader mrreadermapred java org apache tez mapreduce lib mrreadermapred setsplit mrreadermapred java org apache tez mapreduce input mrinput initfromeventinternal mrinput java org apache tez mapreduce input mrinput initfromevent mrinput java org apache tez mapreduce input mrinputlegacy checkandawaitrecordreaderinitialization mrinputlegacy java org apache tez mapreduce input mrinputlegacy init mrinputlegacy java org apache hadoop hive ql exec tez maprecordprocessor getmrinput maprecordprocessor java org apache hadoop hive ql exec tez maprecordprocessor init maprecordprocessor java org apache hadoop hive ql exec tez tezprocessor initializeandrunprocessor tezprocessor java org apache hadoop hive ql exec tez tezprocessor run tezprocessor java org apache tez runtime logicalioprocessorruntimetask run logicalioprocessorruntimetask java org apache tez runtime task taskrunner callable run taskrunner callable java org apache tez runtime task taskrunner callable run taskrunner callable java java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez runtime task taskrunner callable callinternal taskrunner callable java org apache tez common callablewithndc call callablewithndc java org apache hadoop hive llap daemon impl statsrecordingthreadpool wrappedcallable call statsrecordingthreadpool java java util concurrent futuretask run futuretask java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java error teztr vector vectorizedparquetrecordreader failed create vectorized reader due exception java lang outofmemoryerror cannot allocate bytes failed trying allocate memory mapped arena null make sure xmx process size set correctly code code java teztr daemon prio osprio tid x f nid x c runnable x f java lang thread state timedwaiting object monitor java lang throwable fillinstacktrace native method java lang throwable fillinstacktrace throwable java locked x f c e java lang interruptedexception java lang throwable init throwable java java lang exception init exception java java lang interruptedexception init interruptedexception java java lang object wait native method org apache hadoop hive llap cache buddyallocator arena allocatewithexpand buddyallocator java locked x f f org apache hadoop hive llap cache buddyallocator arena org apache hadoop hive llap cache buddyallocator arena access buddyallocator java org apache hadoop hive llap cache buddyallocator allocatewithexpand buddyallocator java org apache hadoop hive llap cache buddyallocator allocatemultiple buddyallocator java org apache hadoop hive llap io metadata metadatacache wrapbbforfile metadatacache java org apache hadoop hive llap io metadata metadatacache putfilemetadata metadatacache java org apache hadoop hive llap io metadata metadatacache putfilemetadata metadatacache java org apache hadoop hive ql io parquet vector vectorizedparquetrecordreader readsplitfooter vectorizedparquetrecordreader java code code java teztr daemon prio osprio tid x f nid x object wait x f f java lang thread state timedwaiting object monitor java lang object wait native method org apache hadoop hive llap cache buddyallocator arena allocatewithexpand buddyallocator java locked x f f org apache hadoop hive llap cache buddyallocator arena code teztr got interrupted threw oom failed notify threads teztr thread stuck forever waiting allocate llap mmap allocation interruptions fails notify threads,buddyalloc alway us lazy alloc mmap en query frag interrupt tim aren alloc closedbyinterruptionexceiv thrown exceiv art trig alloc outofmemoryer fail not threads wait alloc arena cod jav warn tezt llapioimpl fail try alloc mem map aren jav nio channel closedbyinterruptexceiv jav nio channel spi abstractinterruptiblechannel end abstractinterruptiblechannel jav sun nio ch filechannelimpl map filechannelimpl jav org apach hadoop hiv llap cach buddyalloc preallocatearenabuff buddyalloc jav org apach hadoop hiv llap cach buddyalloc access buddyalloc jav org apach hadoop hiv llap cach buddyalloc aren init buddyalloc jav org apach hadoop hiv llap cach buddyalloc aren allocatewithexpand buddyalloc jav org apach hadoop hiv llap cach buddyalloc aren access buddyalloc jav org apach hadoop hiv llap cach buddyalloc allocatewithexpand buddyalloc jav org apach hadoop hiv llap cach buddyalloc allocatemultipl buddyalloc jav org apach hadoop hiv llap io metadat metadatacach wrapbbforfil metadatacach jav org apach hadoop hiv llap io metadat metadatacach putfilemetadat metadatacach jav org apach hadoop hiv llap io metadat metadatacach putfilemetadat metadatacach jav org apach hadoop hiv ql io parquet vect vectorizedparquetrecordread readsplitfoot vectorizedparquetrecordread jav org apach hadoop hiv ql io parquet vect vectorizedparquetrecordread init vectorizedparquetrecordread jav org apach hadoop hiv ql io parquet vect vectorizedparquetrecordread init vectorizedparquetrecordread jav org apach hadoop hiv ql io parquet vectorizedparquetinputform getrecordread vectorizedparquetinputform jav org apach hadoop hiv ql io parquet mapredparquetinputform getrecordread mapredparquetinputform jav org apach hadoop hiv ql io hiveinputform getrecordread hiveinputform jav org apach hadoop mapr split tezgroupedsplitsinputform tezgroupedsplitsrecordread initnextrecordread tezgroupedsplitsinputform jav org apach hadoop mapr split tezgroupedsplitsinputform tezgroupedsplitsrecordread init tezgroupedsplitsinputform jav org apach hadoop mapr split tezgroupedsplitsinputform getrecordread tezgroupedsplitsinputform jav org apach tez mapreduc lib mrreadermapred setupoldrecordread mrreadermapred jav org apach tez mapreduc lib mrreadermapred setsplit mrreadermapred jav org apach tez mapreduc input mrinput initfromeventintern mrinput jav org apach tez mapreduc input mrinput initfromev mrinput jav org apach tez mapreduc input mrinputleg checkandawaitrecordreaderinit mrinputleg jav org apach tez mapreduc input mrinputleg init mrinputleg jav org apach hadoop hiv ql exec tez maprecordprocess getmrinput maprecordprocess jav org apach hadoop hiv ql exec tez maprecordprocess init maprecordprocess jav org apach hadoop hiv ql exec tez tezprocess initializeandrunprocess tezprocess jav org apach hadoop hiv ql exec tez tezprocess run tezprocess jav org apach tez runtim logicalioprocessorruntimetask run logicalioprocessorruntimetask jav org apach tez runtim task taskrun cal run taskrun cal jav org apach tez runtim task taskrun cal run taskrun cal jav jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez runtim task taskrun cal callintern taskrun cal jav org apach tez common callablewithndc cal callablewithndc jav org apach hadoop hiv llap daemon impl statsrecordingthreadpool wrappedcal cal statsrecordingthreadpool jav jav util concur futuretask run futuretask jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav er tezt vect vectorizedparquetrecordread fail cre vect read due exceiv jav lang outofmemoryer cannot alloc byt fail try alloc mem map aren nul mak sur xmx process siz set correct cod cod jav tezt daemon prio osprio tid x f nid x c run x f jav lang thread stat timedwait object monit jav lang throwable fillinstacktrac nat method jav lang throwable fillinstacktrac throwable jav lock x f c e jav lang interruptedexceiv jav lang throwable init throwable jav jav lang exceiv init exceiv jav jav lang interruptedexceiv init interruptedexceiv jav jav lang object wait nat method org apach hadoop hiv llap cach buddyalloc aren allocatewithexpand buddyalloc jav lock x f f org apach hadoop hiv llap cach buddyalloc aren org apach hadoop hiv llap cach buddyalloc aren access buddyalloc jav org apach hadoop hiv llap cach buddyalloc allocatewithexpand buddyalloc jav org apach hadoop hiv llap cach buddyalloc allocatemultipl buddyalloc jav org apach hadoop hiv llap io metadat metadatacach wrapbbforfil metadatacach jav org apach hadoop hiv llap io metadat metadatacach putfilemetadat metadatacach jav org apach hadoop hiv llap io metadat metadatacach putfilemetadat metadatacach jav org apach hadoop hiv ql io parquet vect vectorizedparquetrecordread readsplitfoot vectorizedparquetrecordread jav cod cod jav tezt daemon prio osprio tid x f nid x object wait x f f jav lang thread stat timedwait object monit jav lang object wait nat method org apach hadoop hiv llap cach buddyalloc aren allocatewithexpand buddyalloc jav lock x f f org apach hadoop hiv llap cach buddyalloc aren cod tezt got interrupt threw oom fail not threads tezt thread stuck forev wait alloc llap mmap alloc interrupt fail not threads,SBR
HIVE-23476,buddyallocator pre allocation arenas happen mmap cache case since filling mmap ed buffers upfront allocations constructor cheap avoid lock free allocation arenas later code llap preallocate arenas mmap case well,buddyalloc pre alloc arena hap mmap cach cas sint fil mmap ed buff upfront alloc construct cheap avoid lock fre alloc arena lat cod llap prealloc arena mmap cas wel,NSBR
HIVE-23469,pod restarts uses hostname shuffle port fetcher threads connects download shuffle data use cached connection info since pod died shuffle data also get cleaned pod restarts receives connection clients download specific shuffle data daemon restart shufflemanager java knownsrchosts key updated hostinfo combination host port host unique id host host id changes node killed restarted kubernetes use hostname pod uid shuffle manager caching,pod restart us hostnam shuffl port fetch threads connect download shuffl dat us cach connect info sint pod died shuffl dat also get cle pod restart receiv connect cli download spec shuffl dat daemon restart shufflem jav knownsrchost key upd hostinfo combin host port host un id host host id chang nod kil restart kubernet us hostnam pod uid shuffl man cach,NSBR
HIVE-23453,following errors appear compiling code using intellij testvectorgroupbyoperator error java package com sun tools javac util exist staticpermanentfunctionchecker error java package com sun jdi existintellij compile errors staticpermanentfunctionchecker testvectorgroupbyoperator,follow er appear compil cod us intellid testvectorgroupbyop er jav pack com sun tool javac util ex staticpermanentfunctioncheck er jav pack com sun jdi existintellid compil er staticpermanentfunctioncheck testvectorgroupbyop,NSBR
HIVE-23444,following exception may occur concurrently inserting acid table static partitions hive acid direct insert enabled parameter true issue occurs intermittently noformat caused org apache hadoop hive ql metadata hiveexception java io ioexception java io filenotfoundexception file hdfs ns warehouse tablespace managed hive tpchunbucketed db concurrentinsertpartitioned ltax tmp delta exist org apache hadoop hive ql metadata hive loadpartitioninternal hive java hive exec jar org apache hadoop hive ql metadata hive loadpartition hive java hive exec jar org apache hadoop hive ql exec movetask handlestaticparts movetask java hive exec jar org apache hadoop hive ql exec movetask execute movetask java hive exec jar org apache hadoop hive ql exec task executetask task java hive exec jar org apache hadoop hive ql exec taskrunner runsequential taskrunner java hive exec jar org apache hadoop hive ql executor launchtask executor java hive exec jar org apache hadoop hive ql executor launchtasks executor java hive exec jar org apache hadoop hive ql executor runtasks executor java hive exec jar org apache hadoop hive ql executor execute executor java hive exec jar org apache hadoop hive ql driver runinternal driver java hive exec jar org apache hadoop hive ql driver run driver java hive exec jar org apache hadoop hive ql driver run driver java hive exec jar org apache hadoop hive ql reexec reexecdriver run reexecdriver java hive exec jar org apache hive service cli operation sqloperation runquery sqloperation java hive service jar caused java io ioexception java io filenotfoundexception file hdfs ns warehouse tablespace managed hive tpchunbucketed db concurrentinsertpartitioned ltax tmp delta exist org apache hadoop hive ql io acidutils gethdfsdirsnapshots acidutils java hive exec jar org apache hadoop hive ql io acidutils getacidstate acidutils java hive exec jar org apache hadoop hive ql io acidutils getacidfilesforstats acidutils java hive exec jar org apache hadoop hive ql metadata hive loadpartitioninternal hive java hive exec jar org apache hadoop hive ql metadata hive loadpartition hive java hive exec jar org apache hadoop hive ql exec movetask handlestaticparts movetask java hive exec jar org apache hadoop hive ql exec movetask execute movetask java hive exec jar org apache hadoop hive ql exec task executetask task java hive exec jar org apache hadoop hive ql exec taskrunner runsequential taskrunner java hive exec jar org apache hadoop hive ql executor launchtask executor java hive exec jar org apache hadoop hive ql executor launchtasks executor java hive exec jar org apache hadoop hive ql executor runtasks executor java hive exec jar org apache hadoop hive ql executor execute executor java hive exec jar org apache hadoop hive ql driver runinternal driver java hive exec jar org apache hadoop hive ql driver run driver java hive exec jar org apache hadoop hive ql driver run driver java hive exec jar org apache hadoop hive ql reexec reexecdriver run reexecdriver java hive exec jar org apache hive service cli operation sqloperation runquery sqloperation java hive service jar noformat concurrent acid direct inserts may fail filenotfoundexception,follow exceiv may occ concur insert acid tabl stat partit hiv acid direct insert en paramet tru issu occ intermit noform caus org apach hadoop hiv ql metadat hiveexceiv jav io ioexceiv jav io filenotfoundexceiv fil hdfs ns wareh tablespac man hiv tpchunbucketed db concurrentinsertpartit ltax tmp delt ex org apach hadoop hiv ql metadat hiv loadpartitionintern hiv jav hiv exec jar org apach hadoop hiv ql metadat hiv loadpartit hiv jav hiv exec jar org apach hadoop hiv ql exec movetask handlestaticpart movetask jav hiv exec jar org apach hadoop hiv ql exec movetask execut movetask jav hiv exec jar org apach hadoop hiv ql exec task executetask task jav hiv exec jar org apach hadoop hiv ql exec taskrun runsequ taskrun jav hiv exec jar org apach hadoop hiv ql execut launchtask execut jav hiv exec jar org apach hadoop hiv ql execut launchtask execut jav hiv exec jar org apach hadoop hiv ql execut runtask execut jav hiv exec jar org apach hadoop hiv ql execut execut execut jav hiv exec jar org apach hadoop hiv ql driv runintern driv jav hiv exec jar org apach hadoop hiv ql driv run driv jav hiv exec jar org apach hadoop hiv ql driv run driv jav hiv exec jar org apach hadoop hiv ql reexec reexecdr run reexecdr jav hiv exec jar org apach hiv serv cli op sqloperation runquery sqloperation jav hiv serv jar caus jav io ioexceiv jav io filenotfoundexceiv fil hdfs ns wareh tablespac man hiv tpchunbucketed db concurrentinsertpartit ltax tmp delt ex org apach hadoop hiv ql io acidutil gethdfsdirsnapshot acidutil jav hiv exec jar org apach hadoop hiv ql io acidutil getacidst acidutil jav hiv exec jar org apach hadoop hiv ql io acidutil getacidfilesforst acidutil jav hiv exec jar org apach hadoop hiv ql metadat hiv loadpartitionintern hiv jav hiv exec jar org apach hadoop hiv ql metadat hiv loadpartit hiv jav hiv exec jar org apach hadoop hiv ql exec movetask handlestaticpart movetask jav hiv exec jar org apach hadoop hiv ql exec movetask execut movetask jav hiv exec jar org apach hadoop hiv ql exec task executetask task jav hiv exec jar org apach hadoop hiv ql exec taskrun runsequ taskrun jav hiv exec jar org apach hadoop hiv ql execut launchtask execut jav hiv exec jar org apach hadoop hiv ql execut launchtask execut jav hiv exec jar org apach hadoop hiv ql execut runtask execut jav hiv exec jar org apach hadoop hiv ql execut execut execut jav hiv exec jar org apach hadoop hiv ql driv runintern driv jav hiv exec jar org apach hadoop hiv ql driv run driv jav hiv exec jar org apach hadoop hiv ql driv run driv jav hiv exec jar org apach hadoop hiv ql reexec reexecdr run reexecdr jav hiv exec jar org apach hiv serv cli op sqloperation runquery sqloperation jav hiv serv jar noform concur acid direct insert may fail filenotfoundexceiv,NSBR
HIVE-23443,think hive getting stable sort order causing pre emption work certain cases code java attempt hive f f ab e dd map started preemption queue finish attempt hive ae ca e f b b map started preemption queue finish code scheduler peek pre emption queue looks whether non finishable https github com apache hive blob master llap server src java org apache hadoop hive llap daemon impl taskexecutorservice java l case tasks speculative state change triggering pre emption queue ordering peek always returns canfinish task even though non finishable tasks queue llap speculative task pre emption seems working,think hiv get stabl sort ord caus pre empt work certain cas cod jav attempt hiv f f ab e dd map start preempt queu fin attempt hiv ae ca e f b b map start preempt queu fin cod scheduler peek pre empt queu look wheth non fin https github com apach hiv blob mast llap serv src jav org apach hadoop hiv llap daemon impl taskexecutorserv jav l cas task spec stat chang trig pre empt queu ord peek alway return canfin task ev though non fin task queu llap spec task pre empt seem work,NSBR
HIVE-23442,steps reproduce noformat set hive acid direct insert enabled true create external table testcomptxt int b int c int stored textfile insert testcomptxt values create table testcomp int b int c int stored orc tblproperties transactional true insert overwrite table testcomp select testcomptxt update testcomp set b c delete testcomp update testcomp set b select testcomp alter table testcomp compact major select testcomp noformat issue occurs base directory created insert overwrite command hive acid direct insert enabled parameter true issue affect query based compaction acid major compaction read base directory correctly written insert overwrite,step reproduc noform set hiv acid direct insert en tru cre extern tabl testcomptxt int b int c int stor textfil insert testcomptxt valu cre tabl testcomp int b int c int stor orc tblproperties transact tru insert overwrit tabl testcomp select testcomptxt upd testcomp set b c delet testcomp upd testcomp set b select testcomp alt tabl testcomp compact maj select testcomp noform issu occ bas direct cre insert overwrit command hiv acid direct insert en paramet tru issu affect query bas compact acid maj compact read bas direct correct writ insert overwrit,SBR
HIVE-23436,running query generates stats staging directory removed query finishedstaging directory removed stats gathering tasks,run query gen stat stag direct remov query finishedst direct remov stat gath task,NSBR
HIVE-23435,full outer join result missing rows appears bug full outer join logic expected output receiving left right outer join reproducible steps mentioned support analysis steps reproduce create table insert data create table x z char x int int insert x values one two three four five six try full outer command result incomplete missing row null null null three full outer join select x z x x x x z x x x x x full outer join x x x x x x x x x x result x z x x x x z x x x one null null null null null null one two null null null null null null two three null null null four null null null null null null four five null null null null null null five six null null null null null null six expected output coming use left right join union select x z x x x x z x x x x x left outer join x x x x x x x x x x union select x z x x x x z x x x x x right outer join x x x x x x x x x x result z x col col col null null null five null null null four null null null one four null null null one null null null six null null null three null null null two null null null null null null six null null null three null null null two five null null null full outer join result missing rows,ful out join result miss row appear bug ful out join log expect output receiv left right out join reproduc step ment support analys step reproduc cre tabl insert dat cre tabl x z char x int int insert x valu on two three four fiv six try ful out command result incomplet miss row nul nul nul three ful out join select x z x x x x z x x x x x ful out join x x x x x x x x x x result x z x x x x z x x x on nul nul nul nul nul nul on two nul nul nul nul nul nul two three nul nul nul four nul nul nul nul nul nul four fiv nul nul nul nul nul nul fiv six nul nul nul nul nul nul six expect output com us left right join un select x z x x x x z x x x x x left out join x x x x x x x x x x un select x z x x x x z x x x x x right out join x x x x x x x x x x result z x col col col nul nul nul fiv nul nul nul four nul nul nul on four nul nul nul on nul nul nul six nul nul nul three nul nul nul two nul nul nul nul nul nul six nul nul nul three nul nul nul two fiv nul nul nul ful out join result miss row,NSBR
HIVE-23426,show create table view giving incomplete view definitionshow create table views giving incomplete view definition,show cre tabl view giv incomplet view definitionshow cre tabl view giv incomplet view definit,NSBR
HIVE-23423,https issues apache org jira browse hive fixed issue disabling hash aggregation grouping set queries need fix vectorgroupbyoperator operator check disabling hash aggregation ignores grouping set,https issu apach org jir brows hiv fix issu dis hash aggreg group set query nee fix vectorgroupbyop op check dis hash aggreg ign group set,NSBR
HIVE-23409,closing default session tezsessionpool https github com apache hive blob master ql src java org apache hadoop hive ql exec tez teztask java l sessions pool destroyed queries wait indefinitely tezsessionpool getsession hs restarts service recoveries hiveserver background pool thread tez tezsessionpoolmanager closing default session retry failure better allow retry fail hung tezsession application reopen fails timeline service default tezsession sessionpool closed retry,clos default sess tezsessionpool https github com apach hiv blob mast ql src jav org apach hadoop hiv ql exec tez teztask jav l sess pool destroy query wait indefinit tezsessionpool getsess hs restart serv recovery hiveserv background pool thread tez tezsessionpoolm clos default sess retry fail bet allow retry fail hung tezsess apply reop fail timelin serv default tezsess sessionpool clos retry,SBR
HIVE-23392,hive introduced bug metastore upgrade scripts renaming correctly columns txnlocktblmetastore upgrade script txnlocktbl rename inconsistency,hiv introduc bug metast upgrad scripts renam correct column txnlocktblmetastore upgrad script txnlocktbl renam inconsist,NSBR
HIVE-23389,able reproduce issue latest master however could potentially happen since filter creation check whether expression flat https github com apache calcite blob master core src main java org apache calcite rel core filter java l filter merge flatten expression created noformat java lang assertionerror null null cast integer cast integer cast integer org apache calcite rel core filter init filter java org apache hadoop hive ql optimizer calcite reloperators hivefilter init hivefilter java org apache hadoop hive ql optimizer calcite hiverelfactories hivefilterfactoryimpl createfilter hiverelfactories java org apache hadoop hive ql optimizer calcite hiverelbuilder filter hiverelbuilder java org apache calcite tools relbuilder filter relbuilder java org apache calcite rel rules filtermergerule onmatch filtermergerule java noformat filtermergerule lead assertionerror,abl reproduc issu latest mast howev could pot hap sint filt cre check wheth express flat https github com apach calcit blob mast cor src main jav org apach calcit rel cor filt jav l filt merg flat express cre noform jav lang assertioner nul nul cast integ cast integ cast integ org apach calcit rel cor filt init filt jav org apach hadoop hiv ql optim calcit relop hivefilt init hivefilt jav org apach hadoop hiv ql optim calcit hiverelfact hivefilterfactoryimpl createfilt hiverelfact jav org apach hadoop hiv ql optim calcit hiverelbuild filt hiverelbuild jav org apach calcit tool relbuild filt relbuild jav org apach calcit rel rul filtermerger onmatch filtermerger jav noform filtermerger lead assertioner,NSBR
HIVE-23371,logs exceptions like code debug cba ded bb b f cdf faec main stats statsutils interpreting constant resulted exception java lang numberformatexception input string sun misc floatingdecimal readjavaformatstring floatingdecimal java sun misc floatingdecimal parsedouble floatingdecimal java java lang double parsedouble double java org apache hadoop hive ql stats statsutils getconstvalue statsutils java hive exec snapshot jar snapshot org apache hadoop hive ql stats statsutils buildcolstatforconstant statsutils java hive exec snapshot jar snapshot org apache hadoop hive ql stats statsutils getcolstatisticsfromexpression statsutils java hive exec snapshot jar snapshot code however exceptions important might draw attention away important onesstatsutils getconstvalue may log misleading exception,log exceiv lik cod debug cba ded bb b f cdf faec main stat statsutil interpret const result exceiv jav lang numberformatexceiv input string sun misc floatingdecim readjavaformatst floatingdecim jav sun misc floatingdecim parsedoubl floatingdecim jav jav lang doubl parsedoubl doubl jav org apach hadoop hiv ql stat statsutil getconstvalu statsutil jav hiv exec snapshot jar snapshot org apach hadoop hiv ql stat statsutil buildcolstatforconst statsutil jav hiv exec snapshot jar snapshot org apach hadoop hiv ql stat statsutil getcolstatisticsfromexpress statsutil jav hiv exec snapshot jar snapshot cod howev exceiv import might draw at away import onesstatsutil getconstvalu may log mislead exceiv,NSBR
HIVE-23356,hi find many mapreduce map attempts disable hash aggregation processing groupby operator grouping sets expressions logs like disable hash aggr hash table total reduction minreduction means hashtable size even larger number input rows dig deeper find groupby operator disables hash aggregation based number input rows instead rows actually processed groupby operator grouping sets roll cube etc numberrowsprocessed equals groupingsets size numberrowsinput causing hashtablesize much larger querys without grouping sets expressions let consider example query select col col max col tbl group col col grouping sets col col input data col col col configuration hive groupby mapaggr checkinterval minreductionhashaggr currently rows partial aggregate result hash aggregation disabled early null null null null null null null null null null patch disables hash aggregation based number rows actually processed reducing partial result entries lot improving performance aggregation rows partial aggregate result null null null null null null hash aggregation always disabled processing querys grouping sets expressions,hi find many mapreduc map attempt dis hash aggreg process groupby op group set express log lik dis hash aggr hash tabl tot reduc minreduc mean hasht siz ev larg numb input row dig deep find groupby op dis hash aggreg bas numb input row instead row act process groupby op group set rol cub etc numberrowsprocess eq groupingset siz numberrowsinput caus hashtables much larg query without group set express let consid exampl query select col col max col tbl group col col group set col col input dat col col col config hiv groupby mapaggr checkinterv minreductionhashaggr cur row part aggreg result hash aggreg dis ear nul nul nul nul nul nul nul nul nul nul patch dis hash aggreg bas numb row act process reduc part result entry lot improv perform aggreg row part aggreg result nul nul nul nul nul nul hash aggreg alway dis process query group set express,NSBR
HIVE-23355,test framework repro code java ql src test queries clientpositive maskingreserved q b ql src test queries clientpositive maskingreserved q set hive security authorization manager org apache hadoop hive ql security autho create table keywordtestoff id int etad string key int create table keywordteston id int date string key int create table maskingtestnmaskingreserved id int value string key int create temporary table maskingtestnmaskingtemp stored orc select maskingtestnmaskingreserved explain select etad b value keywordtestoff join maskingtestnmaskingreserved b b id id select etad b value keywordtestoff join maskingtestnmaskingreserved b b id id code fails code java info bba b e b c c main parse calciteplanner creating table default maskingtestnmaskingtemp position error bba b e b c c main ql driver failed semanticexception unrecognized file format stored clause orc org apache hadoop hive ql parse semanticexception unrecognized file format stored clause orc org apache hadoop hive ql parse storageformat processstorageformat storageformat java org apache hadoop hive ql parse storageformat fillstorageformat storageformat java org apache hadoop hive ql parse semanticanalyzer analyzecreatetable semanticanalyzer java org apache hadoop hive ql parse semanticanalyzer genresolvedparsetree semanticanalyzer java org apache hadoop hive ql parse semanticanalyzer analyzeinternal semanticanalyzer java org apache hadoop hive ql parse calciteplanner analyzeinternal calciteplanner java org apache hadoop hive ql parse basesemanticanalyzer analyze basesemanticanalyzer java org apache hadoop hive ql compiler analyze compiler java org apache hadoop hive ql compiler compile compiler java org apache hadoop hive ql driver compile driver java code either quote stored argument path strip quotes processstorageformat fix quoting behavior masking enabled,test framework repro cod jav ql src test query clientposit maskingreserv q b ql src test query clientposit maskingreserv q set hiv sec auth man org apach hadoop hiv ql sec autho cre tabl keywordtestoff id int etad string key int cre tabl keywordteston id int dat string key int cre tabl maskingtestnmaskingreserv id int valu string key int cre temp tabl maskingtestnmaskingtemp stor orc select maskingtestnmaskingreserv explain select etad b valu keywordtestoff join maskingtestnmaskingreserv b b id id select etad b valu keywordtestoff join maskingtestnmaskingreserv b b id id cod fail cod jav info bba b e b c c main pars calciteplan cre tabl default maskingtestnmaskingtemp posit er bba b e b c c main ql driv fail semanticexceiv unrecogn fil form stor claus orc org apach hadoop hiv ql pars semanticexceiv unrecogn fil form stor claus orc org apach hadoop hiv ql pars storageform processstorageform storageform jav org apach hadoop hiv ql pars storageform fillstorageform storageform jav org apach hadoop hiv ql pars semanticanalys analyzecreatet semanticanalys jav org apach hadoop hiv ql pars semanticanalys genresolvedparset semanticanalys jav org apach hadoop hiv ql pars semanticanalys analyzeintern semanticanalys jav org apach hadoop hiv ql pars calciteplan analyzeintern calciteplan jav org apach hadoop hiv ql pars basesemanticanalys analys basesemanticanalys jav org apach hadoop hiv ql compil analys compil jav org apach hadoop hiv ql compil compil compil jav org apach hadoop hiv ql driv compil driv jav cod eith quot stor argu path strip quot processstorageform fix quot behavy mask en,SBR
HIVE-23354,https github com apache hive blob cdd aa ebfff cd ql src java org apache hadoop hive ql exec utilities java l l comparetemporduplicatefiles uses combination attemptid filesize determine file keep seen instances function throws exception due fact newer attemptid file size less older attemptid thus failing query think assumption faulty due various factors file compression order values written may prudent trust newest attemptid fact best choice remove file size sanity checking comparetemporduplicatefiles,https github com apach hiv blob cdd aa ebfff cd ql src jav org apach hadoop hiv ql exec util jav l l comparetemporduplicatefil us combin attemptid files determin fil keep seen inst funct throws exceiv due fact new attemptid fil siz less old attemptid thu fail query think assum faul due vary fact fil compress ord valu writ may prud trust newest attemptid fact best cho remov fil siz san check comparetemporduplicatefil,NSBR
HIVE-23349,concurrent merge insert operations generate duplicates due lack locking merge insert treated regular insert acquires sharedread lock prevent inserts use exclusive lock exclwrite hive txn write xlock false code create table target int b int stored orc tblproperties transactional true insert target values create table source int b int code execute parallel code insert source values code acid concurrent merge insert operations produce duplicates,concur merg insert op gen duply due lack lock merg insert tre regul insert acquir sharedread lock prev insert us exclud lock exclwrit hiv txn writ xlock fals cod cre tabl target int b int stor orc tblproperties transact tru insert target valu cre tabl sourc int b int cod execut parallel cod insert sourc valu cod acid concur merg insert op produc duply,NSBR
HIVE-23347,following scenario expect msck repair discover partitions partitioned data path follows hdfs mycluster datapath year month day hdfs mycluster datapath year month day create external table key int value string partitioned year int month int day int stored orc location hdfs mycluster datapath msck repair table show partitions returns zero partitions select returns empty data partition directory names changed lower case works fine hdfs mycluster datapath year month day hdfs mycluster datapath year month day msck repair cannot discover partitions upper case directory names,follow scenario expect msck repair discov partit partit dat path follow hdfs myclust datapa year mon day hdfs myclust datapa year mon day cre extern tabl key int valu string partit year int mon int day int stor orc loc hdfs myclust datapa msck repair tabl show partit return zero partit select return empty dat partit direct nam chang low cas work fin hdfs myclust datapa year mon day hdfs myclust datapa year mon day msck repair cannot discov partit up cas direct nam,SBR
HIVE-23345,reproduce create external table tspq ts timestamp stored parquet insert tspq values create external table tspq ts bigint stored parquet location location tspq select tspq following exception occurs select failed exception java io ioexception org apache hadoop hive ql metadata hiveexception java lang classcastexception org apache hadoop hive serde io timestampwritablev cannot cast org apache hadoop io longwritableint parquet timestamps cannot read bigint hive type,reproduc cre extern tabl tspq ts timestamp stor parquet insert tspq valu cre extern tabl tspq ts bigint stor parquet loc loc tspq select tspq follow exceiv occ select fail exceiv jav io ioexceiv org apach hadoop hiv ql metadat hiveexceiv jav lang classcastexceiv org apach hadoop hiv serd io timestampwritablev cannot cast org apach hadoop io longwritableint parquet timestamp cannot read bigint hiv typ,SBR
HIVE-23339,doas true storagebasedauthorization provider create database specific location succeeds even user access path code java hadoop fs ls tmp cannotwrite drwx hive hadoop tmp cannotwrite create database tmp cannotwrite would expect fail actually created successfully hive owner rtrivedi bdp beeline e create database rtrivedi location tmp cannotwrite rtrivedi info ok rows affected seconds hive hpchdd e hadoop fs ls tmp cannotwrite found items drwx hive hadoop tmp cannotwrite rtrivedi code sba check permissions db location specified create alter database query,doa tru storagebasedauth provid cre databas spec loc success ev us access path cod jav hadoop fs ls tmp cannotwrit drwx hiv hadoop tmp cannotwrit cre databas tmp cannotwrit would expect fail act cre success hiv own rtrivedi bdp beelin e cre databas rtrivedi loc tmp cannotwrit rtrivedi info ok row affect second hiv hpchdd e hadoop fs ls tmp cannotwrit found item drwx hiv hadoop tmp cannotwrit rtrivedi cod sba check permit db loc spec cre alt databas query,SBR
HIVE-23319,test shows incorrect behaviour non deterministcal manner https issues apache org jira browse hive focusedcommentid page com atlassian jira plugin system issuetabpanels acomment tabpanel comment multiinsertpartitioned flaky,test show incorrect behavio non deterministc man https issu apach org jir brows hiv focusedcommentid pag com atlass jir plugin system issuetabpanel acom tabpanel com multiinsertpartit flaky,SBR
HIVE-23317,saw seem new flaky tests partitionwisefileformatxx tests started failing recent builds going back https builds apache org job precommit hive build almost least one partitionwisefileformatxx test failing gone back builds partitionwisefileformat tests flapping result order changes,saw seem new flaky test partitionwisefileformatxx test start fail rec build going back https build apach org job precommit hiv build almost least on partitionwisefileformatxx test fail gon back build partitionwisefileform test flap result ord chang,NSBR
HIVE-23316,database managed location recently introduced tests added cover also following issues fixed alter database set managedlocation commands handled separate path ddl command type analyzer desc operation class case setting location managedlocation location getting qualified create database command case setting location managedlocation checked modification makes two minor checkstyle issues fixed well also ddl documentation modified add tests cover database managed location related ddl fix minor issues,databas man loc rec introduc test ad cov also follow issu fix alt databas set managedloc command handl sep path ddl command typ analys desc op class cas set loc managedloc loc get qual cre databas command cas set loc managedloc check mod mak two min checkstyl issu fix wel also ddl docu mod ad test cov databas man loc rel ddl fix min issu,SBR
HIVE-23315,end show extended tables show materialized views command empty line like code java tabname tabletype sample managedtable sample managedtable weblogs managedtable null code removed remove empty line end show extended tables show materialized views,end show extend tabl show mat view command empty lin lik cod jav tabnam tabletyp sampl managedt sampl managedt weblog managedt nul cod remov remov empty lin end show extend tabl show mat view,NSBR
HIVE-23311,query execution shared lock tables txnlist drivercontext always considered valid fix validtxnmanager regression,query execut shar lock tabl txnlist drivercontext alway consid valid fix validtxnm regress,SBR
HIVE-23309,initialize hadoop shims cm enabledlazy initialization hadoop shims,init hadoop shim cm enabledlazy init hadoop shim,NSBR
HIVE-23306,property set restricted hive conf restricted list setting set system property reset command fails code caused java lang illegalargumentexception cannot modify hive query max length runtime list parameters modified runtime prefixed restricted variable code reset command work config set system getproperty,property set restrict hiv conf restrict list set set system property reset command fail cod caus jav lang illegalargumentexceiv cannot mod hiv query max leng runtim list paramet mod runtim prefix restrict vary cod reset command work config set system getproperty,SBR
HIVE-23305,code java java lang nullpointerexception org apache hadoop hive llap tezplugins llaptaskschedulerservice addnode llaptaskschedulerservice java org apache hadoop hive llap tezplugins llaptaskschedulerservice registerandaddnode llaptaskschedulerservice java org apache hadoop hive llap tezplugins llaptaskschedulerservice access llaptaskschedulerservice java org apache hadoop hive llap tezplugins llaptaskschedulerservice nodestatechangelistener oncreate llaptaskschedulerservice java org apache hadoop hive llap tezplugins llaptaskschedulerservice nodestatechangelistener oncreate llaptaskschedulerservice java org apache hadoop hive registry impl zkregistrybase instancestatechangelistener childevent zkregistrybase java code exception happens node registers fast active activeinstances field initialized registry started listener registered initializing activeinstances code java registry start registry registerstatechangelistener new nodestatechangelistener activeinstances registry getinstances code nullpointerexception llaptaskschedulerservice addnode due race condition,cod jav jav lang nullpointerexceiv org apach hadoop hiv llap tezplugin llaptaskschedulerserv addnod llaptaskschedulerserv jav org apach hadoop hiv llap tezplugin llaptaskschedulerserv registerandaddnod llaptaskschedulerserv jav org apach hadoop hiv llap tezplugin llaptaskschedulerserv access llaptaskschedulerserv jav org apach hadoop hiv llap tezplugin llaptaskschedulerserv nodestatechangel oncr llaptaskschedulerserv jav org apach hadoop hiv llap tezplugin llaptaskschedulerserv nodestatechangel oncr llaptaskschedulerserv jav org apach hadoop hiv reg impl zkregistrybase instancestatechangel childev zkregistrybase jav cod exceiv hap nod reg fast act activeinst field init reg start list reg init activeinst cod jav reg start reg registerstatechangel new nodestatechangel activeinst reg getinst cod nullpointerexceiv llaptaskschedulerserv addnod due rac condit,SBR
HIVE-23295,getliterallist searchargumentimpl predicateleafimpl returns null dynamic values available code java override public list object getliterallist literallist null literallist size literallist get instanceof literaldelegate list object newliteralist new arraylist object try object litertalobj literallist object literal literaldelegate litertalobj getliteral literal null newliteralist add literal catch nodynamicvaluesexception err log debug error retrieving literallist returning null err return null return newliteralist return literallist code multiple call sites return value used without null check e g leaf getliterallist stream return null added part hive avoid unimportant warning message dynamic values delivered yet sershe jdere propose return empty list instead null case like think possible npe getting predicate literal list dynamic values available,getliteral searchargumentimpl predicateleafimpl return nul dynam valu avail cod jav overrid publ list object getliteral literal nul literal siz literal get instanceof literaldeleg list object newlit new arrayl object try object litertalobs literal object lit literaldeleg litertalobs getlit lit nul newlit ad lit catch nodynamicvaluesexceiv er log debug er retriev literal return nul er return nul return newlit return literal cod multipl cal sit return valu us without nul check e g leaf getliteral stream return nul ad part hiv avoid unimport warn mess dynam valu del yet sersh jder propos return empty list instead nul cas lik think poss npe get pred lit list dynam valu avail,NSBR
HIVE-23286,filesinkoperator code path operator aborted noformat else come exception thrown map reduce hadoop always call close even exception thrown map reduce fspaths fsp valtopaths values fsp abortwritersandupdaters fs abort autodelete isnativetable conf ismmtable noformat part fsp abortwritersandupdaters method call consider conf isdirectinsert parameter well since parameter missing method delete content table insert failure aborts filesinkoperator acid direct insert turned clean case aborted filesinkoperator correct acid direct insert,filesinkop cod path op abort noform els com exceiv thrown map reduc hadoop alway cal clos ev exceiv thrown map reduc fspaths fsp valtopath valu fsp abortwritersandupd fs abort autodelet isnativet conf ismmt noform part fsp abortwritersandupd method cal consid conf isdirectinsert paramet wel sint paramet miss method delet cont tabl insert fail abort filesinkop acid direct insert turn cle cas abort filesinkop correct acid direct insert,NSBR
HIVE-23265,query produces duplicate results even duplicate records underlying tables sample query code java select orderdatatestext order col limit code problem appears order clause used col non unique rows apparently duplicates produced reducer phase query set hive vectorized execution reduce enabled false cause problem data table follows code java code results hive vectorized execution reduce enabled true code java orderdatatestext col orderdatatestext col code results hive vectorized execution reduce enabled false code java orderdatatestext col orderdatatestext col code table ddl code java create external table orderdatatestext col int col int stored orc code attached sample orc file problem appears vectorlimitoperator code info tezchild vector vectorselectoperator initializing operator sel info tezchild vector vectorselectoperator recordsoutintermediatemap recordsoutoperatorsel info tezchild vector vectorselectoperator initializing operator sel info tezchild vector vectorselectoperator recordsoutoperatorsel recordsoutintermediatereducer info tezchild vector vectorlimitoperator initializing operator lim info tezchild vector vectorlimitoperator recordsoutintermediatereducer recordsoutoperatorlim code duplicate rowsets returned limit offset set,query produc duply result ev duply record und tabl sampl query cod jav select orderdatatestext ord col limit cod problem appear ord claus us col non un row app duply produc reduc phas query set hiv vect execut reduc en fals caus problem dat tabl follow cod jav cod result hiv vect execut reduc en tru cod jav orderdatatestext col orderdatatestext col cod result hiv vect execut reduc en fals cod jav orderdatatestext col orderdatatestext col cod tabl ddl cod jav cre extern tabl orderdatatestext col int col int stor orc cod attach sampl orc fil problem appear vectorlimitop cod info tezchild vect vectorselectop init op sel info tezchild vect vectorselectop recordsoutintermediatemap recordsoutoperatorsel info tezchild vect vectorselectop init op sel info tezchild vect vectorselectop recordsoutoperatorsel recordsoutintermediatereduc info tezchild vect vectorlimitop init op lim info tezchild vect vectorlimitop recordsoutintermediatereduc recordsoutoperatorlim cod duply rowset return limit offset set,SBR
HIVE-23259,headers two files merged part hive include apache headers issue add unlock validation pass fix apache rat validation,head two fil merg part hiv includ apach head issu ad unlock valid pass fix apach rat valid,SBR
HIVE-23243,show databases pattern accepts java like pattern use sql like instead accept sql type like pattern show databases,show databas pattern acceiv jav lik pattern us sql lik instead acceiv sql typ lik pattern show databas,NSBR
HIVE-23242,tests ignored see https issues apache org jira browse hive details fix flaky tests testhousekeepingthreadexistence testmetastorehousekeepingleaderemptyconfig testmetastorehousekeepingleader,test ign see https issu apach org jir brows hiv detail fix flaky test testhousekeepingthreadex testmetastorehousekeepingleaderemptyconfig testmetastorehousekeepinglead,NSBR
HIVE-23240,hive computing valid dynamic partitions https github com apache hive blob master ql src java org apache hadoop hive ql metadata hive java l however later uses specification provided client https github com apache hive blob master ql src java org apache hadoop hive ql metadata hive java l partspec exactly client provided partspec keyset contains static dynamic partitions key result makespecfromname expect static dynamic partitions requiredkeys https github com apache hive blob master standalone metastore metastore common src main java org apache hadoop hive metastore warehouse java l however since curpath passed method like somepath dynamicpart value miss static partitions result method ignore static partition keys complains log warning static partition keys missing returning false hive java log warning dynamicpart value invalid partition issued despite fact dynamic partition validated https github com apache hive blob master ql src java org apache hadoop hive ql metadata hive java l cause silent data corruption clients example spark suffer working hive metastore master branch seems goal warn client need ignore valid dynamic partition loaddynamicpartition complains static partitions even provided description,hiv comput valid dynam partit https github com apach hiv blob mast ql src jav org apach hadoop hiv ql metadat hiv jav l howev lat us spec provid cli https github com apach hiv blob mast ql src jav org apach hadoop hiv ql metadat hiv jav l partspec exact cli provid partspec keyset contain stat dynam partit key result makespecfromnam expect stat dynam partit requiredkey https github com apach hiv blob mast standalon metast metast common src main jav org apach hadoop hiv metast wareh jav l howev sint curpa pass method lik somepa dynamicpart valu miss stat partit result method ign stat partit key complain log warn stat partit key miss return fals hiv jav log warn dynamicpart valu invalid partit issu despit fact dynam partit valid https github com apach hiv blob mast ql src jav org apach hadoop hiv ql metadat hiv jav l caus sil dat corrupt cli exampl spark suff work hiv metast mast branch seem goal warn cli nee ign valid dynam partit loaddynamicpartit complain stat partit ev provid describ,SBR
HIVE-23233,testsessioncleanup testsessionmanagermetrics tests apply default operation logs location confvars hiveserver loggingoperationloglocation os path testsessionmanagermetrics sessionmanager delete operation logs directory testing exit testsessioncleanup file count checked operation logs directory test cases executed parrallel impact run hive tests local machine enable maven parallel mode run tests option dforkcount run test class separeted processes execute test class parallel try run tests several times issue happen using default operation logs location cause hive service session testing failed,testsessioncleanup testsessionmanagermet test apply default op log loc confv hiveserv loggingoperationlogloc os path testsessionmanagermet sessionm delet op log direct test exit testsessioncleanup fil count check op log direct test cas execut parrallel impact run hiv test loc machin en mav parallel mod run test opt dforkcount run test class separet process execut test class parallel try run test sev tim issu hap us default op log loc caus hiv serv sess test fail,NSBR
HIVE-23232,test sometimes failed error tez environment likely root cause two minihs using tez parallel sample exception texecute expected null java sql sqlexception error compiling statement failed execution error return code org apache hadoop hive ql exec tez teztask previous writer likely failed write hdfs localhost user hiveptest hivejars hive exec snapshot bf cd b f efefbbbddc ccb e eb bb jar failing unlikely write fix flaky testjdbcwithservicediscovery testkillquerywithdifferentserverzkturnedoff,test sometim fail er tez environ lik root caus two minih us tez parallel sampl exceiv texecut expect nul jav sql sqlexception er compil stat fail execut er return cod org apach hadoop hiv ql exec tez teztask prevy writ lik fail writ hdfs localhost us hiveptest hivej hiv exec snapshot bf cd b f efefbbbddc ccb e eb bb jar fail unlik writ fix flaky testjdbcwithservicediscovery testkillquerywithdifferentserverzkturnedoff,NSBR
HIVE-23230,issue running query noformat select table limit n noformat spark via hive warehouse connector may return rows n happens getsplits udf creates splits ignoring limit constraint splits submitted multiple llap daemons return n rows reproduce needs spark shell hive warehouse connector hive llap llap daemons running run commands via beeline create populate table noformat create table test id int insert table test values insert table test values insert table test values insert table test values insert table test values insert table test values insert table test values delete test id noformat running query via spark shell noformat import com hortonworks hwc hivewarehousesession val hive hivewarehousesession session spark build hive executequery select test limit show noformat return rows getsplits udf ignores limit clause creating splits,issu run query noform select tabl limit n noform spark via hiv wareh connect may return row n hap getsplit udf cre splits ign limit constraint splits submit multipl llap daemon return n row reproduc nee spark shel hiv wareh connect hiv llap llap daemon run run command via beelin cre pop tabl noform cre tabl test id int insert tabl test valu insert tabl test valu insert tabl test valu insert tabl test valu insert tabl test valu insert tabl test valu insert tabl test valu delet test id noform run query via spark shel noform import com hortonwork hwc hivewarehousesess val hiv hivewarehousesess sess spark build hiv executequery select test limit show noform return row getsplit udf ign limit claus cre splits,SBR
HIVE-23221,tests failing indeterministic fashion error messages one attached ignore flaky test testhousekeepingthreadexistence testmetastorehousekeepingleaderemptyconfig testmetastorehousekeepingleader,test fail indetermin fash er mess on attach ign flaky test testhousekeepingthreadex testmetastorehousekeepingleaderemptyconfig testmetastorehousekeepinglead,NSBR
HIVE-23215,hive introduced filtercontext support orc duplication fields filtercontext vectorizedrowbatch seems likely cause user confusion patch makes interfaces vectorizedrowbatch implements thus single copy data need copy back forth llap make implementation interfaces want use vectorizedrowbatch make filtercontext mutablefiltercontext interfaces,hiv introduc filtercontext support orc duply field filtercontext vectorizedrowbatch seem lik caus us confus patch mak interfac vectorizedrowbatch impl thu singl cop dat nee cop back for llap mak impl interfac want us vectorizedrowbatch mak filtercontext mutablefiltercontext interfac,NSBR
HIVE-23211,differences character encoding defaults etc metastore schema initialize using init scripts upgrade using upgrade scripts schema identical fix metastore schema differences init scripts upgrade scripts,diff charact encod default etc metast schema init us init scripts upgrad us upgrad scripts schema id fix metast schema diff init scripts upgrad scripts,NSBR
HIVE-23206,following highlighted line seems incorrect test suite https github com apache hive blob master ql src test results clientpositive perf tez cboquery q l note project takes columns table scan yet needs couple small debugging removed applyjoinorderingtransform https github com apache hive blob master ql src java org apache hadoop hive ql parse calciteplanner java l problem goes away presumably one rules causing problem slightly simplified version query problem using tpc ds database explain cbo wswh select ws wsordernumber websales ws webreturns wr ws wsordernumber wr wrordernumber select wsordernumber websales ws ws wsordernumber select wrordernumber webreturns wswh wrordernumber wswh wsordernumber project defined correctly reordering join,follow highlight lin seem incorrect test suit https github com apach hiv blob mast ql src test result clientposit perf tez cboquery q l not project tak column tabl scan yet nee coupl smal debug remov applyjoinorderingtransform https github com apach hiv blob mast ql src jav org apach hadoop hiv ql pars calciteplan jav l problem goe away presum on rul caus problem slight simpl vert query problem us tpc ds databas explain cbo wswh select ws wsordernumb webs ws webreturn wr ws wsordernumb wr wrordernumb select wsordernumb webs ws ws wsordernumb select wrordernumb webreturn wswh wrordernumb wswh wsordernumb project defin correct reord join,SBR
HIVE-23195,config hive cluster delegation token gc interval set long duration hour created issues heavy loaded cluster tokens may cleaned fast enough cleaner thread may fail clean tokens may cause issues like eating much space llap startup failures slow system startup hive cluster delegation token gc interval reduced hour relatively shorter period mins zookeeper tokens cleaned timely mitigate issues set hive cluster delegation token gc interval minutes instead hour,config hiv clust deleg tok gc interv set long dur hour cre issu heavy load clust tok may cle fast enough cle thread may fail cle tok may caus issu lik eat much spac llap startup fail slow system startup hiv clust deleg tok gc interv reduc hour rel short period min zookeep tok cle tim mitig issu set hiv clust deleg tok gc interv minut instead hour,NSBR
HIVE-23184,upgrade druid latest release upgrade druid,upgrad druid latest releas upgrad druid,NSBR
HIVE-23179,table special character delimiters shown show create output eg create external table test age int name string row format delimited fields terminated u stored textfile show create output createtabstmt create external table test age int name string row format serde org apache hadoop hive serde lazy lazysimpleserde serdeproperties field delim serialization format stored inputformat org apache hadoop mapred textinputformat outputformat org apache hadoop hive ql io hiveignorekeytextoutputformat location hdfs abcd warehouse tablespace external hive testca tblproperties bucketingversion discover partitions true transientlastddltime client console able show ctrl properly better show output unicode shown desc formatted storage desc params null null field delim u serialization format u show create table showing serde properties unicode,tabl spec charact delimit shown show cre output eg cre extern tabl test ag int nam string row form delimit field termin u stor textfil show cre output createtabstmt cre extern tabl test ag int nam string row form serd org apach hadoop hiv serd lazy lazysimpleserd serdeproperty field delim ser form stor inputform org apach hadoop mapr textinputform outputform org apach hadoop hiv ql io hiveignorekeytextoutputform loc hdfs abcd wareh tablespac extern hiv testc tblproperties bucketingvert discov partit tru transientlastddltim cli consol abl show ctrl prop bet show output unicod shown desc format stor desc param nul nul field delim u ser form u show cre tabl show serd property unicod,SBR
HIVE-23164,hiveserver receives deregister command first preparing shutdown remaining session hiveserver stop called shut found case hiveserver jvm terminated even hiveserver stop called processed case always occurred local embedded metastore used attached full thread dump describing situation threaddumphiveserver isnotterminated txt thread dump see bunch daemon threads main thread non daemon thread user thread specified https www baeldung com java daemon thread least one user thread exists jvm terminate note destroyjavavm thread non daemon special code java pool thread prio osprio tid x f ad fc nid x c waiting condition x f c java lang thread state timedwaiting parking sun misc unsafe park native method parking wait x cfa c java util concurrent locks abstractqueuedsynchronizer conditionobject java util concurrent locks locksupport parknanos locksupport java java util concurrent locks abstractqueuedsynchronizer conditionobject awaitnanos abstractqueuedsynchronizer java java util concurrent scheduledthreadpoolexecutor delayedworkqueue take scheduledthreadpoolexecutor java java util concurrent scheduledthreadpoolexecutor delayedworkqueue take scheduledthreadpoolexecutor java java util concurrent threadpoolexecutor gettask threadpoolexecutor java java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java locked ownable synchronizers none code thread created scheduledthreadpoolexecutor int coresize constructor default threadfactory always makes thread non daemon thread pool destroyed calling scheduledthreadpoolexecutor shutdown method jvm cannot terminate way kill term signal jvm receives term signal ignores non daemon threads terminates digging modules create scheduledthreadpoolexecutor non daemon threads got may guess local embedded metastore scheduledthreadpoolexecutor created org apache hadoop hive metastore hivemetastore hmshandler startalwaystaskthreads scheduledthreadpoolexecutor shutdown never called plus found another usage creating scheduledthreadpoolexecutor calling shutdown server properly terminated non daemon threads,hiveserv receiv dereg command first prep shutdown remain sess hiveserv stop cal shut found cas hiveserv jvm termin ev hiveserv stop cal process cas alway occur loc embed metast us attach ful thread dump describ situ threaddumphiveserver isnottermin txt thread dump see bunch daemon threads main thread non daemon thread us thread spec https www baeldung com jav daemon thread least on us thread ex jvm termin not destroyjavavm thread non daemon spec cod jav pool thread prio osprio tid x f ad fc nid x c wait condit x f c jav lang thread stat timedwait park sun misc unsaf park nat method park wait x cfa c jav util concur lock abstractqueuedsynchron conditionobject jav util concur lock locksupport parknano locksupport jav jav util concur lock abstractqueuedsynchron conditionobject awaitnano abstractqueuedsynchron jav jav util concur scheduledthreadpoolexecutor delayedworkqueu tak scheduledthreadpoolexecutor jav jav util concur scheduledthreadpoolexecutor delayedworkqueu tak scheduledthreadpoolexecutor jav jav util concur threadpoolexecutor gettask threadpoolexecutor jav jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav lock own synchron non cod thread cre scheduledthreadpoolexecutor int cores construct default threadfactory alway mak thread non daemon thread pool destroy cal scheduledthreadpoolexecutor shutdown method jvm cannot termin way kil term sign jvm receiv term sign ign non daemon threads termin dig mod cre scheduledthreadpoolexecutor non daemon threads got may guess loc embed metast scheduledthreadpoolexecutor cre org apach hadoop hiv metast hivemetast hmshandler startalwaystaskthread scheduledthreadpoolexecutor shutdown nev cal plu found anoth us cre scheduledthreadpoolexecutor cal shutdown serv prop termin non daemon threads,SBR
HIVE-23163,running tests pre commit ci test parser identify test classes start test https github com apache hive blob cbfb bacf fa e c bb dcb f testutils ptest src main java org apache hive ptest execution conf unittestpropertiesparser java l running using mvn test also parse classes test java http maven apache org plugins archives maven surefire plugin examples inclusion exclusion html https github com apache hive blob cbfb bacf fa e c bb dcb f itests hive unit src test java org apache hive service auth trustdomainauthenticationtest java l also included test example https builds apache org view h l view hive job hive linux arm trunk testreport junit org apache hive service auth trustdomainauthenticationtest testtrusteddomainauthentication class trustdomainauthenticationtest actually parent class parameters init actual tests children classes like rest https builds apache org view h l view hive job hive linux arm trunk testreport junit org apache hive service auth pass actuall parameters init https github com apache hive blob cbfb bacf fa e c bb dcb f itests hive unit src test java org apache hive service auth testtrustdomainauthenticationbinary java l make class abstract included running mvn test like https github com apache hive blob cbfb bacf fa e c bb dcb f itests hive unit src test java org apache hive jdbc abstractjdbctriggerstest java l class trustdomainauthenticationtest abstract,run test pre commit ci test pars ident test class start test https github com apach hiv blob cbfb bacf fa e c bb dcb f testutil ptest src main jav org apach hiv ptest execut conf unittestpropertiespars jav l run us mvn test also pars class test jav http mav apach org plugin arch mav surefir plugin exampl includ exclud html https github com apach hiv blob cbfb bacf fa e c bb dcb f itest hiv unit src test jav org apach hiv serv au trustdomainauthenticationtest jav l also includ test exampl https build apach org view h l view hiv job hiv linux arm trunk testreport junit org apach hiv serv au trustdomainauthenticationtest testtrusteddomainauth class trustdomainauthenticationtest act par class paramet init act test childr class lik rest https build apach org view h l view hiv job hiv linux arm trunk testreport junit org apach hiv serv au pass actual paramet init https github com apach hiv blob cbfb bacf fa e c bb dcb f itest hiv unit src test jav org apach hiv serv au testtrustdomainauthenticationbin jav l mak class abstract includ run mvn test lik https github com apach hiv blob cbfb bacf fa e c bb dcb f itest hiv unit src test jav org apach hiv jdbc abstractjdbctriggerstest jav l class trustdomainauthenticationtest abstract,SBR
HIVE-23158,filesystem client inherited hadoop supports notion input policies policies tune behaviour http requests used reading different filetypes text orc formats orc parquet lot seek operations optimized random mode reads files partially instead fully default suggesting add extra logic part hiveinputformat make sure optimize recordreader requests random io data stored using formats orc parquet optimize recordreader policy random io formats,filesystem cli inherit hadoop support not input policy policy tun behavio http request us read diff filetyp text orc form orc parquet lot seek op optim random mod read fil part instead ful default suggest ad extr log part hiveinputform mak sur optim recordread request random io dat stor us form orc parquet optim recordread policy random io form,NSBR
HIVE-23153,deregistering zookeeper initiated command hive service hiveserver deregister hostname properly worked hiveserver zookeeper kerberized even though hive site xml configuration zookeeper kerberos login hive server authentication kerberos principal keytab used know kinit hiveserver keytab would make work said hive site xml already user need kinit kerberos login zookeeper failed serveruri actually removed hiveserver namespace attempt authenticate using sasl unknown error code java info main zookeeper zookeeper jar usr hdp tez lib hadoop azure jar usr hdp tez lib hadoop azure datalake jar usr hdp tez lib hadoop hdfs client jar usr hdp tez lib hadoop mapreduce client common jar usr hdp tez lib hadoop mapreduce client core jar usr hdp tez lib hadoop yarn server timeline pluginstorage jar usr hdp tez lib jersey client jar usr hdp tez lib jersey json jar usr hdp tez lib jettison jar usr hdp tez lib jetty server v jar usr hdp tez lib jetty util v jar usr hdp tez lib jsr jar usr hdp tez lib metrics core jar usr hdp tez lib protobuf java jar usr hdp tez lib servlet api jar usr hdp tez lib slf j api jar usr hdp tez conf info main zookeeper zookeeper client environment java library path info main zookeeper zookeeper client environment java io tmpdir tmp info main zookeeper zookeeper client environment java compiler na info main zookeeper zookeeper client environment os name linux info main zookeeper zookeeper client environment os arch amd info main zookeeper zookeeper client environment os version info main zookeeper zookeeper client environment user name info main zookeeper zookeeper client environment user home info main zookeeper zookeeper client environment user dir info main zookeeper zookeeper initiating client connection connectstring sessiontimeout watcher org apache curator connectionstate eab info main sendthread zookeeper clientcnxn opening socket connection server attempt authenticate using sasl unknown error info main sendthread zookeeper clientcnxn socket connection established initiating session info main sendthread zookeeper clientcnxn session establishment complete server sessionid x fd ab e negotiated timeout info main eventthread state connectionstatemanager state change connected warn main server hiveserver attempt remove znode hiveserver serveruri version sequence zookeeper attempt remove znode hiveserver serveruri version sequence zookeeper info curator framework imps curatorframeworkimpl backgroundoperationsloop exiting info main zookeeper zookeeper session x fd ab e closed info main eventthread zookeeper clientcnxn eventthread shut info shutdown hook server hiveserver shutdownmsg shutdownmsg shutting hiveserver code plus result code curatorevent deletecallback checked case kerberos login done code https zookeeper apache org doc r api org apache zookeeper keeperexception code html noauth screen shot png width height deregister zookeeper properly worked kerberized environment,dereg zookeep in command hiv serv hiveserv dereg hostnam prop work hiveserv zookeep kerb ev though hiv sit xml config zookeep kerbero login hiv serv auth kerbero princip keytab us know kinit hiveserv keytab would mak work said hiv sit xml already us nee kinit kerbero login zookeep fail serverur act remov hiveserv namespac attempt auth us sasl unknown er cod jav info main zookeep zookeep jar usr hdp tez lib hadoop az jar usr hdp tez lib hadoop az datalak jar usr hdp tez lib hadoop hdfs cli jar usr hdp tez lib hadoop mapreduc cli common jar usr hdp tez lib hadoop mapreduc cli cor jar usr hdp tez lib hadoop yarn serv timelin pluginst jar usr hdp tez lib jersey cli jar usr hdp tez lib jersey json jar usr hdp tez lib jettison jar usr hdp tez lib jetty serv v jar usr hdp tez lib jetty util v jar usr hdp tez lib jsr jar usr hdp tez lib met cor jar usr hdp tez lib protobuf jav jar usr hdp tez lib servlet ap jar usr hdp tez lib slf j ap jar usr hdp tez conf info main zookeep zookeep cli environ jav libr path info main zookeep zookeep cli environ jav io tmpdir tmp info main zookeep zookeep cli environ jav compil na info main zookeep zookeep cli environ os nam linux info main zookeep zookeep cli environ os arch amd info main zookeep zookeep cli environ os vert info main zookeep zookeep cli environ us nam info main zookeep zookeep cli environ us hom info main zookeep zookeep cli environ us dir info main zookeep zookeep in cli connect connectst sessiontimeout watch org apach cur connectionst eab info main sendthread zookeep clientcnxn op socket connect serv attempt auth us sasl unknown er info main sendthread zookeep clientcnxn socket connect est in sess info main sendthread zookeep clientcnxn sess est complet serv sessionid x fd ab e negoty timeout info main eventthread stat connectionstatem stat chang connect warn main serv hiveserv attempt remov znod hiveserv serverur vert sequ zookeep attempt remov znod hiveserv serverur vert sequ zookeep info cur framework imp curatorframeworkimpl backgroundoperationsloop exit info main zookeep zookeep sess x fd ab e clos info main eventthread zookeep clientcnxn eventthread shut info shutdown hook serv hiveserv shutdownmsg shutdownmsg shut hiveserv cod plu result cod curatorev deletecallback check cas kerbero login don cod https zookeep apach org doc r ap org apach zookeep keeperexceiv cod html noau screen shot png wid height dereg zookeep prop work kerb environ,SBR
HIVE-23151,current default value reflects debugging scenario let set order make shuffle local files cleaned immediately dag complete llap default hive llap file cleanup delay seconds,cur default valu reflect debug scenario let set ord mak shuffl loc fil cle immedy dag complet llap default hiv llap fil cleanup delay second,SBR
HIVE-23144,querytracker executor service basically runs cleanup tasks externalquerycleanercallable dagmapcleanercallable filecleanercallable changing shutdown behavior shutdown https docs oracle com javase docs api java util concurrent executorservice html shutdown shutdownnow https docs oracle com javase docs api java util concurrent executorservice html shutdownnow would let querytracker cleanup garbage example shuffle local files https github com apache hive blob c ec dd f b fbde f aed c ca llap server src java org apache hadoop hive llap daemon impl querytracker java l llap let querytracker cleanup servicestop,querytrack execut serv bas run cleanup task externalquerycleanercal dagmapcleanercal filecleanercal chang shutdown behavy shutdown https doc orac com javas doc ap jav util concur executorserv html shutdown shutdownnow https doc orac com javas doc ap jav util concur executorserv html shutdownnow would let querytrack cleanup garb exampl shuffl loc fil https github com apach hiv blob c ec dd f b fbde f aed c ca llap serv src jav org apach hadoop hiv llap daemon impl querytrack jav l llap let querytrack cleanup servicestop,SBR
HIVE-23142,hive table location interesting managed tables change case tool fail tables null set location tables sys db hivestrictmanagedmigration fails tables null location,hiv tabl loc interest man tabl chang cas tool fail tabl nul set loc tabl sys db hivestrictmanagedmigr fail tabl nul loc,NSBR
HIVE-23128,code sql show create table sample show create table default sample show create table default sample code code none title results create table sample create table default sample create table default sample code three show create table statements complete hive x x generate create table statements show first result correct include database name however subsequent two results invalid field must quoted individually causes failure recent versions hive semanticexception table database name may contain dot character quote components multiple part name require quoting quote individually rather quoting name whole example write table column table column https dev mysql com doc refman en identifier qualifiers html quote show create table creates incorrect syntax database specified,cod sql show cre tabl sampl show cre tabl default sampl show cre tabl default sampl cod cod non titl result cre tabl sampl cre tabl default sampl cre tabl default sampl cod three show cre tabl stat complet hiv x x gen cre tabl stat show first result correct includ databas nam howev subsequ two result invalid field must quot individ caus fail rec vert hiv semanticexceiv tabl databas nam may contain dot charact quot compon multipl part nam requir quot quot individ rath quot nam whol exampl writ tabl column tabl column https dev mysql com doc refm en ident qual html quot show cre tabl cre incorrect syntax databas spec,SBR
HIVE-23123,according https cwiki apache org confluence display hive languagemanual importexport import export done using code java export table import table code commands document mention views materialized views fact support commands like code java export view import view export materialized view import materialized view code parsed word table often used though broader sense means table like entities including views materialized views example various table classes may represent well try export view export table command goes fine metadata file created data directory expect try import back exception thrown due lack data dir code java java lang assertionerror null getpath eximview org apache hadoop hive ql metadata hive loadtable hive java org apache hadoop hive ql exec movetask execute movetask java org apache hadoop hive ql exec task executetask task java org apache hadoop hive ql exec taskrunner runsequential taskrunner java org apache hadoop hive ql executor launchtask executor java org apache hadoop hive ql executor launchtasks executor java org apache hadoop hive ql executor runtasks executor java org apache hadoop hive ql executor execute executor java org apache hadoop hive ql driver runinternal driver java org apache hadoop hive ql driver run driver java org apache hadoop hive ql driver run driver java code still view gets imported successfully data movement even necessary try export materialized view transactional exception occurs code java org apache hadoop hive ql parse semanticexception org apache hadoop hive ql metadata invalidtableexception table found eximmaterializedviewda fe c abf org apache hadoop hive ql parse acidexportsemanticanalyzer analyzeacidexport acidexportsemanticanalyzer java org apache hadoop hive ql parse acidexportsemanticanalyzer analyze acidexportsemanticanalyzer java org apache hadoop hive ql parse rewritesemanticanalyzer analyzeinternal rewritesemanticanalyzer java org apache hadoop hive ql parse basesemanticanalyzer analyze basesemanticanalyzer java org apache hadoop hive ql compiler analyze compiler java org apache hadoop hive ql compiler compile compiler java org apache hadoop hive ql driver compile driver java org apache hadoop hive ql driver compileinternal driver java org apache hadoop hive ql driver compileandrespond driver java org apache hadoop hive ql driver compileandrespond driver java code export process handle temporary table getting created import command handling lot codes dedicated importing views materialized views suggests support importing thus also suggests implicitly support exporting views materialiezed views conclusion decide support exporting importing views materialized views decide support export process throw exception view materialized view subject codes specific view imports removed decide support commands mentioned introduced exception thrown proper command used e g export view table exceptions mentioned fixed prefer support think support exporting importing views point exporting importing transfer data ddl causes issues solves current documentation also suggests supported tables disable export import views materialized views,accord https cwik apach org conflu display hiv languagem importexport import export don us cod jav export tabl import tabl cod command docu ment view mat view fact support command lik cod jav export view import view export mat view import mat view cod pars word tabl oft us though broad sens mean tabl lik ent includ view mat view exampl vary tabl class may repres wel try export view export tabl command goe fin metadat fil cre dat direct expect try import back exceiv thrown due lack dat dir cod jav jav lang assertioner nul getpa eximview org apach hadoop hiv ql metadat hiv loadt hiv jav org apach hadoop hiv ql exec movetask execut movetask jav org apach hadoop hiv ql exec task executetask task jav org apach hadoop hiv ql exec taskrun runsequ taskrun jav org apach hadoop hiv ql execut launchtask execut jav org apach hadoop hiv ql execut launchtask execut jav org apach hadoop hiv ql execut runtask execut jav org apach hadoop hiv ql execut execut execut jav org apach hadoop hiv ql driv runintern driv jav org apach hadoop hiv ql driv run driv jav org apach hadoop hiv ql driv run driv jav cod stil view get import success dat mov ev necess try export mat view transact exceiv occ cod jav org apach hadoop hiv ql pars semanticexceiv org apach hadoop hiv ql metadat invalidtableexceiv tabl found eximmaterializedviewd fe c abf org apach hadoop hiv ql pars acidexportsemanticanalys analyzeacidexport acidexportsemanticanalys jav org apach hadoop hiv ql pars acidexportsemanticanalys analys acidexportsemanticanalys jav org apach hadoop hiv ql pars rewritesemanticanalys analyzeintern rewritesemanticanalys jav org apach hadoop hiv ql pars basesemanticanalys analys basesemanticanalys jav org apach hadoop hiv ql compil analys compil jav org apach hadoop hiv ql compil compil compil jav org apach hadoop hiv ql driv compil driv jav org apach hadoop hiv ql driv compileintern driv jav org apach hadoop hiv ql driv compileandrespond driv jav org apach hadoop hiv ql driv compileandrespond driv jav cod export process handl temp tabl get cre import command handl lot cod ded import view mat view suggest support import thu also suggest implicit support export view materialiez view conclud decid support export import view mat view decid support export process throw exceiv view mat view subject cod spec view import remov decid support command ment introduc exceiv thrown prop command us e g export view tabl exceiv ment fix pref support think support export import view point export import transf dat ddl caus issu solv cur docu also suggest support tabl dis export import view mat view,SBR
HIVE-23114,follow jira conversation https issues apache org jira browse hive focusedcommentid page com atlassian jira plugin system issuetabpanels comment tabpanel comment hive insert overwrite multi insert statement dynamic partitioning give wrong results acid tables hive acid direct insert enabled true insert tables reproduction noformat set hive acid direct insert enabled true set hive support concurrency true set hive txn manager org apache hadoop hive ql lockmgr dbtxnmanager set hive vectorized execution enabled false set hive stats autogather false create external table multiinserttesttext int b int c int stored textfile insert multiinserttesttext values null null create table multiinserttestacid int b int partitioned c int stored orc tblproperties transactional true create table multiinserttestmm int b int partitioned c int stored orc tblproperties transactional true transactionalproperties insertonly multiinserttesttext insert overwrite table multiinserttestacid partition c select b c c null insert overwrite table multiinserttestacid partition c select b c c null select multiinserttestacid multiinserttesttext insert overwrite table multiinserttestmm partition c select b c c null insert overwrite table multiinserttestmm partition c select b c c null select multiinserttestmm noformat result steps different depends execution order filesinkoperators insert overwrite statements happen error occurs due manifest file collision happen error occurs result incorrect running insert query external table acid table hive acid direct insert enabled false give follwing result noformat null null noformat insert overwrite dynamic partitioning working correctly direct insert,follow jir convers https issu apach org jir brows hiv focusedcommentid pag com atlass jir plugin system issuetabpanel com tabpanel com hiv insert overwrit mult insert stat dynam partit giv wrong result acid tabl hiv acid direct insert en tru insert tabl reproduc noform set hiv acid direct insert en tru set hiv support concur tru set hiv txn man org apach hadoop hiv ql lockmgr dbtxnmanager set hiv vect execut en fals set hiv stat autogath fals cre extern tabl multiinserttesttext int b int c int stor textfil insert multiinserttesttext valu nul nul cre tabl multiinserttestacid int b int partit c int stor orc tblproperties transact tru cre tabl multiinserttestm int b int partit c int stor orc tblproperties transact tru transactionalproperty inserton multiinserttesttext insert overwrit tabl multiinserttestacid partit c select b c c nul insert overwrit tabl multiinserttestacid partit c select b c c nul select multiinserttestacid multiinserttesttext insert overwrit tabl multiinserttestm partit c select b c c nul insert overwrit tabl multiinserttestm partit c select b c c nul select multiinserttestm noform result step diff depend execut ord filesinkop insert overwrit stat hap er occ due manifest fil collid hap er occ result incorrect run insert query extern tabl acid tabl hiv acid direct insert en fals giv follw result noform nul nul noform insert overwrit dynam partit work correct direct insert,SBR
HIVE-23111,currently msckpartitionexpressionproxy filter partition names causes problem partition auto discovery msckpartitionexpressionproxy filter partitions,cur msckpartitionexpressionproxy filt partit nam caus problem partit auto discovery msckpartitionexpressionproxy filt partit,NSBR
HIVE-23110,case abort context would null thus planmapper obtained prevent npe reexecdriver processing aborted,cas abort context would nul thu planmap obtain prev npe reexecdr process abort,NSBR
HIVE-23109,e g mm major compaction query looks like code java insert tmptable select srctable code code java insert tmptable select srcdb srctable code therefore compaction fails db source table default query based compaction omits database,e g mm maj compact query look lik cod jav insert tmptable select srctable cod cod jav insert tmptable select srcdb srctable cod theref compact fail db sourc tabl default query bas compact omit databas,NSBR
HIVE-23097,llap llapservicedriver wrongly using fixed llap prefix tarball name missed modifying change jira https issues apache org jira browse hive llap llapservicedriver wrongly using fixed llap prefix tarball name,llap llapservicedr wrong us fix llap prefix tarbal nam miss mod chang jir https issu apach org jir brows hiv llap llapservicedr wrong us fix llap prefix tarbal nam,NSBR
HIVE-23088,hookutils uses explicitly org apache logging log j util strings class log j may break clients use loggers exclude log j classpath commons lang class stringutils may used replacement one strings isblank stringutils isblank using strings log j breaks non log j users,hookutil us explicit org apach log log j util strings class log j may break cli us log exclud log j classpa common lang class stringutils may us replac on strings isblank stringutils isblank us strings log j break non log j us,NSBR
HIVE-23082,result joins may retain original estimate see mapjoin plan retained estimate sel code explain plan optimized cbo vertex dependency root stage map map broadcastedge stage fetch operator limit stage map vectorized file output operator fs limit lim rows width number rows select operator sel rows width output col map join operator mapjoin rows width conds sel col rs col inner map broadcastedge vectorized broadcast rs partitioncols col select operator sel rows width output col filter operator fil rows width predicate rreasonid reason rreasonsk null tablescan ts rows width default rx reason tbl complete col complete output rreasonid rreasonsk select operator sel rows width output col filter operator fil rows width predicate srreasonsk null tablescan ts rows width default sr storereturns tbl complete col complete output srreasonsk code repro code set hive query results cache enabled false set hive explain user true drop table exists default rx drop table exists default sr create table rx rreasonid string rreasonsk bigint create table sr srreasonsk bigint insert rx values aaaaaaaaaaaaaaaa aaaaaaaageaaaaaa insert sr values null insert sr select sr sr b sr explain select default sr storereturns default rx reason srreasonsk rreasonsk rreasonid reason limit code pk fk stat rescale work cases,result join may retain origin estim see mapjoin plan retain estim sel cod explain plan optim cbo vertex depend root stag map map broadcastedg stag fetch op limit stag map vect fil output op fs limit lim row wid numb row select op sel row wid output col map join op mapjoin row wid cond sel col rs col in map broadcastedg vect broadcast rs partitioncol col select op sel row wid output col filt op fil row wid pred rreasonid reason rreasonsk nul tablesc ts row wid default rx reason tbl complet col complet output rreasonid rreasonsk select op sel row wid output col filt op fil row wid pred srreasonsk nul tablesc ts row wid default sr storereturn tbl complet col complet output srreasonsk cod repro cod set hiv query result cach en fals set hiv explain us tru drop tabl ex default rx drop tabl ex default sr cre tabl rx rreasonid string rreasonsk bigint cre tabl sr srreasonsk bigint insert rx valu aaaaaaaaaaaaaaa aaaaaaaageaaaaa insert sr valu nul insert sr select sr sr b sr explain select default sr storereturn default rx reason srreasonsk rreasonsk rreasonid reason limit cod pk fk stat resc work cas,SBR
HIVE-23072,precommit tests create non transactional table stored orc orc uses another fileinputformat implementation run couple inserts makes original files alter table make insert run couple inserts makes delta dirs select table attached unit test recreates steps results error side notes tried playing around mapreduce input fileinputformat input dir recursive success yet since messes ability read read delta dirs code java java io ioexception java io ioexception file file users karencoppage upstream hive itests hive unit target tmp org apache hadoop hive ql txn compactor testcompactor warehouse mmnonpart delta org apache hadoop hive ql exec fetchoperator getnextrow fetchoperator java org apache hadoop hive ql exec fetchoperator pushrow fetchoperator java org apache hadoop hive ql exec fetchtask fetch fetchtask java org apache hadoop hive ql driver getresults driver java org apache hadoop hive ql reexec reexecdriver getresults reexecdriver java org apache hadoop hive ql txn compactor testcompactor verifyfoobarresult testcompactor java org apache hadoop hive ql txn compactor testcompactor mmtableoriginalsminor testcompactor java sun reflect nativemethodaccessorimpl invoke native method sun reflect nativemethodaccessorimpl invoke nativemethodaccessorimpl java sun reflect delegatingmethodaccessorimpl invoke delegatingmethodaccessorimpl java java lang reflect method invoke method java org junit runners model frameworkmethod runreflectivecall frameworkmethod java org junit internal runners model reflectivecallable run reflectivecallable java org junit runners model frameworkmethod invokeexplosively frameworkmethod java org junit internal runners statements invokemethod evaluate invokemethod java org junit internal runners statements runbefores evaluate runbefores java org junit internal runners statements runafters evaluate runafters java org junit rules externalresource evaluate externalresource java org apache hive common util retry retryingstatement evaluate retry java org junit rules runrules evaluate runrules java org junit runners parentrunner runleaf parentrunner java org junit runners blockjunit classrunner runchild blockjunit classrunner java org junit runners blockjunit classrunner runchild blockjunit classrunner java org junit runners parentrunner run parentrunner java org junit runners parentrunner schedule parentrunner java org junit runners parentrunner runchildren parentrunner java org junit runners parentrunner access parentrunner java org junit runners parentrunner evaluate parentrunner java org junit runners parentrunner run parentrunner java org junit runner junitcore run junitcore java com intellij junit junit ideatestrunner startrunnerwithargs junit ideatestrunner java com intellij rt execution junit ideatestrunner repeater startrunnerwithargs ideatestrunner java com intellij rt execution junit junitstarter preparestreamsandstart junitstarter java com intellij rt execution junit junitstarter main junitstarter java caused java io ioexception file file users karencoppage upstream hive itests hive unit target tmp org apache hadoop hive ql txn compactor testcompactor warehouse mmnonpart delta org apache hadoop mapred fileinputformat getsplits fileinputformat java org apache hadoop hive ql exec fetchoperator generatewrappedsplits fetchoperator java org apache hadoop hive ql exec fetchoperator getnextsplits fetchoperator java org apache hadoop hive ql exec fetchoperator getrecordreader fetchoperator java org apache hadoop hive ql exec fetchoperator getnextrow fetchoperator java code acid select insert table original files deltas,precommit test cre non transact tabl stor orc orc us anoth fileinputform impl run coupl insert mak origin fil alt tabl mak insert run coupl insert mak delt dir select tabl attach unit test recr step result er sid not tri play around mapreduc input fileinputform input dir recurs success yet sint mess abl read read delt dir cod jav jav io ioexceiv jav io ioexceiv fil fil us karencop upstream hiv itest hiv unit target tmp org apach hadoop hiv ql txn compact testcompact wareh mmnonpart delt org apach hadoop hiv ql exec fetchop getnextrow fetchop jav org apach hadoop hiv ql exec fetchop pushrow fetchop jav org apach hadoop hiv ql exec fetchtask fetch fetchtask jav org apach hadoop hiv ql driv getresult driv jav org apach hadoop hiv ql reexec reexecdr getresult reexecdr jav org apach hadoop hiv ql txn compact testcompact verifyfoobarresult testcompact jav org apach hadoop hiv ql txn compact testcompact mmtableoriginalsminor testcompact jav sun reflect nativemethodaccessorimpl invok nat method sun reflect nativemethodaccessorimpl invok nativemethodaccessorimpl jav sun reflect delegatingmethodaccessorimpl invok delegatingmethodaccessorimpl jav jav lang reflect method invok method jav org junit run model frameworkmethod runreflectivecal frameworkmethod jav org junit intern run model reflectivecal run reflectivecal jav org junit run model frameworkmethod invokeexplod frameworkmethod jav org junit intern run stat invokemethod evalu invokemethod jav org junit intern run stat runbef evalu runbef jav org junit intern run stat runaft evalu runaft jav org junit rul externalresourc evalu externalresourc jav org apach hiv common util retry retryingst evalu retry jav org junit rul runr evalu runr jav org junit run parentrun runleaf parentrun jav org junit run blockjunit classrun runchild blockjunit classrun jav org junit run blockjunit classrun runchild blockjunit classrun jav org junit run parentrun run parentrun jav org junit run parentrun schedule parentrun jav org junit run parentrun runchildr parentrun jav org junit run parentrun access parentrun jav org junit run parentrun evalu parentrun jav org junit run parentrun run parentrun jav org junit run junitc run junitc jav com intellid junit junit ideatestrun startrunnerwitharg junit ideatestrun jav com intellid rt execut junit ideatestrun rep startrunnerwitharg ideatestrun jav com intellid rt execut junit junitstart preparestreamsandstart junitstart jav com intellid rt execut junit junitstart main junitstart jav caus jav io ioexceiv fil fil us karencop upstream hiv itest hiv unit target tmp org apach hadoop hiv ql txn compact testcompact wareh mmnonpart delt org apach hadoop mapr fileinputform getsplit fileinputform jav org apach hadoop hiv ql exec fetchop generatewrappedsplit fetchop jav org apach hadoop hiv ql exec fetchop getnextsplit fetchop jav org apach hadoop hiv ql exec fetchop getrecordread fetchop jav org apach hadoop hiv ql exec fetchop getnextrow fetchop jav cod acid select insert tabl origin fil delta,SBR
HIVE-23068,llap external client via hive warehouse connector somehow seems sending duplicate submissions fragment attempt nd request sent results following error noformat warn ipc server handler org apache hadoop ipc server ipc server handler call call retry org apache hadoop hive llap protocol llapprotocolblockingpb submitwork java lang illegalstateexception single registration allowed per entity duplicate taskwrapper task attempt inwaitqueue true inpreemptionqueue false registeredfornotifications true canfinish true canfinish queue true isguaranteed false firstattemptstarttime dagstarttime withindagpriority vertexparallelism selfandupstreamparallelism selfandupstreamcomplete org apache hadoop hive llap daemon impl queryinfo finishablestatetracker registerforupdates queryinfo java hive llap server jar org apache hadoop hive llap daemon impl queryinfo registerforfinishablestateupdates queryinfo java hive llap server jar org apache hadoop hive llap daemon impl queryfragmentinfo registerforfinishablestateupdates queryfragmentinfo java hive llap server jar org apache hadoop hive llap daemon impl taskexecutorservice taskwrapper mayberegisterforfinishedstatenotifications taskexecutorservice java hive llap server jar org apache hadoop hive llap daemon impl taskexecutorservice schedule taskexecutorservice java hive llap server jar org apache hadoop hive llap daemon impl taskexecutorservice schedule taskexecutorservice java hive llap server jar org apache hadoop hive llap daemon impl containerrunnerimpl submitwork containerrunnerimpl java hive llap server jar org apache hadoop hive llap daemon impl llapdaemon submitwork llapdaemon java hive llap server jar org apache hadoop hive llap daemon impl llapprotocolserverimpl submitwork llapprotocolserverimpl java hive llap server jar org apache hadoop hive llap daemon rpc llapdaemonprotocolprotos llapdaemonprotocol callblockingmethod llapdaemonprotocolprotos java hive exec jar org apache hadoop ipc protobufrpcengine server protobufrpcinvoker call protobufrpcengine java hadoop common jar org apache hadoop ipc rpc server call rpc java hadoop common jar org apache hadoop ipc server rpccall run server java hadoop common jar org apache hadoop ipc server rpccall run server java hadoop common jar java security accesscontroller doprivileged native method javax security auth subject doas subject java org apache hadoop security usergroupinformation doas usergroupinformation java hadoop common jar org apache hadoop ipc server handler run server java hadoop common jar noformat think issue error occurred late based stack trace llap already accepted registered fragment subsequent cleanup fragment attempt also affects first request results llap crash described hive noformat error executioncompletionthread org apache hadoop hive llap daemon impl llapdaemon thread thread executioncompletionthread main threw exception shutting java lang illegalstateexception cannot invoke unregister entity registered com google common base preconditions checkstate preconditions java hive exec jar org apache hadoop hive llap daemon impl queryinfo finishablestatetracker unregisterforupdates queryinfo java hive llap server jar org apache hadoop hive llap daemon impl queryinfo unregisterfinishablestateupdate queryinfo java hive llap server jar org apache hadoop hive llap daemon impl queryfragmentinfo unregisterforfinishablestateupdates queryfragmentinfo java hive llap server jar org apache hadoop hive llap daemon impl taskexecutorservice taskwrapper maybeunregisterforfinishedstatenotifications taskexecutorservice java hive llap server jar org apache hadoop hive llap daemon impl taskexecutorservice internalcompletionlistener onsuccess taskexecutorservice java hive llap server jar org apache hadoop hive llap daemon impl taskexecutorservice internalcompletionlistener onsuccess taskexecutorservice java hive llap server jar com google common util concurrent futures callbacklistener run futures java hive exec jar java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java noformat error submitting fragment llap via external client illegalstateexception single registration allowed per entity,llap extern cli via hiv wareh connect somehow seem send duply submit frag attempt nd request sent result follow er noform warn ipc serv handl org apach hadoop ipc serv ipc serv handl cal cal retry org apach hadoop hiv llap protocol llapprotocolblockingpb submitwork jav lang illegalstateexceiv singl reg allow per ent duply taskwrap task attempt inwaitqueu tru inpreemptionqueu fals registeredfornot tru canfin tru canfin queu tru isguarantee fals firstattemptstarttim dagstarttim withindagpry vertexparallel selfandupstreamparallel selfandupstreamcomplet org apach hadoop hiv llap daemon impl queryinfo finishablestatetrack registerforupd queryinfo jav hiv llap serv jar org apach hadoop hiv llap daemon impl queryinfo registerforfinishablestateupd queryinfo jav hiv llap serv jar org apach hadoop hiv llap daemon impl queryfragmentinfo registerforfinishablestateupd queryfragmentinfo jav hiv llap serv jar org apach hadoop hiv llap daemon impl taskexecutorserv taskwrap mayberegisterforfinishedstatenot taskexecutorserv jav hiv llap serv jar org apach hadoop hiv llap daemon impl taskexecutorserv schedule taskexecutorserv jav hiv llap serv jar org apach hadoop hiv llap daemon impl taskexecutorserv schedule taskexecutorserv jav hiv llap serv jar org apach hadoop hiv llap daemon impl containerrunnerimpl submitwork containerrunnerimpl jav hiv llap serv jar org apach hadoop hiv llap daemon impl llapdaemon submitwork llapdaemon jav hiv llap serv jar org apach hadoop hiv llap daemon impl llapprotocolserverimpl submitwork llapprotocolserverimpl jav hiv llap serv jar org apach hadoop hiv llap daemon rpc llapdaemonprotocolproto llapdaemonprotocol callblockingmethod llapdaemonprotocolproto jav hiv exec jar org apach hadoop ipc protobufrpcengin serv protobufrpcinvok cal protobufrpcengin jav hadoop common jar org apach hadoop ipc rpc serv cal rpc jav hadoop common jar org apach hadoop ipc serv rpccall run serv jav hadoop common jar org apach hadoop ipc serv rpccall run serv jav hadoop common jar jav sec accesscontrol doprivileg nat method javax sec au subject doa subject jav org apach hadoop sec usergroupinform doa usergroupinform jav hadoop common jar org apach hadoop ipc serv handl run serv jav hadoop common jar noform think issu er occur lat bas stack trac llap already acceiv reg frag subsequ cleanup frag attempt also affect first request result llap crash describ hiv noform er executioncompletionthread org apach hadoop hiv llap daemon impl llapdaemon thread thread executioncompletionthread main threw exceiv shut jav lang illegalstateexceiv cannot invok unreg ent reg com googl common bas precondit checkst precondit jav hiv exec jar org apach hadoop hiv llap daemon impl queryinfo finishablestatetrack unregisterforupd queryinfo jav hiv llap serv jar org apach hadoop hiv llap daemon impl queryinfo unregisterfinishablestateupd queryinfo jav hiv llap serv jar org apach hadoop hiv llap daemon impl queryfragmentinfo unregisterforfinishablestateupd queryfragmentinfo jav hiv llap serv jar org apach hadoop hiv llap daemon impl taskexecutorserv taskwrap maybeunregisterforfinishedstatenot taskexecutorserv jav hiv llap serv jar org apach hadoop hiv llap daemon impl taskexecutorserv internalcompletionl onsuccess taskexecutorserv jav hiv llap serv jar org apach hadoop hiv llap daemon impl taskexecutorserv internalcompletionl onsuccess taskexecutorserv jav hiv llap serv jar com googl common util concur fut callbackl run fut jav hiv exec jar jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav noform er submit frag llap via extern cli illegalstateexceiv singl reg allow per ent,SBR
HIVE-23061,following exception goes uncaught causes entire llap daemon shut noformat error executioncompletionthread org apache hadoop hive llap daemon impl llapdaemon thread thread executioncompletionthread main threw exception shutting java lang illegalstateexception cannot invoke unregister entity registered com google common base preconditions checkstate preconditions java hive exec jar org apache hadoop hive llap daemon impl queryinfo finishablestatetracker unregisterforupdates queryinfo java hive llap server jar org apache hadoop hive llap daemon impl queryinfo unregisterfinishablestateupdate queryinfo java hive llap server jar org apache hadoop hive llap daemon impl queryfragmentinfo unregisterforfinishablestateupdates queryfragmentinfo java hive llap server jar org apache hadoop hive llap daemon impl taskexecutorservice taskwrapper maybeunregisterforfinishedstatenotifications taskexecutorservice java hive llap server jar org apache hadoop hive llap daemon impl taskexecutorservice internalcompletionlistener onsuccess taskexecutorservice java hive llap server jar org apache hadoop hive llap daemon impl taskexecutorservice internalcompletionlistener onsuccess taskexecutorservice java hive llap server jar com google common util concurrent futures callbacklistener run futures java hive exec jar java util concurrent threadpoolexecutor runworker threadpoolexecutor java java util concurrent threadpoolexecutor worker run threadpoolexecutor java java lang thread run thread java noformat llap crash due unhandled exception cannot invoke unregister entity registered,follow exceiv goe uncaught caus entir llap daemon shut noform er executioncompletionthread org apach hadoop hiv llap daemon impl llapdaemon thread thread executioncompletionthread main threw exceiv shut jav lang illegalstateexceiv cannot invok unreg ent reg com googl common bas precondit checkst precondit jav hiv exec jar org apach hadoop hiv llap daemon impl queryinfo finishablestatetrack unregisterforupd queryinfo jav hiv llap serv jar org apach hadoop hiv llap daemon impl queryinfo unregisterfinishablestateupd queryinfo jav hiv llap serv jar org apach hadoop hiv llap daemon impl queryfragmentinfo unregisterforfinishablestateupd queryfragmentinfo jav hiv llap serv jar org apach hadoop hiv llap daemon impl taskexecutorserv taskwrap maybeunregisterforfinishedstatenot taskexecutorserv jav hiv llap serv jar org apach hadoop hiv llap daemon impl taskexecutorserv internalcompletionl onsuccess taskexecutorserv jav hiv llap serv jar org apach hadoop hiv llap daemon impl taskexecutorserv internalcompletionl onsuccess taskexecutorserv jav hiv llap serv jar com googl common util concur fut callbackl run fut jav hiv exec jar jav util concur threadpoolexecutor runwork threadpoolexecutor jav jav util concur threadpoolexecutor work run threadpoolexecutor jav jav lang thread run thread jav noform llap crash due unhandl exceiv cannot invok unreg ent reg,SBR
HIVE-23060,synopsis query failing error grouping sets expression group key error encountered near token problem hive query view fails following error error compiling statement failed semanticexception error grouping sets expression group key error encountered near token l equitiesregionid reproduction case noformat create database test create table test case c string c string working query select case groupingid c end col case groupingid end col c c test case group c c grouping sets c c c create view test viewcase select case groupingid c end col case groupingid end col c c test case group c c grouping sets c c c select test viewcase error error compiling statement failed semanticexception error grouping sets expression group key error encountered near token c state code noformat issue view created adds name table columns seems confusing hive noformat createtabstmt create view test viewcase select case groupingid case c end col case groupingid end col case c case c test case group case c case c grouping sets c c c noformat query failing error grouping sets expression group key error encountered near token,synops query fail er group set express group key er encount near tok problem hiv query view fail follow er er compil stat fail semanticexceiv er group set express group key er encount near tok l equitiesregionid reproduc cas noform cre databas test cre tabl test cas c string c string work query select cas groupingid c end col cas groupingid end col c c test cas group c c group set c c c cre view test viewcas select cas groupingid c end col cas groupingid end col c c test cas group c c group set c c c select test viewcas er er compil stat fail semanticexceiv er group set express group key er encount near tok c stat cod noform issu view cre ad nam tabl column seem confus hiv noform createtabstmt cre view test viewcas select cas groupingid cas c end col cas groupingid end col cas c cas c test cas group cas c cas c group set c c c noform query fail er group set express group key er encount near tok,NSBR
HIVE-23059,constraint name uniqueness query uses mtable instead id solve immediate problem able create sys db oracle solve problem rest queries integer number parameters long integer etc constraint name uniqueness query use mtable instead id,constraint nam un query us mtabl instead id solv immedy problem abl cre sys db orac solv problem rest query integ numb paramet long integ etc constraint nam un query us mtabl instead id,NSBR
HIVE-23058,issue occurs compaction attempt relaunched first task attempt failure due preemption scheduler reason since tmp directory created first attempt left uncleaned task attempt failure second attempt task fails filealreadyexistsexception exception caused org apache hadoop ipc remoteexception org apache hadoop fs filealreadyexistsexception warehouse tablespace managed hive default db compactiontest tmp bbef ba c ee cbd base bucket client xx xx xxx already existscompaction task reattempt fails filealreadyexistsexception,issu occ compact attempt relaunch first task attempt fail due preempt scheduler reason sint tmp direct cre first attempt left unc task attempt fail second attempt task fail filealreadyexistsexceiv exceiv caus org apach hadoop ipc remoteexceiv org apach hadoop fs filealreadyexistsexceiv wareh tablespac man hiv default db compactiontest tmp bbef ba c ee cbd bas bucket cli xx xx xxx already existscompact task reattempt fail filealreadyexistsexceiv,SBR
HIVE-23056,zkregistrybase instancestatechangelistener gets notified every time new node added removed even node belong compute group registry znodes stored internally returned getall causes query coordinators assign task executors different compute groups llap registry getall filter compute groups,zkregistrybase instancestatechangel get not every tim new nod ad remov ev nod belong comput group reg znod stor intern return getal caus query coordin assign task execut diff comput group llap reg getal filt comput group,SBR
HIVE-23049,running oracle parameters present query datanucleus boxed thus must explicitly set long long constraint name uniqueness query set long parameter instead long,run orac paramet pres query datanucle box thu must explicit set long long constraint nam un query set long paramet instead long,NSBR
HIVE-23047,use txnhandler getdbtime calculate epoch db server immediately insert value back would better using sql calculate value calculate epoch db side,us txnhandler getdbtim calc epoch db serv immedy insert valu back would bet us sql calc valu calc epoch db sid,NSBR
HIVE-23042,opening new transaction issue queries update minopentxn table code select min txnid txns txnstate insert minhistorylevel mhltxnid mhlminopentxnid values code could archived single query faster open transactions batch like code insert minhistorylevel mhltxnid mhlminopentxnid select min txnid txns txnstate code merge queries single one updating minopentxns table,op new transact issu query upd minopentxn tabl cod select min txnid txns txnstate insert minhistorylevel mhltxnid mhlminopentxnid valu cod could arch singl query fast op transact batch lik cod insert minhistorylevel mhltxnid mhlminopentxnid select min txnid txns txnstate cod merg query singl on upd minopentxn tabl,NSBR
HIVE-23035,right schq executor hangs session initialization tries open tez session initializes sessionstatescheduled query executor may hang case tezams launched demand,right schq execut hang sess init tri op tez sess init sessionstatesched query execut may hang cas tezam launch demand,NSBR
HIVE-23034,currently part writelist method arrow serializer implemented like code java final arrowbuf offsetbuffer arrowvector getoffsetbuffer int nextoffset int rowindex rowindex size rowindex int selectedindex rowindex vectorizedrowbatch selectedinuse selectedindex vectorizedrowbatch selected rowindex hivevector isnull selectedindex offsetbuffer setint rowindex offsetwidth nextoffset else offsetbuffer setint rowindex offsetwidth nextoffset nextoffset int hivevector lengths selectedindex arrowvector setnotnull rowindex offsetbuffer setint size offsetwidth nextoffset code obtain reference final arrowbuf offsetbuffer arrowvector getoffsetbuffer keep updating arrow vector offset vector problem arrowvector setnotnull rowindex keeps checking index reallocates offset validity buffers threshold crossed updates references internally also releases old buffers decrements buffer reference count reference obtained becomes obsolete furthermore try read write old buffer see code java caused io netty util illegalreferencecountexception refcnt io netty buffer abstractbytebuf ensureaccessible abstractbytebuf java io netty buffer arrowbuf checkindexd arrowbuf java io netty buffer arrowbuf chk arrowbuf java io netty buffer arrowbuf setint arrowbuf java org apache hadoop hive ql io arrow serializer writelist serializer java org apache hadoop hive ql io arrow serializer write serializer java org apache hadoop hive ql io arrow serializer writestruct serializer java org apache hadoop hive ql io arrow serializer write serializer java org apache hadoop hive ql io arrow serializer writelist serializer java org apache hadoop hive ql io arrow serializer write serializer java org apache hadoop hive ql io arrow serializer serializebatch serializer java code solution fixed getting buffers time arrowvector getoffsetbuffer want update internal tests frequently seen arrow handled way thing arrow serializer keep reference arrow offset validity buffers,cur part writel method arrow ser impl lik cod jav fin arrowbuf offsetbuff arrowvect getoffsetbuff int nextoffset int rowindex rowindex siz rowindex int selectedindex rowindex vectorizedrowbatch selectedinus selectedindex vectorizedrowbatch select rowindex hivevect isnul selectedindex offsetbuff setint rowindex offsetwid nextoffset els offsetbuff setint rowindex offsetwid nextoffset nextoffset int hivevect length selectedindex arrowvect setnotnul rowindex offsetbuff setint siz offsetwid nextoffset cod obtain ref fin arrowbuf offsetbuff arrowvect getoffsetbuff keep upd arrow vect offset vect problem arrowvect setnotnul rowindex keep check index realloc offset valid buff threshold cross upd ref intern also releas old buff decr buff ref count ref obtain becom obsolet furtherm try read writ old buff see cod jav caus io netty util illegalreferencecountexceiv refcnt io netty buff abstractbytebuf ensureaccess abstractbytebuf jav io netty buff arrowbuf checkindexd arrowbuf jav io netty buff arrowbuf chk arrowbuf jav io netty buff arrowbuf setint arrowbuf jav org apach hadoop hiv ql io arrow ser writel ser jav org apach hadoop hiv ql io arrow ser writ ser jav org apach hadoop hiv ql io arrow ser writestruct ser jav org apach hadoop hiv ql io arrow ser writ ser jav org apach hadoop hiv ql io arrow ser writel ser jav org apach hadoop hiv ql io arrow ser writ ser jav org apach hadoop hiv ql io arrow ser serializebatch ser jav cod solv fix get buff tim arrowvect getoffsetbuff want upd intern test frequ seen arrow handl way thing arrow ser keep ref arrow offset valid buff,SBR
HIVE-23033,inital value table schema scripts removed hive https github com apache hive commit b abac ca b f fc c diff bae c e ea ebf ecel fixed number scripts hive mssql https github com apache hive commit bca e ef b c e cb diff f efd cc cb dbf since using schematool table gets initialized means could backported active branches x well mssql metastore schema init script initialize notificationsequence,init valu tabl schema scripts remov hiv https github com apach hiv commit b abac ca b f fc c diff bae c e ea ebf ecel fix numb scripts hiv mssql https github com apach hiv commit bca e ef b c e cb diff f efd cc cb dbf sint us schematool tabl get init mean could backport act branch x wel mssql metast schema init script init notificationsequ,NSBR
HIVE-23028,use group parameter run tests standalone metastore common inherited group parameter standalone metastore pom xml parameter set org apache hadoop hive metastore annotation metastoreunittest https github com apache hive blob master standalone metastore pom xml l exists metastore server package https github com apache hive blob master standalone metastore metastore server src test java org apache hadoop hive metastore annotation metastoreunittest java tests metastore common package catagory header https github com apache hive blob master standalone metastore metastore common src test java org apache hadoop hive metastore utils retrytest java actually introduced https github com apache hive commit ffa bad e da afc ff diff fcb dda bcba fa b remove group paramenter https github com apache hive blob master standalone metastore pom xml https github com apache hive blob master standalone metastore pom xml l use group parameter run tests standalone metastore common,us group paramet run test standalon metast common inherit group paramet standalon metast pom xml paramet set org apach hadoop hiv metast annot metastoreunittest https github com apach hiv blob mast standalon metast pom xml l ex metast serv pack https github com apach hiv blob mast standalon metast metast serv src test jav org apach hadoop hiv metast annot metastoreunittest jav test metast common pack cat head https github com apach hiv blob mast standalon metast metast common src test jav org apach hadoop hiv metast util retrytest jav act introduc https github com apach hiv commit ffa bad e da afc ff diff fcb dda bcba fa b remov group para https github com apach hiv blob mast standalon metast pom xml https github com apach hiv blob mast standalon metast pom xml l us group paramet run test standalon metast common,NSBR
HIVE-23023,repro code java create table compactionerror int partitioned part string stored orc tblproperties transactional true insert table compactionerror values aa alter table compactionerror add columns newcol string insert table compactionerror values aa alter table compactionerror partition part aa compact minor major code data row look like code java null aa null aa code mr compaction ignores column schema evolution,repro cod jav cre tabl compactioner int partit part string stor orc tblproperties transact tru insert tabl compactioner valu aa alt tabl compactioner ad column newcol string insert tabl compactioner valu aa alt tabl compactioner partit part aa compact min maj cod dat row look lik cod jav nul aa nul aa cod mr compact ign column schema evolv,NSBR
HIVE-23022,arrow deserializer org apache hadoop hive ql io arrow deserializer cases set size hive vector correctly size hive vector set least equal arrow vector able read accommodate fully following exception seen try read using llaparrowrowinputformat table contains complex types struct nested array specific number rows table default batch vector size code java caused java lang arrayindexoutofboundsexception org apache hadoop hive ql io arrow deserializer readstruct deserializer java org apache hadoop hive ql io arrow deserializer read deserializer java org apache hadoop hive ql io arrow deserializer readlist deserializer java org apache hadoop hive ql io arrow deserializer read deserializer java org apache hadoop hive ql io arrow deserializer deserialize deserializer java org apache hadoop hive ql io arrow arrowcolumnarbatchserde deserialize arrowcolumnarbatchserde java org apache hadoop hive llap llaparrowrowrecordreader next llaparrowrowrecordreader java code arrow deserializer ensure size hive vector equal arrow vector,arrow des org apach hadoop hiv ql io arrow des cas set siz hiv vect correct siz hiv vect set least eq arrow vect abl read accommod ful follow exceiv seen try read us llaparrowrowinputform tabl contain complex typ struct nest array spec numb row tabl default batch vect siz cod jav caus jav lang arrayindexoutofboundsexceiv org apach hadoop hiv ql io arrow des readstruct des jav org apach hadoop hiv ql io arrow des read des jav org apach hadoop hiv ql io arrow des readl des jav org apach hadoop hiv ql io arrow des read des jav org apach hadoop hiv ql io arrow des des des jav org apach hadoop hiv ql io arrow arrowcolumnarbatchserd des arrowcolumnarbatchserd jav org apach hadoop hiv llap llaparrowrowrecordread next llaparrowrowrecordread jav cod arrow des ens siz hiv vect eq arrow vect,SBR
HIVE-23021,tried different naming conventions patch file name despite precommit builds getting triggered someone please look apache hive jira https issues apache org jira browse hive precommit builds getting triggered,tri diff nam conv patch fil nam despit precommit build get trig someon pleas look apach hiv jir https issu apach org jir brows hiv precommit build get trig,SBR
HIVE-23019,testtxncommandsformmtable testinsertoverwriteforpartitionedmmtable fixed hive avoid dependent order element returned filesystem liststatus however fix introduced new bug assertion base directory name run second partition instead runs twice first one fix testtxncommandsformmtable test case,testtxncommandsformmt testinsertoverwriteforpartitionedmmt fix hiv avoid depend ord el return filesystem liststat howev fix introduc new bug assert bas direct nam run second partit instead run twic first on fix testtxncommandsformmt test cas,SBR
